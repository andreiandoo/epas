# PostgreSQL Primary Configuration for Streaming Replication
# ==========================================================

# Connection
listen_addresses = '*'
port = 5432
max_connections = 200

# Replication
wal_level = replica
max_wal_senders = 5
max_replication_slots = 5
wal_keep_size = '1GB'
hot_standby = on
synchronous_commit = on

# Performance
shared_buffers = '256MB'
effective_cache_size = '768MB'
work_mem = '4MB'
maintenance_work_mem = '64MB'

# WAL
wal_buffers = '16MB'
checkpoint_completion_target = 0.9
max_wal_size = '2GB'
min_wal_size = '1GB'

# Logging
log_replication_commands = on
log_min_duration_statement = 1000
log_checkpoints = on
log_connections = on
log_disconnections = on

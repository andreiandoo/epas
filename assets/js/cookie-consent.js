const CookieConsent={storageKey:"ambilet_cookie_consent",init(){this.getConsent()||setTimeout(()=>this.showBanner(),1e3),document.getElementById("cookieModal")?.addEventListener("click",e=>{"cookieModal"===e.target.id&&this.closeSettings()})},getConsent(){try{return JSON.parse(localStorage.getItem(this.storageKey))}catch{return null}},setConsent(e){localStorage.setItem(this.storageKey,JSON.stringify({...e,timestamp:Date.now()})),this.hideBanner(),this.closeSettings(),this.applyConsent(e)},applyConsent(e){window.dispatchEvent(new CustomEvent("cookieConsentUpdated",{detail:e})),"undefined"!=typeof gtag&&gtag("consent","update",{ad_storage:e.marketing?"granted":"denied",ad_user_data:e.marketing?"granted":"denied",ad_personalization:e.marketing?"granted":"denied",analytics_storage:e.analytics?"granted":"denied",functionality_storage:e.functional?"granted":"denied",personalization_storage:e.functional?"granted":"denied"}),"undefined"!=typeof fbq&&fbq("consent",e.marketing?"grant":"revoke"),"undefined"!=typeof ttq&&(e.marketing?(ttq.enableCookie(),ttq.grantConsent()):(ttq.disableCookie(),ttq.revokeConsent()))},showBanner(){const e=document.getElementById("cookieBanner");e&&(e.classList.remove("translate-y-full"),e.classList.add("translate-y-0"))},hideBanner(){const e=document.getElementById("cookieBanner");e&&(e.classList.remove("translate-y-0"),e.classList.add("translate-y-full"))},openSettings(){const e=document.getElementById("cookieModal"),t=document.getElementById("cookieModalContent");e&&(e.classList.remove("hidden"),e.classList.add("flex"),setTimeout(()=>{e.classList.remove("opacity-0"),e.classList.add("opacity-100"),t?.classList.remove("scale-95"),t?.classList.add("scale-100")},10));const n=this.getConsent()||{};document.getElementById("cookieFunctional").checked=!1!==n.functional,document.getElementById("cookieAnalytics").checked=!1!==n.analytics,document.getElementById("cookieMarketing").checked=!0===n.marketing},closeSettings(){const e=document.getElementById("cookieModal"),t=document.getElementById("cookieModalContent");e&&(e.classList.remove("opacity-100"),e.classList.add("opacity-0"),t?.classList.remove("scale-100"),t?.classList.add("scale-95"),setTimeout(()=>{e.classList.add("hidden"),e.classList.remove("flex")},300))},acceptAll(){this.setConsent({essential:!0,functional:!0,analytics:!0,marketing:!0})},rejectAll(){this.setConsent({essential:!0,functional:!1,analytics:!1,marketing:!1})},savePreferences(){this.setConsent({essential:!0,functional:document.getElementById("cookieFunctional")?.checked??!1,analytics:document.getElementById("cookieAnalytics")?.checked??!1,marketing:document.getElementById("cookieMarketing")?.checked??!1})}};document.addEventListener("DOMContentLoaded",()=>CookieConsent.init());
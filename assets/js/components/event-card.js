const AmbiletEventCard={PLACEHOLDER:"/assets/images/default-event.png",MONTHS:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],render(e,t={}){const s=e._raw?e:this.normalizeEvent(e);if(!s)return"";const{showCategory:a=!0,showPrice:r=!0,showVenue:l=!0,urlPrefix:i="/bilete/",linkClass:o="",showPromotedBadge:n=!1}=t,d=i+s.slug;let c="";n&&(c='<span class="absolute top-3 left-3 z-10 inline-flex items-center gap-1 px-2 py-1 text-xs font-bold text-white uppercase rounded-lg" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); box-shadow: 0 2px 8px rgba(245, 158, 11, 0.4);"><svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>Promovat</span>');let p,g="";s.isCancelled?g='<span class="absolute px-2 py-1 text-sm font-bold text-white uppercase rounded-lg top-3 right-3 bg-red-600">ANULAT</span>':s.isPostponed?g='<span class="absolute px-2 py-1 text-sm font-bold text-white uppercase rounded-lg top-3 right-3 bg-orange-500">AMÂNAT</span>':s.isSoldOut&&(g='<span class="absolute px-2 py-1 text-sm font-bold text-white uppercase rounded-lg top-3 right-3 bg-gray-600">SOLD OUT</span>'),p=s.isDateRange&&s.dateRangeFormatted?'<div class="px-3 py-2 text-center text-white shadow-lg bg-primary rounded-xl"><span class="block text-xs font-semibold leading-tight">'+this.escapeHtml(s.dateRangeFormatted)+"</span></div>":'<div class="px-3 py-2 text-center text-white shadow-lg bg-primary rounded-xl"><span class="block text-lg font-bold leading-none">'+s.day+'</span><span class="block text-[10px] uppercase tracking-wide mt-0.5">'+s.month+"</span></div>";const m=getStorageUrl(s.posterImage||s.image);return'<a href="'+d+'" class="overflow-hidden transition-all bg-white border group rounded-lg border-border hover:-translate-y-1 hover:shadow-xl hover:border-primary '+o+'"><div class="relative h-40 mobile:h-64 overflow-hidden"><picture><source media="(min-width: 768px)" srcset="'+getStorageUrl(s.heroImage||s.image)+'"><img src="'+m+'" alt="'+this.escapeHtml(s.title)+'" class="object-cover w-full h-full transition-transform duration-300 group-hover:scale-105 rounded-tl-lg rounded-tr-lg" loading="lazy" width="400" height="256" onerror="this.src=\''+this.PLACEHOLDER+"'\"></picture>"+(c||'<div class="absolute top-3 left-3">'+p+"</div>")+g+'</div><div class="py-2"><h3 class="px-3 font-bold leading-snug transition-colors text-secondary group-hover:text-primary line-clamp-2 truncate">'+this.escapeHtml(s.title)+"</h3>"+(l&&s.location?'<p class="px-3 text-sm text-muted flex items-center gap-1 mb-2"><span class="flex-none font-semibold">'+this.escapeHtml(s.venueCity)+'</span><svg class="flex-shrink-0 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/></svg><span class="truncate text-xs">'+this.escapeHtml(s.venueName)+"</span></p>":"")+(r?'<div class="px-3 flex items-center justify-between pt-1 border-t border-border"><span class="font-bold '+(s.isCancelled||s.isPostponed||s.isSoldOut?"text-gray-400 line-through":"text-primary")+'">'+s.priceFormatted+'</span><span class="text-xs '+(s.isCancelled?"text-red-600 font-semibold":s.isPostponed?"text-orange-600 font-semibold":s.isSoldOut?"text-gray-600 font-semibold":"text-muted")+'">'+(s.isCancelled?"Anulat":s.isPostponed?"Amânat":s.isSoldOut?"Sold Out":"")+"</span>"+(a&&s.categoryName?'<span class="mobile:hidden cat-pill font-semibold text-white uppercase rounded-lg bg-black/60 backdrop-blur-sm">'+this.escapeHtml(s.categoryName)+"</span>":"")+"</div>":"")+"</div></a>"},renderMany(e,t={}){return Array.isArray(e)&&0!==e.length?e.map(e=>this.render(e,t)).join(""):""},renderPromoted(e,t={}){const s=e._raw?e:this.normalizeEvent(e);if(!s)return"";const{urlPrefix:a="/bilete/",isPromoted:r=!1}=t,l=a+s.slug;let i,o="";s.isCancelled?o='<span class="absolute px-2 py-1 text-xs font-bold text-white uppercase rounded-lg top-3 right-3 z-10 bg-red-600">ANULAT</span>':s.isPostponed?o='<span class="absolute px-2 py-1 text-xs font-bold text-white uppercase rounded-lg top-3 right-3 z-10 bg-orange-500">AMÂNAT</span>':s.isSoldOut&&(o='<span class="absolute px-2 py-1 text-xs font-bold text-white uppercase rounded-lg top-3 right-3 z-10 bg-gray-600">SOLD OUT</span>'),i=s.isDateRange&&s.dateRangeFormatted?'<div class="px-2 py-1 text-center text-white shadow-lg bg-primary rounded-md"><span class="block text-xs font-semibold leading-tight mobile:text-sm">'+this.escapeHtml(s.dateRangeFormatted)+"</span></div>":'<div class="px-2 py-1 text-center text-white shadow-lg bg-primary rounded-md"><span class="block text-lg font-bold leading-none mobile:text-xl">'+s.day+'</span><span class="block text-[10px] uppercase tracking-wide mt-0.5 mobile:text-sm">'+s.month+"</span></div>";const n=getStorageUrl(s.posterImage||s.image),d=getStorageUrl(s.heroImage||s.image);let c;c=r?'<div class="flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs font-bold text-white uppercase tracking-wide" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);"><svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>Promovat</div>':'<div class="flex items-center justify-center gap-1.5 px-3 py-1.5 text-xs font-bold text-white uppercase tracking-wide bg-red-600"><svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>Recomandat</div>';const p=s.venueCity||s.venueName?'<p class="text-xs text-muted flex items-center gap-1 mobile:text-base"><svg class="flex-shrink-0 w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/></svg><span class="">'+(s.venueCity?s.venueName?"<strong>"+this.escapeHtml(s.venueCity)+"</strong>, "+this.escapeHtml(s.venueName):this.escapeHtml(s.venueCity):this.escapeHtml(s.venueName))+"</span></p>":"";return'<a href="'+l+'" class="overflow-hidden relative transition-all bg-primary border group rounded-md border-transparent hover:-translate-y-1 hover:shadow-xl hover:scale-105 duration-300 ease-in-out"><div class="relative aspect-[2/3] overflow-hidden mobile:aspect-auto"><img src="'+n+'" alt="'+this.escapeHtml(s.title)+'" class="mobile:hidden object-cover w-full h-full transition-transform duration-300" loading="lazy" width="300" height="450" onerror="this.src=\''+this.PLACEHOLDER+'\'"><img src="'+d+'" alt="'+this.escapeHtml(s.title)+'" class="hidden mobile:block object-cover w-full h-52 transition-transform duration-300 relative" loading="lazy" width="400" height="208" onerror="this.src=\''+this.PLACEHOLDER+'\'"><div class="opacity-0 z-10 bg-gradient-to-b from-transparent via-gray-900/70 to-gray-900 w-full h-full bottom-0 absolute transition-opacity duration-250 ease-in-out group-hover:opacity-100 "></div><div class="absolute z-20 bottom-0 flex items-end gap-x-2 p-2"><div class="flex z-10">'+i+'</div><div class="opacity-0 flex flex-col transition-opacity duration-250 ease-in-out group-hover:opacity-100"><h3 class="text-sm font-bold leading-snug transition-colors text-white group-hover:text-white line-clamp-2 pb-1 mobile:text-xl">'+this.escapeHtml(s.title)+"</h3>"+p+"</div></div>"+o+"</div>"+c+"</a>"},renderManyPromoted(e,t={}){return Array.isArray(e)&&0!==e.length?e.map(e=>this.renderPromoted(e,{...t,isPromoted:!0===e.has_paid_promotion})).join(""):""},renderHorizontal(e,t={}){const s=e._raw?e:this.normalizeEvent(e);if(!s)return"";const{urlPrefix:a="/bilete/",showBuyButton:r=!0,showArtists:l=!1,showPrice:i=!0}=t,o=a+s.slug;let n,d="",c="";return i&&(s.isSoldOut?(d='<span class="text-sm font-bold text-red-500">SOLD OUT</span>',c=r?'<button class="py-2.5 px-5 bg-gray-400 rounded-lg text-white text-sm font-semibold cursor-not-allowed" disabled>Indisponibil</button>':""):(d='<div class="text-sm font-bold text-primary">'+s.priceFormatted+"</div>",c=r?'<button class="py-2.5 px-5 bg-secondary hover:bg-secondary/90 rounded-lg text-white text-sm font-semibold transition-all">Cumpără bilete</button>':"")),n=s.isDateRange&&s.dateRangeFormatted?'<div class="flex flex-col items-center justify-center flex-shrink-0 w-28 py-5 text-center bg-gradient-to-br from-primary to-primary-light mobile:max-w-[96px]"><div class="px-2 text-xs font-semibold leading-tight text-white">'+this.escapeHtml(s.dateRangeFormatted)+"</div></div>":'<div class="flex flex-col items-center justify-center flex-shrink-0 w-24 py-5 text-center bg-gradient-to-br from-primary to-primary-light mobile:max-w-[96px]"><div class="text-3xl font-extrabold leading-none text-white">'+s.day+'</div><div class="mt-1 text-sm font-semibold uppercase text-white/90">'+s.month+"</div></div>",'<a href="'+o+'" class="flex bg-white rounded-2xl overflow-hidden border border-border hover:shadow-lg hover:-translate-y-0.5 hover:border-primary transition-all mobile:flex-col justify-between"><div class="flex">'+n+'<div class="flex flex-col justify-center flex-1 px-5 py-4 mobile:py-2 mobile:px-4 mobile:border-b mobile:border-border">'+(s.categoryName?'<div class="mb-1 text-xs font-semibold tracking-wide uppercase text-primary">'+this.escapeHtml(s.categoryName)+"</div>":"")+'<h3 class="mb-2 text-base font-bold leading-tight text-secondary mobile:text-lg mobile:leading-tight">'+this.escapeHtml(s.title)+'</h3><div class="flex flex-wrap gap-x-4 gap-y-1 text-sm text-muted"><span class="flex items-center gap-1 mobile:hidden"><svg class="w-3.5 h-3.5 text-muted/60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>'+s.time+"</span>"+(s.venueName?'<span class="flex items-center gap-1"><svg class="w-3.5 h-3.5 text-muted/60" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/></svg>'+this.escapeHtml(s.venueName)+"</span>":"")+(l&&s.artists&&s.artists.length>0?'<span class="flex items-center gap-1"><svg class="w-3.5 h-3.5 text-muted/60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>'+this.escapeHtml(s.artists.join(", "))+"</span>":"")+"</div></div></div>"+(i?'<div class="py-4 px-5 flex flex-col items-end justify-center gap-1.5 mobile:flex-row mobile:items-center mobile:justify-between mobile:py-2 mobile:px-2">'+d+c+"</div>":"")+"</a>"},renderManyHorizontal(e,t={}){return Array.isArray(e)&&0!==e.length?e.map(e=>this.renderHorizontal(e,t)).join(""):""},renderFeatured(e){const t=e._raw?e:this.normalizeEvent(e);if(!t)return"";const s="/bilete/"+t.slug,a=t.date?t.date.toLocaleDateString("ro-RO",{weekday:"long",day:"numeric",month:"long"}):"";return'<article class="event-card group relative bg-white rounded-3xl overflow-hidden cursor-pointer shadow-lg" onclick="window.location.href=\''+s+'\'"><div class="flex flex-col lg:flex-row"><div class="relative lg:w-2/3 aspect-video lg:aspect-auto overflow-hidden"><img src="'+getStorageUrl(t.image)+'" alt="'+this.escapeHtml(t.title)+'" class="event-image w-full h-full object-cover" loading="lazy" width="800" height="450"><div class="absolute inset-0 bg-gradient-to-t lg:bg-gradient-to-r from-black/60 to-transparent"></div><div class="absolute top-4 left-4"><span class="inline-flex items-center gap-1 px-3 py-1.5 bg-primary text-white text-xs font-semibold rounded-full"><svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>Recomandat</span></div></div><div class="lg:w-1/3 p-6 lg:p-8 flex flex-col justify-center">'+(t.categoryName?'<span class="text-sm font-semibold text-primary mb-2">'+this.escapeHtml(t.categoryName)+"</span>":"")+'<h3 class="text-2xl lg:text-3xl font-bold text-secondary mb-3 group-hover:text-primary transition-colors">'+this.escapeHtml(t.title)+'</h3><div class="space-y-2 mb-6"><div class="flex items-center gap-2 text-muted"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg><span>'+a+"</span></div>"+(t.location?'<div class="flex items-center gap-2 text-muted"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/></svg><span>'+this.escapeHtml(t.location)+"</span></div>":"")+'</div><div class="flex items-center justify-between"><div><span class="text-sm text-muted">De la</span><span class="text-2xl font-bold text-primary ml-1">'+t.priceFormatted+'</span></div><button class="inline-flex items-center gap-2 px-5 py-2.5 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition-colors">Cumpără bilete<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/></svg></button></div></div></div></article>'},renderCompact(e){const t=e._raw?e:this.normalizeEvent(e);if(!t)return"";return'<a href="'+("/bilete/"+t.slug)+'" class="flex gap-4 p-3 rounded-xl hover:bg-surface transition-colors group"><div class="w-16 h-16 rounded-lg overflow-hidden flex-shrink-0"><img src="'+getStorageUrl(t.image)+'" alt="'+this.escapeHtml(t.title)+'" class="w-full h-full object-cover" loading="lazy" width="64" height="64"></div><div class="flex-1 min-w-0"><h4 class="font-semibold text-secondary truncate group-hover:text-primary transition-colors">'+this.escapeHtml(t.title)+'</h4><p class="text-sm text-muted">'+t.day+" "+t.month+"</p>"+(t.venueCity?'<p class="text-sm text-muted truncate">'+this.escapeHtml(t.venueCity)+"</p>":"")+"</div></a>"},renderSkeleton:()=>'<div class="overflow-hidden bg-white border rounded-2xl border-border"><div class="h-48 skeleton"></div><div class="p-5"><div class="w-3/4 mb-2 skeleton skeleton-title"></div><div class="w-1/2 mb-3 skeleton skeleton-text"></div><div class="w-1/3 h-6 skeleton"></div></div></div>',renderSkeletons(e=8){return Array(e).fill(this.renderSkeleton()).join("")},renderSkeletonHorizontal:()=>'<div class="overflow-hidden bg-white border rounded-2xl border-border animate-pulse"><div class="flex"><div class="w-24 h-32 bg-gray-200"></div><div class="flex-1 p-5"><div class="w-16 h-3 mb-2 bg-gray-200 rounded"></div><div class="w-3/4 h-5 mb-3 bg-gray-200 rounded"></div><div class="w-24 h-4 bg-gray-200 rounded"></div></div></div></div>',renderSkeletonsHorizontal(e=3){return Array(e).fill(this.renderSkeletonHorizontal()).join("")},normalizeEvent(e){if(!e)return null;if("undefined"!=typeof AmbiletDataTransformer)return AmbiletDataTransformer.normalizeEvent(e);const t=e.starts_at||e.event_date||e.start_date||e.date,s=t?new Date(t):null;let a="",r="";"string"==typeof e.venue?a=e.venue:e.venue&&"object"==typeof e.venue&&(a=e.venue.name||"",r=e.venue.city||""),!a&&e.venue_name&&(a=e.venue_name),!r&&e.venue_city&&(r=e.venue_city),!r&&e.city&&(r=e.city);let l=0,i=!1;if(e.ticket_types&&Array.isArray(e.ticket_types)&&e.ticket_types.length>0){const t=e.ticket_types.filter(e=>(e.price||0)>0);l=t.length>0?Math.min(...t.map(e=>e.price||0)):0,i=e.ticket_types.length>1}else{l=null!=e.price_from?e.price_from:null!=e.min_price?e.min_price:null!=e.price?e.price:0;const t=e.ticket_types_count;i=null!=t&&t>1}let o="";"string"==typeof e.category?o=e.category:e.category&&"object"==typeof e.category&&(o=e.category.name||"");const n=e.duration_mode||"single_day",d="range"===n||"date_range"===n;let c="";if(d&&e.range_start_date&&e.range_end_date){const t=new Date(e.range_start_date),s=new Date(e.range_end_date),a=t.getDate(),r=this.MONTHS[t.getMonth()],l=s.getDate(),i=this.MONTHS[s.getMonth()],o=t.getFullYear(),n=s.getFullYear();c=o===n?r===i?a+" - "+l+" "+i:a+" "+r+" - "+l+" "+i:a+" "+r+" "+o+" - "+l+" "+i+" "+n}return{id:e.id,slug:e.slug||"",title:e.name||e.title||"Eveniment",image:e.poster_url||e.image_url||e.featured_image||e.image||null,posterImage:e.poster_url||e.image_url||e.image||null,heroImage:e.hero_image_url||e.cover_image_url||e.image_url||e.image||null,date:s,day:s?s.getDate():"",month:s?this.MONTHS[s.getMonth()]:"",time:e.start_time||(t&&"string"==typeof t&&t.includes("T")?t.split("T")[1].substring(0,5):s?String(s.getHours()).padStart(2,"0")+":"+String(s.getMinutes()).padStart(2,"0"):"20:00"),venueName:a,venueCity:r,location:a,minPrice:l,priceFormatted:l>0?(i?'<span class="font-semibold text-slate-700 text-xs">De la</span> ':'<span class="font-semibold text-slate-800 text-xs">Bilete: </span>')+l+" lei":"Gratuit",categoryName:o,isSoldOut:e.is_sold_out||!1,isCancelled:e.is_cancelled||!1,isPostponed:e.is_postponed||!1,postponedDate:e.postponed_date||null,isDateRange:d,dateRangeFormatted:c,artists:e.artists||[],_raw:e}},escapeHtml(e){if(!e)return"";const t=document.createElement("div");return t.textContent=e,t.innerHTML}};window.AmbiletEventCard=AmbiletEventCard;
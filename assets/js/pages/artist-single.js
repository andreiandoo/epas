const ArtistPage={artistSlug:"",artistData:null,isFollowing:!1,monthNames:["IAN","FEB","MAR","APR","MAI","IUN","IUL","AUG","SEP","OCT","NOV","DEC"],elements:{artistHero:"artistHero",heroImage:"heroImage",artistName:"artistName",genreTags:"genreTags",statsContainer:"statsContainer",spotifyListenersCountDiv:"spotifyListenersCount",eventsList:"eventsList",viewAllEventsLink:"viewAllEventsLink",aboutCard:"aboutCard",factsCard:"factsCard",bookingAgencyCard:"bookingAgencyCard",bookingAgencyContent:"bookingAgencyContent",youtubeVideosSection:"youtubeVideosSection",youtubeVideosGrid:"youtubeVideosGrid",galleryGrid:"galleryGrid",spotifySection:"spotifySection",similarArtists:"similarArtists",socialFacebook:"socialFacebook",socialInstagram:"socialInstagram",socialYoutube:"socialYoutube",socialTiktok:"socialTiktok",socialSpotify:"socialSpotify",followBtn:"follow-btn",followIcon:"follow-icon",followText:"follow-text"},init(){this.artistSlug=window.ARTIST_SLUG||"",this.loadArtistData(),this.loadFollowStatus();var e=this;document.addEventListener("keydown",function(t){"Escape"===t.key&&e.closeVideoModal()})},async loadArtistData(){if(!this.artistSlug)return console.error("No artist slug provided"),void this.showNotFound();try{var e=await AmbiletAPI.get("/artists/"+this.artistSlug);if(e.success&&e.data){if(e.data.is_coming_soon)return void this.showComingSoon(e.data);this.artistData=e.data,this.render(this.transformApiData(e.data))}else console.error("Artist not found"),this.showNotFound()}catch(e){console.error("Failed to load artist:",e),this.showNotFound()}},showNotFound(){var e=document.getElementById(this.elements.artistHero);e&&(e.innerHTML='<div class="flex flex-col items-center justify-center h-full bg-gradient-to-br from-gray-100 to-gray-200"><svg class="w-24 h-24 mb-6 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg><h1 class="mb-3 text-3xl font-bold text-gray-700">Artist negăsit</h1><p class="mb-8 text-gray-500">Ne pare rău, nu am putut găsi artistul căutat.</p><a href="/artisti" class="inline-flex items-center gap-2 px-6 py-3 font-semibold text-white transition-all rounded-xl bg-primary hover:bg-primary-dark hover:shadow-lg"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/></svg>Înapoi la artiști</a></div>');var t=document.getElementById("profile-section");t&&(t.style.display="none");var s=document.getElementById("spotifySection");s&&s.closest(".px-6")?.style&&(s.closest(".px-6").style.display="none");var i=document.getElementById("similarArtists");if(i){var o=i.closest("section");o&&o.closest(".px-6")&&(o.closest(".px-6").style.display="none")}document.title="Artist negăsit - "+(window.AMBILET_CONFIG?.SITE_NAME||"Ambilet")},showComingSoon(e){var t=document.getElementById(this.elements.artistHero);if(t){var s=e.image||e.portrait||e.logo?'<img src="'+this.escapeHtml(e.image||e.portrait||e.logo)+'" alt="'+this.escapeHtml(e.name)+'" class="object-cover w-32 h-32 mb-6 rounded-full shadow-lg">':'<svg class="w-32 h-32 mb-6 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>';t.innerHTML='<div class="flex flex-col items-center justify-center h-full bg-gradient-to-br from-primary/5 to-primary/10">'+s+'<h1 class="mb-3 text-3xl font-bold text-gray-800">'+this.escapeHtml(e.name)+'</h1><p class="mb-8 text-gray-600">Detalii despre artist vor fi disponibile în curând.</p><a href="/artisti" class="inline-flex items-center gap-2 px-6 py-3 font-semibold text-white transition-all rounded-xl bg-primary hover:bg-primary-dark hover:shadow-lg"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/></svg>Înapoi la artiști</a></div>'}var i=document.getElementById("profile-section");i&&(i.style.display="none");var o=document.getElementById("spotifySection");o&&o.closest(".px-6")?.style&&(o.closest(".px-6").style.display="none");var a=document.getElementById("similarArtists");if(a){var r=a.closest("section");r&&r.closest(".px-6")&&(r.closest(".px-6").style.display="none")}document.title=e.name+" - "+(window.AMBILET_CONFIG?.SITE_NAME||"Ambilet")},transformApiData(e){var t=this,s=(e.stats?.spotify_listeners||0)+(e.stats?.instagram_followers||0)+(e.stats?.facebook_followers||0)+(e.stats?.youtube_subscribers||0)+(e.stats?.tiktok_followers||0),i=(e.upcoming_events||[]).map(function(e){var s=new Date(e.event_date||e.starts_at);return{slug:e.slug,day:s.getDate().toString().padStart(2,"0"),month:t.monthNames[s.getMonth()],title:e.title||e.name,venue:e.venue?e.venue.name+", "+e.venue.city:"-",time:e.start_time?e.start_time.substring(0,5):"-",price:e.min_price||e.price_from,currency:e.currency||"RON",soldOut:e.is_sold_out||!1,image:e.image||e.image_url}});return{name:e.name,slug:e.slug,image:e.image||e.main_image_url||e.portrait_url||"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=1920&h=800&fit=crop",verified:e.is_verified,genres:(e.genres||[]).map(function(e){return e.name||e}),stats:{spotifyListeners:this.formatNumber(e.stats?.spotify_listeners||0),totalFollowers:this.formatNumber(s),spotifyPopularity:e.stats?.spotify_popularity||0,youtubeViews:this.formatNumber(e.stats?.youtube_total_views||0),upcomingEvents:e.stats?.upcoming_events||i.length,spotifyListenersRaw:e.stats?.spotify_listeners||0},about:e.biography?[e.biography]:["Informații despre acest artist vor fi adăugate în curând."],aboutTranslations:e.biography_translations||{},facts:[{label:"Origine",value:[e.city,e.country].filter(Boolean).join(", ")||"-"},{label:"Gen muzical",value:(e.genres||[]).map(function(e){return e.name||e}).join(", ")||"-"},{label:"Tip",value:(e.types||[]).map(function(e){return e.name||e}).join(", ")||"-"},{label:"Concerte viitoare",value:(e.stats?.upcoming_events||i.length).toString()}],spotifyId:e.external_ids?.spotify_id||e.spotify_id||null,events:i,rawEvents:e.upcoming_events||[],gallery:e.youtube_videos?.length>0?e.youtube_videos.map(function(e){return{url:e.thumbnail,isVideo:!0}}):[],similarArtists:(e.similar_artists||[]).map(function(e){return{slug:e.slug,name:e.name,genre:e.genres?.map(function(e){return e.name||e}).join(", ")||"Artist",image:e.image||e.portrait_url||"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=300&h=300&fit=crop"}}),social:e.social||{},youtubeVideos:e.youtube_videos||[],bookingAgency:e.booking_agency||null}},formatNumber:e=>e&&0!==e?e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e.toString():"0",extractYoutubeId(e){if(!e)return null;for(var t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\s?]+)/,/youtube\.com\/watch\?.*v=([^&\s]+)/],s=0;s<t.length;s++){var i=e.match(t[s]);if(i&&i[1])return i[1]}return null},escapeHtml(e){if(!e)return"";var t=document.createElement("div");return t.textContent=e,t.innerHTML},render(e){document.title=e.name+" - "+(window.AMBILET_CONFIG?.SITE_NAME||"Ambilet");var t=document.getElementById(this.elements.viewAllEventsLink);t&&(t.href="/evenimente?artist="+encodeURIComponent(e.slug||e.name));var s=document.getElementById(this.elements.heroImage);s&&(s.src=e.image,s.alt=e.name,s.onload=function(){s.classList.remove("hidden");var e=document.querySelector(".skeleton-hero");e&&e.classList.add("hidden")});var i=document.getElementById(this.elements.artistName);i&&(i.textContent=e.name),this.renderGenreTags(e.genres),this.renderStats(e.stats),this.updateSocialLinks(e.social),this.updateSpotifyEmbed(e.spotifyId,e.social?.spotify,e.stats?.spotifyListeners),this.renderEvents(e.rawEvents&&e.rawEvents.length>0?e.rawEvents:e.events),this.renderAbout(e.about,e.aboutTranslations),this.renderFacts(e.facts),this.renderBookingAgency(e.bookingAgency),this.renderYoutubeVideos(e.youtubeVideos),this.renderGallery(e.gallery),this.renderSimilarArtists(e.similarArtists)},renderGenreTags(e){var t=document.getElementById(this.elements.genreTags);if(t&&e&&0!==e.length){var s=this;t.innerHTML=e.map(function(e){return'<span class="px-4 py-2 bg-white/20 rounded-full text-[13px] font-medium text-white">'+s.escapeHtml(e)+"</span>"}).join("")}},renderStats(e){var t=document.getElementById(this.elements.statsContainer);if(document.getElementById(this.elements.spotifyListenersCountDiv).innerText=e.spotifyListenersRaw,t){var s='<div class="hidden w-px h-12 bg-gray-200 lg:block"></div>';t.innerHTML='<div class="text-center flex-1 min-w-[100px]"><div class="text-[28px] font-extrabold text-gray-900">'+e.spotifyListeners+'</div><div class="text-[13px] text-gray-500 mt-1">Ascultători lunari</div></div>'+s+'<div class="text-center flex-1 min-w-[100px]"><div class="text-[28px] font-extrabold text-gray-900">'+e.totalFollowers+'</div><div class="text-[13px] text-gray-500 mt-1">Total Followers</div></div>'+s+'<div class="text-center flex-1 min-w-[100px]"><div class="text-[28px] font-extrabold text-gray-900">'+e.spotifyPopularity+'</div><div class="text-[13px] text-gray-500 mt-1">Spotify Popularity</div></div>'+s+'<div class="text-center flex-1 min-w-[100px]"><div class="text-[28px] font-extrabold text-gray-900">'+e.youtubeViews+'</div><div class="text-[13px] text-gray-500 mt-1">YouTube Views</div></div>'}},updateSocialLinks(e){var t={facebook:{id:this.elements.socialFacebook,url:e?.facebook},instagram:{id:this.elements.socialInstagram,url:e?.instagram},youtube:{id:this.elements.socialYoutube,url:e?.youtube},tiktok:{id:this.elements.socialTiktok,url:e?.tiktok},spotify:{id:this.elements.socialSpotify,url:e?.spotify}};for(var s in t){var i=document.getElementById(t[s].id);i&&(t[s].url?(i.href=t[s].url,i.classList.remove("hidden"),i.classList.add("flex")):(i.classList.add("hidden"),i.classList.remove("flex")))}},updateSpotifyEmbed(e,t,s){var i=document.getElementById(this.elements.spotifySection);if(i){var o=i.querySelector('a[target="_blank"]');o&&t&&(o.href=t);var a=i.querySelector("p");a&&s&&(a.innerHTML="Descoperă toate albumele, single-urile și colaborările. <br/>Peste "+s+" ascultători lunari!");var r=i.querySelector(".bg-gray-50.rounded-xl");if(r)if(e){var l=window.innerWidth<768?400:152;r.innerHTML='<iframe style="border-radius:12px" src="https://open.spotify.com/embed/artist/'+e+'?utm_source=generator&theme=0" width="100%" height="'+l+'" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>',r.classList.remove("flex","items-center","justify-center","text-gray-400","text-sm")}else t||(i.style.display="none")}},renderEvents(e){var t=document.getElementById(this.elements.eventsList);t&&(e&&e.length>0?t.innerHTML=AmbiletEventCard.renderManyHorizontal(e,{urlPrefix:"/bilete/",showBuyButton:!0}):t.innerHTML='<div class="py-12 text-center bg-white border border-gray-200 rounded-2xl"><svg class="w-16 h-16 mx-auto mb-4 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg><h3 class="mb-2 text-lg font-semibold text-gray-700">Niciun concert programat</h3><p class="text-sm text-gray-500">Urmărește artistul pentru a fi notificat când apar concerte noi.</p></div>')},renderAbout(e,t){var s=document.getElementById(this.elements.aboutCard);if(s){var i=t?.ro||"",o=t?.en||"",a=i&&o;s.innerHTML=a?'<div class="flex gap-1 p-1 mb-5 bg-gray-100 rounded-xl w-fit" id="aboutTabs"><button onclick="ArtistPage.switchAboutTab(\'ro\')" class="about-tab px-4 py-2 text-sm font-semibold rounded-lg transition-all bg-white text-gray-900 shadow-sm" data-tab="ro"><span class="inline-block w-5 h-3.5 mr-1.5 align-middle rounded-sm overflow-hidden relative" style="top:-1px"><span class="absolute inset-x-0 top-0 h-1/3 bg-[#002B7F]"></span><span class="absolute inset-x-0 top-1/3 h-1/3 bg-[#FCD116]"></span><span class="absolute inset-x-0 bottom-0 h-1/3 bg-[#CE1126]"></span></span>Română</button><button onclick="ArtistPage.switchAboutTab(\'en\')" class="about-tab px-4 py-2 text-sm font-semibold rounded-lg transition-all text-gray-500 hover:text-gray-700" data-tab="en"><span class="inline-block w-5 h-3.5 mr-1.5 align-middle rounded-sm overflow-hidden relative" style="top:-1px"><svg viewBox="0 0 60 30" class="w-full h-full"><clipPath id="t"><rect width="60" height="30"/></clipPath><g clip-path="url(#t)"><rect width="60" height="30" fill="#00247D"/><path d="M0 0l60 30M60 0L0 30" stroke="#fff" stroke-width="6"/><path d="M0 0l60 30M60 0L0 30" clip-path="url(#t)" stroke="#CF142B" stroke-width="4"/><path d="M30 0v30M0 15h60" stroke="#fff" stroke-width="10"/><path d="M30 0v30M0 15h60" stroke="#CF142B" stroke-width="6"/></g></svg></span>English</button></div><div id="aboutContent-ro" class="text-base flex flex-col gap-y-2 leading-[1.8] text-gray-600 prose prose-sm max-w-none">'+i+'</div><div id="aboutContent-en" class="hidden text-base flex flex-col gap-y-2 leading-[1.8] text-gray-600 prose prose-sm max-w-none">'+o+"</div>":e.map(function(e){return'<div class="text-base flex flex-col gap-y-2 leading-[1.8] text-gray-600 mb-4 last:mb-0 prose prose-sm max-w-none">'+e+"</div>"}).join("")}},switchAboutTab(e){document.querySelectorAll("#aboutTabs .about-tab").forEach(function(t){t.dataset.tab===e?t.className="px-4 py-2 text-sm font-semibold text-gray-900 transition-all bg-white rounded-lg shadow-sm about-tab":t.className="px-4 py-2 text-sm font-semibold text-gray-500 transition-all rounded-lg about-tab hover:text-gray-700"});var t=document.getElementById("aboutContent-ro"),s=document.getElementById("aboutContent-en");t&&t.classList.toggle("hidden","ro"!==e),s&&s.classList.toggle("hidden","en"!==e)},renderFacts(e){var t=document.getElementById(this.elements.factsCard);if(t){var s=this,i='<h3 class="flex items-center gap-2 mb-5 text-base font-bold text-gray-900">Quick Facts</h3>';e.forEach(function(e){i+='<div class="flex justify-between py-3.5 border-b border-gray-100 last:border-0"><span class="text-sm text-gray-500">'+s.escapeHtml(e.label)+'</span><span class="text-sm font-semibold text-gray-900">'+s.escapeHtml(e.value)+"</span></div>"}),t.innerHTML=i}},renderBookingAgency(e){var t=document.getElementById(this.elements.bookingAgencyCard),s=document.getElementById(this.elements.bookingAgencyContent);if(t&&s&&e&&(e.name||e.email||e.phone||e.website)){t.classList.remove("hidden");var i="";if(e.name&&(i+='<div class="flex items-start gap-3 py-3"><svg class="w-5 h-5 mt-0.5 text-gray-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/></svg><span class="text-sm font-semibold text-gray-900">'+this.escapeHtml(e.name)+"</span></div>"),e.email&&(i+='<a href="mailto:'+this.escapeHtml(e.email)+'" class="flex items-center gap-3 py-3 text-gray-600 transition-colors hover:text-primary"><svg class="flex-shrink-0 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg><span class="text-sm">'+this.escapeHtml(e.email)+"</span></a>"),e.phone&&(i+='<a href="tel:'+this.escapeHtml(e.phone)+'" class="flex items-center gap-3 py-3 text-gray-600 transition-colors hover:text-primary"><svg class="flex-shrink-0 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg><span class="text-sm">'+this.escapeHtml(e.phone)+"</span></a>"),e.website){var o=e.website.replace(/^https?:\/\//,"");i+='<a href="'+this.escapeHtml(e.website)+'" target="_blank" rel="noopener noreferrer" class="flex items-center gap-3 py-3 text-gray-600 transition-colors hover:text-primary"><svg class="flex-shrink-0 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"/></svg><span class="text-sm">'+this.escapeHtml(o)+"</span></a>"}s.innerHTML=i}},renderYoutubeVideos(e){var t=document.getElementById(this.elements.youtubeVideosSection),s=document.getElementById(this.elements.youtubeVideosGrid);if(t&&s&&e&&0!==e.length){var i=this,o=e.map(function(e){var t=i.extractYoutubeId(e.url);return t?{id:t,title:e.title||"",url:e.url}:null}).filter(Boolean);if(0!==o.length){t.classList.remove("hidden"),this._videoList=o,this._activeVideoIndex=0;var a=o.length;1===a?(s.className="max-w-4xl mx-auto",s.innerHTML=i._videoCard(o[0],"large")):2===a?(s.className="grid grid-cols-1 gap-4 md:grid-cols-2",s.innerHTML=o.map(function(e){return i._videoCard(e,"medium")}).join("")):i._renderPlayerPlaylist(s,o),i._fetchVideoTitles(o)}}},_renderPlayerPlaylist(e,t){var s=this,i=t.length;e.className="grid grid-cols-1 gap-4 lg:grid-cols-4";var o=s.escapeHtml(t[0].title)||"Se incarca...",a='<div class="lg:col-span-3"><div class="overflow-hidden bg-gray-900 rounded-2xl"><div class="relative aspect-video"><iframe id="videoPlayer" class="w-full h-full" src="https://www.youtube.com/embed/'+t[0].id+'?rel=0" title="'+o+'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div><div class="px-5 py-4"><h3 id="videoPlayerTitle" class="text-lg font-semibold text-white truncate">'+o+"</h3></div></div></div>",r='<div class="lg:col-span-1"><div class="overflow-hidden bg-white border border-gray-200 rounded-2xl h-full flex flex-col"><div class="px-4 py-3 border-b border-gray-100 bg-gray-50 flex-shrink-0"><span class="text-sm font-semibold text-gray-700">'+i+' videoclipuri</span></div><div class="overflow-y-auto divide-y divide-gray-100 flex-1" id="videoPlaylist">';t.forEach(function(e,t){var i="https://img.youtube.com/vi/"+e.id+"/mqdefault.jpg",o=0===t?"bg-primary/5 border-l-[3px] border-l-primary":"border-l-[3px] border-l-transparent hover:bg-gray-50",a=s.escapeHtml(e.title)||"Video "+(t+1);r+='<div class="flex gap-3 p-3 transition-colors cursor-pointer playlist-item '+o+'" data-index="'+t+'" onclick="ArtistPage.playVideo('+t+')"><div class="relative flex-shrink-0 overflow-hidden rounded-lg w-28 group"><img src="'+i+'" alt="" class="object-cover w-full h-full aspect-video" loading="lazy"><div class="absolute inset-0 flex items-center justify-center transition-colors bg-black/30 group-hover:bg-black/40"><svg class="w-6 h-6 text-white drop-shadow" viewBox="0 0 24 24" fill="currentColor"><polygon points="5 3 19 12 5 21 5 3"/></svg></div></div><div class="flex-1 min-w-0 py-0.5"><p class="text-[13px] font-medium text-gray-900 line-clamp-2 leading-snug video-title-'+t+'">'+a+'</p><span class="block mt-1 text-xs text-gray-400">YouTube</span></div></div>'}),r+="</div></div></div>",e.innerHTML=a+r},_fetchVideoTitles(e){var t=this;e.forEach(function(e,s){if(!e.title){var i="https://noembed.com/embed?url=https://www.youtube.com/watch?v="+e.id;fetch(i).then(function(e){return e.json()}).then(function(i){if(i.title){e.title=i.title,t._videoList&&t._videoList[s]&&(t._videoList[s].title=i.title);var o=document.querySelector(".video-title-"+s);if(o&&(o.textContent=i.title),t._activeVideoIndex===s){var a=document.getElementById("videoPlayerTitle");a&&(a.textContent=i.title)}var r=document.querySelector("[data-video-title-"+s+"]");r&&(r.textContent=i.title)}}).catch(function(){})}})},playVideo(e){if(this._videoList&&this._videoList[e]){var t=this._videoList[e],s=document.getElementById("videoPlayer"),i=document.getElementById("videoPlayerTitle");s&&(s.src="https://www.youtube.com/embed/"+t.id+"?autoplay=1&rel=0"),i&&(i.textContent=t.title||"Video "+(e+1)),this._activeVideoIndex=e,document.querySelectorAll("#videoPlaylist .playlist-item").forEach(function(t,s){s===e?(t.className=t.className.replace("border-l-transparent","border-l-primary").replace("hover:bg-gray-50",""),t.classList.contains("bg-primary/5")||t.classList.add("bg-primary/5")):(t.className=t.className.replace("border-l-primary","border-l-transparent").replace("bg-primary/5",""),t.classList.contains("hover:bg-gray-50")||t.classList.add("hover:bg-gray-50"))})}},_videoCard(e,t){var s="https://img.youtube.com/vi/"+e.id+"/maxresdefault.jpg",i="https://img.youtube.com/vi/"+e.id+"/hqdefault.jpg",o=this.escapeHtml(e.title),a="large"===t;return'<div class="relative overflow-hidden cursor-pointer group rounded-2xl bg-gray-900" onclick="ArtistPage.openVideoModal(\''+e.id+"', '"+o.replace(/'/g,"\\'")+'\')"><div class="aspect-video"><img src="'+s+'" alt="'+o+'" class="object-cover w-full h-full transition-transform duration-500 group-hover:scale-105" loading="lazy" onerror="this.src=\''+i+'\'"></div><div class="absolute inset-0 transition-colors bg-gradient-to-t from-black/80 via-black/20 to-transparent group-hover:from-black/90"></div><div class="absolute inset-0 flex items-center justify-center"><div class="flex items-center justify-center transition-all duration-300 rounded-full shadow-lg '+(a?"w-20 h-20":"w-16 h-16")+' bg-white/95 group-hover:scale-110 group-hover:bg-white group-hover:shadow-xl"><svg class="'+(a?"w-8 h-8":"w-6 h-6")+' ml-1 text-[#FF0000]" viewBox="0 0 24 24" fill="currentColor"><polygon points="5 3 19 12 5 21 5 3"/></svg></div></div>'+(o?'<div class="absolute bottom-0 left-0 right-0 p-4 '+(a?"pb-5":"pb-4")+'"><h3 class="font-semibold text-white '+(a?"text-lg":"text-[15px]")+' line-clamp-2 drop-shadow-lg">'+o+"</h3></div>":"")+"</div>"},openVideoModal(e,t){var s=document.getElementById("videoModal"),i=document.getElementById("videoModalIframe"),o=document.getElementById("videoModalTitle");s&&i&&(i.src="https://www.youtube.com/embed/"+e+"?autoplay=1&rel=0",o&&(o.textContent=t||""),s.classList.remove("hidden"),s.classList.add("flex"),document.body.style.overflow="hidden")},closeVideoModal(e){if(!e||e.target===e.currentTarget){var t=document.getElementById("videoModal"),s=document.getElementById("videoModalIframe");t&&(t.classList.add("hidden"),t.classList.remove("flex")),s&&(s.src=""),document.body.style.overflow=""}},renderGallery(e){var t=document.getElementById(this.elements.galleryGrid);if(t){var s=this;t.innerHTML=e.map(function(e,t){var i=0===t?"col-span-2 row-span-2":"",o=e.isVideo?'<div class="w-[60px] h-[60px] bg-primary/90 rounded-full flex items-center justify-center opacity-0 scale-75 group-hover:opacity-100 group-hover:scale-100 transition-all"><svg class="w-6 h-6 ml-1 text-white" viewBox="0 0 24 24" fill="currentColor"><polygon points="5 3 19 12 5 21 5 3"/></svg></div>':"";return'<div class="relative overflow-hidden cursor-pointer rounded-xl group '+i+' aspect-square"><img src="'+s.escapeHtml(e.url)+'" alt="Gallery" class="object-cover w-full h-full transition-transform duration-500 group-hover:scale-105" loading="lazy"><div class="absolute inset-0 flex items-center justify-center transition-colors bg-black/0 group-hover:bg-black/30">'+o+"</div></div>"}).join("")}},renderSimilarArtists(e){var t=document.getElementById(this.elements.similarArtists);if(t)if(0!==e.length){var s=this;t.innerHTML=e.map(function(e){return'<a href="/artist/'+s.escapeHtml(e.slug)+'" class="text-center transition-transform group hover:-translate-y-1"><div class="w-full aspect-square rounded-full overflow-hidden mb-3 border-[3px] border-gray-200 group-hover:border-primary transition-colors"><img src="'+s.escapeHtml(e.image)+'" alt="'+s.escapeHtml(e.name)+'" class="object-cover w-full h-full" loading="lazy"></div><h3 class="text-[15px] font-bold text-gray-900 mb-0.5">'+s.escapeHtml(e.name)+'</h3><p class="text-[13px] text-gray-500">'+s.escapeHtml(e.genre)+"</p></a>"}).join("")}else t.parentElement.style.display="none"},async loadFollowStatus(){if(this.artistSlug)try{var e=await AmbiletAPI.checkArtistFavorite(this.artistSlug);e.success&&e.data&&(this.isFollowing=e.data.is_favorite,this.updateFollowButton())}catch(e){console.log("[ArtistPage] Follow status check skipped")}},async toggleFollow(){if(this.artistSlug)if(AmbiletAuth.isLoggedIn())try{var e=await AmbiletAPI.toggleArtistFavorite(this.artistSlug);console.log("[ArtistPage] Toggle follow response:",e),e.success&&e.data&&(this.isFollowing=e.data.is_favorite,this.updateFollowButton())}catch(e){console.error("[ArtistPage] Toggle follow failed:",e),401===e.status&&(window.location.href="/cont/autentificare?redirect="+encodeURIComponent(window.location.pathname))}else window.location.href="/cont/autentificare?redirect="+encodeURIComponent(window.location.pathname)},updateFollowButton(){var e=document.getElementById(this.elements.followBtn),t=document.getElementById(this.elements.followText);e&&t&&(this.isFollowing?(e.classList.remove("from-primary","to-primary-light"),e.classList.add("from-gray-600","to-gray-700"),t.textContent="Urmărești"):(e.classList.remove("from-gray-600","to-gray-700"),e.classList.add("from-primary","to-primary-light"),t.textContent="Urmărește"))}};window.ArtistPage=ArtistPage;
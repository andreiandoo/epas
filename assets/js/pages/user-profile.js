function renderTasteProfile(e){document.getElementById("taste-profile-container").innerHTML=e.map(e=>`\n        <div>\n            <div class="flex items-center justify-between mb-2 text-sm">\n                <span class="flex items-center gap-2 font-medium text-secondary">\n                    <span class="text-lg">${e.emoji}</span> ${e.name}\n                </span>\n                <span class="font-bold text-primary">${e.percent}%</span>\n            </div>\n            <div class="h-3 overflow-hidden rounded-full bg-surface">\n                <div class="taste-bar h-full bg-gradient-to-r ${e.gradient} rounded-full" style="width: ${e.percent}%"></div>\n            </div>\n            ${e.artists?`\n                <p class="mt-1 text-xs text-muted">${e.events} evenimente â€¢ ${e.artists}</p>\n            `:`\n                <p class="mt-1 text-xs text-muted">${e.events} eveniment${e.events>1?"e":""}</p>\n            `}\n        </div>\n    `).join("")}function renderTopArtists(e){document.getElementById("top-artists-container").innerHTML=e.map(e=>`\n        <div class="text-center artist-card">\n            <div class="w-16 h-16 mx-auto mb-2 overflow-hidden rounded-full">\n                <img src="${e.image}" class="object-cover w-full h-full" alt="${e.name}">\n            </div>\n            <p class="text-sm font-semibold text-secondary">${e.name}</p>\n            <p class="text-xs text-muted">${e.concerts} concerte</p>\n        </div>\n    `).join("")}function renderCities(e){document.getElementById("cities-container").innerHTML=e.map(e=>`\n        <div class="flex items-center justify-between">\n            <span class="text-sm text-secondary">${e.name}</span>\n            <div class="flex items-center gap-2">\n                <div class="w-24 h-2 overflow-hidden rounded-full bg-surface">\n                    <div class="h-full rounded-full bg-primary" style="width: ${e.percent}%"></div>\n                </div>\n                <span class="w-8 text-xs text-muted">${e.count}</span>\n            </div>\n        </div>\n    `).join("")}function renderInsights(e){document.getElementById("insights-container").innerHTML=e.map(e=>`\n        <div class="p-4 bg-surface rounded-xl">\n            <div class="flex items-center gap-3 mb-2">\n                <div class="w-10 h-10 ${e.bg} rounded-lg flex items-center justify-center">\n                    <span class="text-lg">${e.icon}</span>\n                </div>\n                <div>\n                    <p class="font-semibold text-secondary">${e.label}</p>\n                    <p class="text-sm text-muted">${e.value}</p>\n                </div>\n            </div>\n        </div>\n    `).join("")}function renderBadges(e){const t=document.getElementById("badges-container"),n=e.slice(0,5).map(e=>`\n        <div class="w-14 h-14 bg-gradient-to-br ${e.gradient} rounded-xl flex items-center justify-center text-2xl" title="${e.name}">${e.emoji}</div>\n    `).join(""),s=Math.max(0,e.length-5),i=s>0?`\n        <div class="flex items-center justify-center border w-14 h-14 bg-surface rounded-xl text-muted border-border" title="Mai multe badge-uri">+${s}</div>\n    `:"";t.innerHTML=n+i}function initActivityChart(e){const t=document.getElementById("activityChart").getContext("2d");new Chart(t,{type:"bar",data:{labels:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Evenimente",data:e,backgroundColor:"rgba(165, 28, 48, 0.8)",borderColor:"#A51C30",borderWidth:0,borderRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,ticks:{stepSize:1},grid:{color:"#E2E8F0"}}}}})}document.addEventListener("DOMContentLoaded",async function(){let e={},t=[],n=[],s=[],i=[],d=[],a=[];try{const r=await AmbiletAPI.customer.getProfile();r.success&&r.data&&(e=r.data.customer||r.data||{},t=r.data.tasteProfile||[],n=r.data.topArtists||[],s=r.data.citiesVisited||[],i=r.data.insights||[],d=r.data.badges?.unlocked||r.data.badges||[],a=r.data.activityData||[])}catch(e){console.error("Failed to load profile data:",e)}document.getElementById("user-initials").textContent=e.initials||"--",document.getElementById("user-name").textContent=e.name||"User",document.getElementById("user-member-since").textContent=e.member_since||"...",document.getElementById("user-level-badge").textContent=e.level||0,document.getElementById("user-type-badge").innerHTML=e.type||"Fan",document.getElementById("user-level-text").textContent="Nivel "+(e.level||0);const r=e.stats||{};document.getElementById("stat-events").textContent=r.events||0,document.getElementById("stat-spent").textContent=(r.spent||0).toLocaleString(),document.getElementById("stat-cities").textContent=r.cities||0,document.getElementById("stat-artists").textContent=r.artists||0,document.getElementById("taste-events-count").textContent=r.events||0,document.getElementById("user-type-title").textContent=e.type||"Fan",document.getElementById("user-type-desc").textContent=e.type_description||"",renderTasteProfile(t),renderTopArtists(n),renderCities(s),renderInsights(i),renderBadges(d),initActivityChart(a)});
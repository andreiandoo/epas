function openTicketDrawer(){document.getElementById("ticketDrawerBackdrop").classList.add("open"),document.getElementById("ticketDrawer").classList.add("open"),document.body.style.overflow="hidden",syncDrawerContent()}function closeTicketDrawer(){document.getElementById("ticketDrawerBackdrop").classList.remove("open"),document.getElementById("ticketDrawer").classList.remove("open"),document.body.style.overflow=""}function toggleDrawerTerms(){var e=document.getElementById("drawer-ticket-terms-content"),t=document.getElementById("drawer-terms-chevron");if(e){var n=e.classList.contains("hidden");e.classList.toggle("hidden",!n),t&&(t.style.transform=n?"rotate(180deg)":"")}}function syncDrawerContent(){const e=document.getElementById("ticket-types"),t=document.getElementById("drawerTicketTypes");e&&t&&(t.innerHTML=e.innerHTML,t.querySelectorAll('[onclick*="EventPage.updateQuantity"]').forEach(e=>{const t=e.getAttribute("onclick");e.setAttribute("onclick",t+"; syncDrawerSummary();")})),syncDrawerSummary()}function syncDrawerSummary(){setTimeout(()=>{const e=document.getElementById("cartSummary"),t=(document.getElementById("emptyCart"),document.getElementById("drawerCartSummary")),n=document.getElementById("drawerEmptyCart"),o=document.getElementById("totalPrice"),c=document.getElementById("drawerTotalPrice"),r=document.getElementById("subtotal"),a=document.getElementById("drawerSubtotal"),d=document.getElementById("taxesContainer"),i=document.getElementById("drawerTaxesContainer"),s=document.getElementById("pointsEarned"),l=document.getElementById("drawerPointsEarned"),m=document.getElementById("drawerPointsRow");if(e&&!e.classList.contains("hidden")){if(t.style.display="block",n.style.display="none",o&&c&&(c.textContent=o.textContent),r&&a&&(a.textContent=r.textContent),d&&i&&(i.innerHTML=d.innerHTML),s&&l){l.textContent=s.textContent;const e=parseInt(s.textContent)||0;m&&(m.style.display=e>0?"flex":"none")}}else t.style.display="none",n.style.display="block";document.querySelectorAll('#ticket-types [id^="qty-"]').forEach(e=>{const t=document.querySelector('#drawerTicketTypes [id="'+e.id+'"]');t&&(t.textContent=e.textContent)}),document.querySelectorAll("#ticket-types .ticket-card").forEach(e=>{const t=e.dataset.ticket,n=document.querySelector('#drawerTicketTypes [data-ticket="'+t+'"]');n&&(e.classList.contains("selected")?n.classList.add("selected"):n.classList.remove("selected"))})},50)}document.addEventListener("DOMContentLoaded",()=>{const e=setInterval(()=>{if("undefined"!=typeof EventPage&&EventPage.event&&EventPage.ticketTypes?.length){if(clearInterval(e),EventPage.eventEnded)return;const t=document.getElementById("mobileTicketBtn"),n=document.getElementById("mobileMinPrice"),o=t?.querySelector("span:not(#mobileMinPrice)");if(t){EventPage.seatingLayout&&EventPage.ticketTypes.some(e=>e.has_seating)&&o&&(o.textContent="Alege locul",t.querySelector("button").setAttribute("onclick","if (EventPage.seatingLayout) { EventPage.openSeatSelection(); } else { openTicketDrawer(); }"));const e=EventPage.ticketTypes.filter(e=>!e.is_sold_out&&e.available>0).map(e=>e.price),c=e.filter(e=>e>0),r=c.length>0?c:e;if(r.length&&n){const e=Math.min(...r);n.textContent=e>0?"De la "+e.toFixed(0)+" lei":"Gratuit"}}}},100)});
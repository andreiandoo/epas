const AmbiletUtils={formatNumber:e=>new Intl.NumberFormat(AMBILET_CONFIG.CURRENCY_LOCALE||"ro-RO").format(e),formatCurrency(e,t=!0){const r=new Intl.NumberFormat(AMBILET_CONFIG.CURRENCY_LOCALE,{minimumFractionDigits:2,maximumFractionDigits:2}).format(e);return t?`${r} ${AMBILET_CONFIG.CURRENCY_SYMBOL}`:r},parseCurrency:e=>"number"==typeof e?e:parseFloat(e.replace(/[^\d.-]/g,""))||0,formatDate(e,t="medium"){const r={short:{day:"numeric",month:"short"},medium:{day:"numeric",month:"long",year:"numeric"},long:{weekday:"long",day:"numeric",month:"long",year:"numeric"},full:{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}};return new Date(e).toLocaleDateString("ro-RO",r[t]||r.medium)},formatTime(e){if(!e)return"";const t=e.split(":");return`${t[0]}:${t[1]}`},formatDateTime(e,t){const r=this.formatDate(e,"medium"),o=t?this.formatTime(t):"";return o?`${r}, ${o}`:r},getRelativeTime(e){const t=new Date,r=new Date(e)-t,o=Math.floor(r/864e5),n=Math.floor(r/36e5),i=Math.floor(r/6e4);return o>30?this.formatDate(e,"medium"):o>1?`în ${o} zile`:1===o?"mâine":0===o&&n>0?`în ${n} ore`:i>0?`în ${i} minute`:0===i?"acum":"trecut"},isPast:e=>new Date(e)<new Date,isToday(e){const t=new Date,r=new Date(e);return t.toDateString()===r.toDateString()},slugify:e=>e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""),truncate:(e,t=100,r="...")=>!e||e.length<=t?e:e.substring(0,t).trim()+r,capitalize:e=>e?e.charAt(0).toUpperCase()+e.slice(1):"",generateId:(e="")=>e+Math.random().toString(36).substring(2,11),getUrlParam:e=>new URLSearchParams(window.location.search).get(e),setUrlParam(e,t){const r=new URL(window.location);t?r.searchParams.set(e,t):r.searchParams.delete(e),window.history.replaceState({},"",r)},buildUrl(e,t={}){const r=new URL(e,window.location.origin);return Object.entries(t).forEach(([e,t])=>{null!=t&&""!==t&&r.searchParams.set(e,t)}),r.toString()},isValidEmail:e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),isValidPhone:e=>/^(\+40|0)[0-9]{9}$/.test(e.replace(/\s/g,"")),checkPasswordStrength(e){let t=0;const r=[];e.length>=8?t++:r.push("Minim 8 caractere"),/[a-z]/.test(e)&&/[A-Z]/.test(e)?t++:r.push("Litere mari și mici"),/[0-9]/.test(e)?t++:r.push("Cel puțin o cifră"),/[^a-zA-Z0-9]/.test(e)?t++:r.push("Un caracter special");return{score:t,label:["Foarte slabă","Slabă","Medie","Bună","Excelentă"][t],feedback:r.join(", "),isStrong:t>=3}},debounce(e,t=300){let r;return function(...o){clearTimeout(r),r=setTimeout(()=>{clearTimeout(r),e(...o)},t)}},throttle(e,t=300){let r;return function(...o){r||(e(...o),r=!0,setTimeout(()=>r=!1,t))}},waitForElement:(e,t=5e3)=>new Promise((r,o)=>{const n=document.querySelector(e);if(n)return void r(n);const i=new MutationObserver((t,o)=>{const n=document.querySelector(e);n&&(o.disconnect(),r(n))});i.observe(document.body,{childList:!0,subtree:!0}),setTimeout(()=>{i.disconnect(),o(new Error(`Element ${e} not found within ${t}ms`))},t)}),scrollTo(e,t=100){const r="string"==typeof e?document.querySelector(e):e;if(!r)return;const o=r.getBoundingClientRect().top+window.pageYOffset-t;window.scrollTo({top:o,behavior:"smooth"})},async copyToClipboard(e){try{return await navigator.clipboard.writeText(e),!0}catch(t){const r=document.createElement("textarea");r.value=e,r.style.position="fixed",r.style.opacity="0",document.body.appendChild(r),r.select();const o=document.execCommand("copy");return document.body.removeChild(r),o}},getStorage(e,t=null){try{const r=localStorage.getItem(e);return r?JSON.parse(r):t}catch{return t}},setStorage(e,t){try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch{return!1}},getImageUrl(e,t="event"){if(e)return e;switch(t){case"artist":return AMBILET_CONFIG.PLACEHOLDER_ARTIST;case"organizer":return AMBILET_CONFIG.PLACEHOLDER_ORGANIZER;default:return AMBILET_CONFIG.PLACEHOLDER_EVENT}},preloadImage:e=>new Promise((t,r)=>{const o=new Image;o.onload=()=>t(o),o.onerror=r,o.src=e}),deepClone:e=>JSON.parse(JSON.stringify(e)),isEmpty:e=>!e||(Array.isArray(e)?0===e.length:"object"==typeof e&&0===Object.keys(e).length),groupBy:(e,t)=>e.reduce((e,r)=>{const o="function"==typeof t?t(r):r[t];return(e[o]=e[o]||[]).push(r),e},{}),sortBy:(e,t,r="asc")=>[...e].sort((e,o)=>{const n="function"==typeof t?t(e):e[t],i="function"==typeof t?t(o):o[t];return n<i?"asc"===r?-1:1:n>i?"asc"===r?1:-1:0}),formatFileSize(e){if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},getQRCodeUrl:(e,t=200)=>`https://api.qrserver.com/v1/create-qr-code/?size=${t}x${t}&data=${encodeURIComponent(e)}`};window.AmbiletUtils=AmbiletUtils,window.formatNumber=AmbiletUtils.formatNumber.bind(AmbiletUtils),window.formatCurrency=AmbiletUtils.formatCurrency.bind(AmbiletUtils),window.formatDate=AmbiletUtils.formatDate.bind(AmbiletUtils),window.debounce=AmbiletUtils.debounce,window.throttle=AmbiletUtils.throttle;
const AmbiletAPI={getApiUrl:()=>window.AMBILET?.apiUrl||"/api/proxy.php",async request(e,t={}){const r=this.getApiUrl(),[s,n]=e.split("?"),o=this.getProxyAction(s),i=this.getProxyParams(s);if(!o)throw new APIError(`Unknown endpoint: ${e}`,400);let a=`${r}?action=${o}`;i&&(a+="&"+i),n&&(a+="&"+n);const c={"Content-Type":"application/json",Accept:"application/json",...t.headers},m="undefined"!=typeof AmbiletAuth?AmbiletAuth.getToken():null;m&&(c.Authorization=`Bearer ${m}`);try{const e=await fetch(a,{...t,headers:c}),r=await e.json();if(!e.ok)throw new APIError(r.message||r.error||"An error occurred",e.status,r.errors);return r}catch(e){if(e instanceof APIError)throw e;throw new APIError("Network error. Please check your connection.",0)}},getProxyAction:e=>"/customer/register"===e?"customer.register":"/customer/login"===e?"customer.login":"/customer/logout"===e?"customer.logout":"/customer/me"===e?"customer.me":"/customer/profile"===e?"customer.profile":"/customer/password"===e?"customer.password":"/customer/account"===e?"customer.account":"/customer/settings"===e?"customer.settings":"/customer/forgot-password"===e?"customer.forgot-password":"/customer/reset-password"===e?"customer.reset-password":"/customer/verify-email"===e?"customer.verify-email":"/customer/resend-verification"===e?"customer.resend-verification":e.match(/\/order-confirmation\/[\w-]+$/)?"order-confirmation":e.match(/\/customer\/orders\/[\w-]+$/)?"customer.order":"/customer/orders"===e||e.includes("/customer/orders?")?"customer.orders":e.includes("/customer/tickets/all")?"customer.tickets.all":e.match(/\/customer\/tickets\/\d+$/)?"customer.ticket":e.includes("/customer/tickets")?"customer.tickets":e.includes("/customer/stats/upcoming-events")?"customer.upcoming-events":e.includes("/customer/stats")?"customer.stats.dashboard":e.includes("/customer/reviews/events-to-review")?"customer.reviews.to-write":e.match(/\/customer\/reviews\/\d+$/)&&e.includes("DELETE")?"customer.review.delete":e.match(/\/customer\/reviews\/\d+$/)?"customer.review.show":"/customer/reviews"===e||e.includes("/customer/reviews?")?"customer.reviews":e.includes("/customer/watchlist/check")?"customer.watchlist.check":e.match(/\/customer\/watchlist\/\d+$/)?"customer.watchlist.remove":"/customer/watchlist"===e||e.includes("/customer/watchlist?")?"customer.watchlist":e.includes("/customer/rewards/history")?"customer.rewards.history":e.includes("/customer/rewards/badges")?"customer.badges":e.includes("/customer/rewards/available")?"customer.rewards.available":e.includes("/customer/rewards/redeem")?"customer.rewards.redeem":e.includes("/customer/rewards/redemptions")?"customer.rewards.redemptions":"/customer/rewards"===e||e.includes("/customer/rewards?")?"customer.rewards":e.includes("/customer/notifications/unread-count")?"customer.notifications.unread-count":e.includes("/customer/notifications/mark-read")?"customer.notifications.read":e.includes("/customer/notifications/settings")?"customer.notifications.settings":e.match(/\/customer\/notifications\/\d+$/)?"customer.notification.delete":"/customer/notifications"===e||e.includes("/customer/notifications?")?"customer.notifications":e.includes("/customer/referrals/regenerate-code")?"customer.referrals.regenerate":e.includes("/customer/referrals/track-click")?"customer.referrals.track-click":e.includes("/customer/referrals/leaderboard")?"customer.referrals.leaderboard":e.includes("/customer/referrals/claim-rewards")?"customer.referrals.claim-rewards":e.includes("/customer/referrals/validate")?"customer.referrals.validate":"/customer/referrals"===e||e.includes("/customer/referrals?")?"customer.referrals":"/organizer/event-categories"===e?"organizer.event-categories":"/organizer/event-genres"===e||e.includes("/organizer/event-genres?")?"organizer.event-genres":"/organizer/venues"===e||e.includes("/organizer/venues?")?"organizer.venues":"/organizer/artists"===e||e.includes("/organizer/artists?")?"organizer.artists":"/newsletter/subscribe"===e?"newsletter.subscribe":e.includes("/search")?"search":e.includes("/marketplace-events/categories")?"categories":e.includes("/marketplace-events/cities")?"cities":e.match(/\/marketplace-events\/[a-z0-9-]+$/i)?"event":e.includes("/marketplace-events")?"events":"/customer/favorites/artists"===e?"customer.favorites.artists":"/customer/favorites/venues"===e?"customer.favorites.venues":"/customer/favorites/summary"===e?"customer.favorites.summary":e.match(/\/venue-categories\/[a-z0-9-]+$/i)?"venue-category":e.includes("/venue-categories")?"venue-categories":e.includes("/venues/featured")?"venues.featured":e.match(/\/venues\/[a-z0-9-]+\/toggle-favorite$/i)?"venue.toggle-favorite":e.match(/\/venues\/[a-z0-9-]+\/check-favorite$/i)?"venue.check-favorite":e.match(/\/venues\/[a-z0-9-]+$/i)?"venue":e.includes("/venues")?"venues":e.includes("/artists/featured")?"artists.featured":e.includes("/artists/trending")?"artists.trending":e.includes("/artists/genre-counts")?"artists.genre-counts":e.includes("/artists/alphabet")?"artists.alphabet":e.match(/\/artists\/[a-z0-9-]+\/toggle-favorite$/i)?"artist.toggle-favorite":e.match(/\/artists\/[a-z0-9-]+\/check-favorite$/i)?"artist.check-favorite":e.match(/\/artists\/[a-z0-9-]+\/events/i)?"artist.events":e.match(/\/artists\/[a-z0-9-]+$/i)?"artist":e.includes("/artists")?"artists":e.includes("/locations/stats")?"locations.stats":e.includes("/locations/cities/featured")?"locations.cities.featured":e.includes("/locations/cities/alphabet")?"locations.cities.alphabet":e.match(/\/locations\/cities\/[a-z0-9-]+$/i)?"locations.city":e.includes("/locations/cities")?"locations.cities":e.match(/\/locations\/regions\/[a-z0-9-]+$/i)?"locations.region":e.includes("/locations/regions")?"locations.regions":e.includes("/cart/items/with-seats")?"cart.items.add-with-seats":e.includes("/cart/seats")?"cart.seats.release":e.match(/\/cart\/items\/[^/]+$/)?"cart.items.manage":e.includes("/cart/items")?"cart.items.add":e.includes("/cart/promo-code")?"cart.promo-code":e.includes("/cart")?"cart":"/promo-codes/validate"===e?"promo-codes.validate":"/checkout.features"===e||"/checkout/features"===e?"checkout.features":e.includes("/checkout")?"checkout":e.match(/\/orders\/\d+\/pay$/)?"orders.pay":e.match(/\/orders\/\d+\/payment-status$/)?"orders.status":e.match(/\/events\/[a-z0-9-]+\/track-view$/i)?"event.track-view":e.match(/\/events\/[a-z0-9-]+\/toggle-interest$/i)?"event.toggle-interest":e.match(/\/events\/[a-z0-9-]+\/check-interest$/i)?"event.check-interest":e.includes("/events/featured")?"events.featured":e.includes("/events/cities")?"events.cities":e.match(/^\/events\/[a-z0-9-]+$/i)?"event":e.startsWith("/events")?"events":e.includes("event-categories")?"event-categories":e.includes("/event-genres")?"event-genres":e.startsWith("/subgenres")?"subgenres":e.startsWith("/cities")?"cities":"/organizer/register"===e?"organizer.register":"/organizer/login"===e?"organizer.login":"/organizer/logout"===e?"organizer.logout":"/organizer/me"===e||"/organizer/settings"===e?"organizer.me":"/organizer/settings/profile"===e||"/organizer/settings/company"===e?"organizer.profile":"/organizer/settings/password"===e?"organizer.password":"/organizer/settings/verify-cui"===e?"organizer.verify-cui":"/organizer/settings/notifications"===e?"organizer.notifications":"/organizer/contract"===e?"organizer.contract":"/organizer/contract/download"===e?"organizer.contract.download":"/organizer/documents/upload"===e?"organizer.documents.upload":"/organizer/profile"===e?"organizer.profile":"/organizer/password"===e?"organizer.password":"/organizer/forgot-password"===e?"organizer.forgot-password":"/organizer/reset-password"===e?"organizer.reset-password":"/organizer/verify-email"===e?"organizer.verify-email":"/organizer/resend-verification"===e?"organizer.resend-verification":"/organizer/payout-details"===e?"organizer.payout-details":"/organizer/bank-accounts"===e?"organizer.bank-accounts":e.match(/\/organizer\/bank-accounts\/\d+$/)?"organizer.bank-account.delete":e.match(/\/organizer\/bank-accounts\/\d+\/primary$/)?"organizer.bank-account.primary":e.includes("/organizer/notifications/types")?"organizer.notifications.types":e.includes("/organizer/notifications/unread-count")?"organizer.notifications.unread-count":e.includes("/organizer/notifications/mark-read")?"organizer.notifications.mark-read":e.includes("/organizer/notifications/mark-all-read")?"organizer.notifications.mark-all-read":e.match(/\/organizer\/notifications\/\d+\/read$/)?"organizer.notifications.read":"/organizer/notifications"===e||e.includes("/organizer/notifications?")?"organizer.notifications":"/organizer/dashboard"===e?"organizer.dashboard":"/organizer/dashboard/timeline"===e?"organizer.dashboard.timeline":e.includes("/organizer/dashboard/sales-timeline")?"organizer.dashboard.sales-timeline":e.match(/\/organizer\/events\/\d+\/analytics/)?"organizer.event.analytics":e.match(/\/organizer\/events\/\d+\/goals\/\d+$/)?"organizer.event.goal":e.match(/\/organizer\/events\/\d+\/goals$/)?"organizer.event.goals":e.match(/\/organizer\/events\/\d+\/milestones\/\d+$/)?"organizer.event.milestone":e.match(/\/organizer\/events\/\d+\/milestones$/)?"organizer.event.milestones":e.match(/\/organizer\/events\/\d+\/participants\/export$/)?"organizer.event.participants.export":e.match(/\/organizer\/events\/\d+\/participants$/)?"organizer.event.participants":e.match(/\/organizer\/events\/\d+\/check-in\//)?"organizer.event.checkin":e.match(/\/organizer\/events\/\d+\/submit$/)?"organizer.event.submit":e.match(/\/organizer\/events\/\d+\/cancel$/)?"organizer.event.cancel":e.match(/\/organizer\/events\/\d+\/status$/)?"organizer.event.status":e.match(/\/organizer\/events\/\d+$/)?"organizer.event":"/organizer/events"===e||e.includes("/organizer/events?")?"organizer.events":"/organizer/orders"===e||e.includes("/organizer/orders?")?"organizer.orders":"/organizer/balance"===e?"organizer.balance":"/organizer/finance"===e?"organizer.finance":"/organizer/transactions"===e||e.includes("/organizer/transactions?")?"organizer.transactions":e.match(/\/organizer\/payouts\/\d+$/)?"organizer.payout":"/organizer/payouts"===e||e.includes("/organizer/payouts?")?"organizer.payouts":e.match(/\/organizer\/promo-codes\/\d+$/)?"organizer.promo-code":"/organizer/promo-codes"===e||e.includes("/organizer/promo-codes?")?"organizer.promo-codes":"/organizer/team"===e?"organizer.team":"/organizer/team/invite"===e?"organizer.team.invite":"/organizer/team/update"===e?"organizer.team.update":"/organizer/team/remove"===e?"organizer.team.remove":"/organizer/team/resend-invite"===e?"organizer.team.resend-invite":"/organizer/team/resend-all-invites"===e?"organizer.team.resend-all-invites":e.match(/\/organizer\/invoices\/\d+\/pdf$/)?"organizer.invoice.pdf":e.match(/\/organizer\/invoices\/export/)?"organizer.invoices.export":e.match(/\/organizer\/invoices\/\d+$/)?"organizer.invoice":"/organizer/invoices"===e||e.includes("/organizer/invoices?")?"organizer.invoices":"/organizer/billing-info"===e?"organizer.billing-info":"/organizer/payment-methods"===e?"organizer.payment-methods":"/organizer/participants"===e||e.includes("/organizer/participants?")?"organizer.participants":"/organizer/participants/checkin"===e?"organizer.participants.checkin":e.match(/\/organizer\/share-links\/[A-Za-z0-9]+$/)?"organizer.share-link":"/organizer/share-links"===e?"organizer.share-links":"/organizer/api-key"===e?"organizer.api-key":"/organizer/api-key/regenerate"===e?"organizer.api-key.regenerate":"/organizer/webhook"===e?"organizer.webhook":"/organizer/documents/events"===e?"organizer.documents.events":"/organizer/documents/generate"===e?"organizer.documents.generate":e.match(/\/organizer\/documents\/event\/\d+$/)?"organizer.documents.for-event":e.match(/\/organizer\/documents\/\d+\/download$/)?"organizer.documents.download":e.match(/\/organizer\/documents\/\d+\/view$/)?"organizer.documents.view":"/organizer/documents"===e||e.includes("/organizer/documents?")?"organizer.documents":"/organizer/services/pricing"===e?"organizer.services.pricing":"/organizer/services/stats"===e?"organizer.services.stats":"/organizer/services/types"===e?"organizer.services.types":"/organizer/services/email-audiences"===e||e.includes("/organizer/services/email-audiences?")?"organizer.services.email-audiences":e.match(/\/organizer\/services\/orders\/[^\/\?]+\/pay$/)?"organizer.services.orders.pay":e.match(/\/organizer\/services\/orders\/[^\/\?]+\/cancel$/)?"organizer.services.orders.cancel":e.match(/\/organizer\/services\/orders\/[^\/\?]+$/)?"organizer.services.orders.show":"/organizer/services/orders"===e||e.includes("/organizer/services/orders?")?"organizer.services.orders":null,getProxyParams(e){const t=e.match(/\/order-confirmation\/([\w-]+)$/);if(t)return`id=${encodeURIComponent(t[1])}`;const r=e.match(/\/customer\/orders\/([\w-]+)$/);if(r)return`id=${encodeURIComponent(r[1])}`;const s=e.match(/\/customer\/tickets\/(\d+)/);if(s)return`id=${encodeURIComponent(s[1])}`;const n=e.match(/\/customer\/reviews\/(\d+)/);if(n)return`id=${encodeURIComponent(n[1])}`;const o=e.match(/\/customer\/watchlist\/(\d+)/);if(o)return`id=${encodeURIComponent(o[1])}`;const i=e.match(/\/customer\/notifications\/(\d+)/);if(i)return`id=${encodeURIComponent(i[1])}`;const a=e.match(/\/orders\/(\d+)\/(pay|payment-status)$/);if(a)return`id=${encodeURIComponent(a[1])}`;const c=e.match(/\/marketplace-events\/([a-z0-9-]+)$/i);if(c)return`slug=${encodeURIComponent(c[1])}`;const m=e.match(/\/events\/([a-z0-9-]+)\/(track-view|toggle-interest|check-interest)$/i);if(m)return`slug=${encodeURIComponent(m[1])}`;const u=e.match(/\/venue-categories\/([a-z0-9-]+)$/i);if(u)return`slug=${encodeURIComponent(u[1])}`;const g=e.match(/\/venues\/([a-z0-9-]+)\/(toggle-favorite|check-favorite)/i);if(g)return`slug=${encodeURIComponent(g[1])}`;const d=e.match(/\/venues\/([a-z0-9-]+)$/i);if(d)return`slug=${encodeURIComponent(d[1])}`;const l=e.match(/\/artists\/([a-z0-9-]+)\/(toggle-favorite|check-favorite)/i);if(l)return`slug=${encodeURIComponent(l[1])}`;const v=e.match(/\/artists\/([a-z0-9-]+)\/events/i);if(v){const t=v[1],r=e.indexOf("?");return-1!==r?`slug=${encodeURIComponent(t)}&${e.substring(r+1)}`:`slug=${encodeURIComponent(t)}`}const p=e.match(/\/artists\/([a-z0-9-]+)$/i);if(p)return`slug=${encodeURIComponent(p[1])}`;const z=e.match(/\/locations\/cities\/([a-z0-9-]+)$/i);if(z)return`slug=${encodeURIComponent(z[1])}`;const h=e.match(/\/locations\/regions\/([a-z0-9-]+)$/i);if(h)return`slug=${encodeURIComponent(h[1])}`;const f=e.match(/\/organizer\/events\/(\d+)\/analytics/);if(f){const t=f[1],r=e.indexOf("?");return-1!==r?`event_id=${encodeURIComponent(t)}&${e.substring(r+1)}`:`event_id=${encodeURIComponent(t)}`}const A=e.match(/\/organizer\/events\/(\d+)\/goals\/(\d+)$/);if(A)return`event_id=${encodeURIComponent(A[1])}&goal_id=${encodeURIComponent(A[2])}`;const y=e.match(/\/organizer\/events\/(\d+)\/goals$/);if(y)return`event_id=${encodeURIComponent(y[1])}`;const b=e.match(/\/organizer\/events\/(\d+)\/milestones\/(\d+)$/);if(b)return`event_id=${encodeURIComponent(b[1])}&milestone_id=${encodeURIComponent(b[2])}`;const $=e.match(/\/organizer\/events\/(\d+)\/milestones$/);if($)return`event_id=${encodeURIComponent($[1])}`;const I=e.match(/\/organizer\/events\/(\d+)\/participants/);if(I){const t=I[1],r=e.indexOf("?");return-1!==r?`event_id=${encodeURIComponent(t)}&${e.substring(r+1)}`:`event_id=${encodeURIComponent(t)}`}const w=e.match(/\/organizer\/events\/(\d+)\/check-in\/(.+)/);if(w)return`event_id=${encodeURIComponent(w[1])}&barcode=${encodeURIComponent(w[2])}`;const P=e.match(/\/organizer\/events\/(\d+)\/(submit|cancel|status)$/);if(P)return`event_id=${encodeURIComponent(P[1])}`;const k=e.match(/\/organizer\/events\/(\d+)$/);if(k)return`event_id=${encodeURIComponent(k[1])}`;const C=e.match(/\/organizer\/payouts\/(\d+)$/);if(C)return`payout_id=${encodeURIComponent(C[1])}`;const R=e.match(/\/organizer\/bank-accounts\/(\d+)\/primary$/);if(R)return`account_id=${encodeURIComponent(R[1])}`;const U=e.match(/\/organizer\/bank-accounts\/(\d+)$/);if(U)return`account_id=${encodeURIComponent(U[1])}`;const _=e.match(/\/organizer\/promo-codes\/(\d+)$/);if(_)return`code_id=${encodeURIComponent(_[1])}`;const E=e.match(/\/organizer\/invoices\/(\d+)\/pdf$/);if(E)return`invoice_id=${encodeURIComponent(E[1])}`;const T=e.match(/\/organizer\/invoices\/(\d+)$/);if(T)return`invoice_id=${encodeURIComponent(T[1])}`;const x=e.match(/\/organizer\/notifications\/(\d+)\/read$/);if(x)return`id=${encodeURIComponent(x[1])}`;const O=e.match(/\/organizer\/share-links\/([A-Za-z0-9]+)$/);if(O)return`code=${encodeURIComponent(O[1])}`;const S=e.match(/\/organizer\/documents\/event\/(\d+)$/);if(S)return`event_id=${encodeURIComponent(S[1])}`;const F=e.match(/\/organizer\/documents\/(\d+)\/download$/);if(F)return`document_id=${encodeURIComponent(F[1])}`;const N=e.match(/\/organizer\/documents\/(\d+)\/view$/);if(N)return`document_id=${encodeURIComponent(N[1])}`;const V=e.match(/\/organizer\/services\/orders\/([^\/\?]+)/);if(V)return`uuid=${encodeURIComponent(V[1])}`;const q=e.match(/\/cart\/items\/([^/?]+)$/);if(q&&"with-seats"!==q[1])return`item_key=${encodeURIComponent(q[1])}`;const L=e.indexOf("?");return-1!==L?e.substring(L+1):""},async get(e,t={}){const r=new URLSearchParams(t).toString(),s=r?`${e}?${r}`:e;return this.request(s,{method:"GET"})},async post(e,t={}){return this.request(e,{method:"POST",body:JSON.stringify(t)})},async put(e,t={}){return this.request(e,{method:"PUT",body:JSON.stringify(t)})},async patch(e,t={}){return this.request(e,{method:"PATCH",body:JSON.stringify(t)})},async delete(e){return this.request(e,{method:"DELETE"})},async getConfig(){return this.get("/config")},async getEvents(e={}){return this.get("/marketplace-events",e)},async getFeaturedEvents(e=6){return this.get("/marketplace-events/featured",{limit:e})},async getCategories(){return this.get("/marketplace-events/categories")},async getCities(){return this.get("/marketplace-events/cities")},async getEvent(e,t={}){return this.get(`/marketplace-events/${e}`,t)},async getEventAvailability(e){return this.get(`/marketplace-events/${e}/availability`)},getTrackingParams(){const e=new URLSearchParams(window.location.search),t={};["utm_source","utm_medium","utm_campaign","utm_term","utm_content"].forEach(r=>{const s=e.get(r);s&&(t[r]=s)});["gclid","fbclid","ttclid","li_fat_id"].forEach(r=>{const s=e.get(r);s&&(t[r]=s)});["fbc","fbp"].forEach(r=>{const s=e.get(r);s&&(t[r]=s)});try{const e=document.cookie.split(";").reduce((e,t)=>{const[r,s]=t.trim().split("=");return e[r]=s,e},{});e._fbc&&!t.fbc&&(t.fbc=e._fbc),e._fbp&&!t.fbp&&(t.fbp=e._fbp)}catch(e){}try{const e=document.referrer;if(e){const r=new URL(e),s=new URL(window.location.href);r.hostname!==s.hostname&&(t.referrer=e)}}catch(e){}return t},async trackEventView(e){const t=this.getTrackingParams();return this.post(`/events/${e}/track-view`,t)},async toggleEventInterest(e){return this.post(`/events/${e}/toggle-interest`)},async checkEventInterest(e){return this.get(`/events/${e}/check-interest`)},async toggleArtistFavorite(e){return this.post(`/artists/${e}/toggle-favorite`)},async checkArtistFavorite(e){return this.get(`/artists/${e}/check-favorite`)},async toggleVenueFavorite(e){return this.post(`/venues/${e}/toggle-favorite`)},async checkVenueFavorite(e){return this.get(`/venues/${e}/check-favorite`)},async getFavoriteArtists(){return this.get("/customer/favorites/artists")},async getFavoriteVenues(){return this.get("/customer/favorites/venues")},async getFavoritesSummary(){return this.get("/customer/favorites/summary")},async getVenue(e){return this.get(`/venues/${e}`)},async getVenues(e={}){return this.get("/venues",e)},async getVenueCategories(){return this.get("/venue-categories")},async getFeaturedVenues(e=6){return this.get("/venues/featured",{limit:e})},async validatePromoCode(e,t,r,s,n=null){return this.post("/promo-codes/validate",{code:e,event_id:t,cart_total:r,ticket_count:s,customer_email:n})},customer:{register:async e=>AmbiletAPI.post("/customer/register",e),login:async(e,t)=>AmbiletAPI.post("/customer/login",{email:e,password:t}),logout:async()=>AmbiletAPI.post("/customer/logout"),getProfile:async()=>AmbiletAPI.get("/customer/me"),updateProfile:async e=>AmbiletAPI.put("/customer/profile",e),changePassword:async(e,t,r)=>AmbiletAPI.put("/customer/password",{current_password:e,password:t,password_confirmation:r}),forgotPassword:async e=>AmbiletAPI.post("/customer/forgot-password",{email:e}),resetPassword:async(e,t,r,s)=>AmbiletAPI.post("/customer/reset-password",{token:e,email:t,password:r,password_confirmation:s}),deleteAccount:async(e,t=null)=>AmbiletAPI.delete("/customer/account",{password:e,reason:t}),verifyEmail:async e=>AmbiletAPI.post("/customer/verify-email",{token:e}),getOrders:async(e={})=>AmbiletAPI.get("/customer/orders",e),getOrder:async e=>AmbiletAPI.get(`/customer/orders/${e}`),getTickets:async(e={})=>AmbiletAPI.get("/customer/tickets",e),getAllTickets:async(e="all",t={})=>AmbiletAPI.get("/customer/tickets/all",{filter:e,...t}),getTicket:async e=>AmbiletAPI.get(`/customer/tickets/${e}`),getDashboardStats:async()=>AmbiletAPI.get("/customer/stats"),getUpcomingEvents:async(e=5)=>AmbiletAPI.get("/customer/stats/upcoming-events",{limit:e}),getReviews:async(e={})=>AmbiletAPI.get("/customer/reviews",e),getEventsToReview:async(e={})=>AmbiletAPI.get("/customer/reviews/events-to-review",e),submitReview:async e=>AmbiletAPI.post("/customer/reviews",e),getReview:async e=>AmbiletAPI.get(`/customer/reviews/${e}`),updateReview:async(e,t)=>AmbiletAPI.put(`/customer/reviews/${e}`,t),deleteReview:async e=>AmbiletAPI.delete(`/customer/reviews/${e}`),getWatchlist:async(e={})=>AmbiletAPI.get("/customer/watchlist",e),addToWatchlist:async(e,t={})=>AmbiletAPI.post("/customer/watchlist",{event_id:e,notify_on_sale:!1!==t.notifyOnSale,notify_on_changes:!1!==t.notifyOnChanges}),updateWatchlistItem:async(e,t)=>AmbiletAPI.put(`/customer/watchlist/${e}`,t),removeFromWatchlist:async(e,t)=>"event"===e?AmbiletAPI.delete(`/customer/watchlist/${t}`):"artist"===e?AmbiletAPI.post(`/artists/${t}/toggle-favorite`):"venue"===e?AmbiletAPI.post(`/venues/${t}/toggle-favorite`):{success:!1,message:"Unknown type"},checkWatchlist:async e=>AmbiletAPI.get("/customer/watchlist/check",{event_id:e}),getRewardsOverview:async()=>AmbiletAPI.get("/customer/rewards"),getPointsHistory:async(e={})=>AmbiletAPI.get("/customer/rewards/history",e),getBadges:async()=>AmbiletAPI.get("/customer/rewards/badges"),getAvailableRewards:async(e={})=>AmbiletAPI.get("/customer/rewards/available",e),redeemReward:async e=>AmbiletAPI.post("/customer/rewards/redeem",{reward_id:e}),getRedemptions:async(e={})=>AmbiletAPI.get("/customer/rewards/redemptions",e),getPoints:async()=>AmbiletAPI.get("/customer/rewards"),getXP:async()=>AmbiletAPI.get("/customer/rewards"),getRewards:async(e={})=>AmbiletAPI.get("/customer/rewards/available",e),getNotifications:async(e={})=>AmbiletAPI.get("/customer/notifications",e),getUnreadNotificationsCount:async()=>AmbiletAPI.get("/customer/notifications/unread-count"),markNotificationsRead:async(e=null)=>AmbiletAPI.post("/customer/notifications/mark-read",{notification_ids:e}),deleteNotification:async e=>AmbiletAPI.delete(`/customer/notifications/${e}`),getNotificationSettings:async()=>AmbiletAPI.get("/customer/notifications/settings"),updateNotificationSettings:async e=>AmbiletAPI.put("/customer/notifications/settings",e),getReferrals:async()=>AmbiletAPI.get("/customer/referrals"),regenerateReferralCode:async()=>AmbiletAPI.post("/customer/referrals/regenerate-code"),trackReferralClick:async(e,t=null)=>AmbiletAPI.post("/customer/referrals/track-click",{code:e,source:t}),getReferralLeaderboard:async(e="month",t=10)=>AmbiletAPI.get("/customer/referrals/leaderboard",{period:e,limit:t}),claimReferralRewards:async()=>AmbiletAPI.post("/customer/referrals/claim-rewards"),validateReferralCode:async e=>AmbiletAPI.get("/customer/referrals/validate",{code:e}),getCart:async()=>AmbiletAPI.get("/customer/cart"),addToCart:async(e,t,r)=>AmbiletAPI.post("/customer/cart/items",{event_id:e,ticket_type_id:t,quantity:r}),updateCartItem:async(e,t)=>AmbiletAPI.put(`/customer/cart/items/${e}`,{quantity:t}),removeCartItem:async e=>AmbiletAPI.delete(`/customer/cart/items/${e}`),clearCart:async()=>AmbiletAPI.delete("/customer/cart"),applyPromoCode:async e=>AmbiletAPI.post("/customer/cart/promo-code",{code:e}),removePromoCode:async()=>AmbiletAPI.delete("/customer/cart/promo-code"),getCheckoutSummary:async()=>AmbiletAPI.get("/customer/checkout/summary"),checkout:async e=>AmbiletAPI.post("/customer/checkout",e)},organizer:{register:async e=>AmbiletAPI.post("/organizer/register",e),login:async(e,t)=>AmbiletAPI.post("/organizer/login",{email:e,password:t}),logout:async()=>AmbiletAPI.post("/organizer/logout"),getProfile:async()=>AmbiletAPI.get("/organizer/me"),updateProfile:async e=>AmbiletAPI.put("/organizer/profile",e),getDashboard:async()=>AmbiletAPI.get("/organizer/dashboard"),getDashboardTimeline:async(e={})=>AmbiletAPI.get("/organizer/dashboard/timeline",e),getEvents:async(e={})=>AmbiletAPI.get("/organizer/events",e),getEvent:async e=>AmbiletAPI.get(`/organizer/events/${e}`),createEvent:async e=>AmbiletAPI.post("/organizer/events",e),updateEvent:async(e,t)=>AmbiletAPI.put(`/organizer/events/${e}`,t),submitEvent:async e=>AmbiletAPI.post(`/organizer/events/${e}/submit`),cancelEvent:async e=>AmbiletAPI.post(`/organizer/events/${e}/cancel`),getEventCategories:async()=>AmbiletAPI.get("/organizer/event-categories"),getEventGenres:async(e=[])=>AmbiletAPI.get("/organizer/event-genres",{type_ids:e}),searchVenues:async(e="")=>AmbiletAPI.get("/organizer/venues",{search:e}),searchArtists:async(e="")=>AmbiletAPI.get("/organizer/artists",{search:e}),createArtist:async e=>AmbiletAPI.post("/organizer/artists",{name:e}),getParticipants:async(e,t={})=>AmbiletAPI.get(`/organizer/events/${e}/participants`,t),exportParticipants:async e=>AmbiletAPI.get(`/organizer/events/${e}/participants/export`),checkIn:async(e,t)=>AmbiletAPI.post(`/organizer/events/${e}/check-in/${t}`),undoCheckIn:async(e,t)=>AmbiletAPI.delete(`/organizer/events/${e}/check-in/${t}`),getOrders:async(e={})=>AmbiletAPI.get("/organizer/orders",e),getBalance:async()=>AmbiletAPI.get("/organizer/balance"),getTransactions:async(e={})=>AmbiletAPI.get("/organizer/transactions",e),getPayouts:async(e={})=>AmbiletAPI.get("/organizer/payouts",e),requestPayout:async e=>AmbiletAPI.post("/organizer/payouts",e),cancelPayout:async e=>AmbiletAPI.delete(`/organizer/payouts/${e}`),getPromoCodes:async(e={})=>AmbiletAPI.get("/organizer/promo-codes",e),createPromoCode:async e=>AmbiletAPI.post("/organizer/promo-codes",e),updatePromoCode:async(e,t)=>AmbiletAPI.put(`/organizer/promo-codes/${e}`,t),deletePromoCode:async e=>AmbiletAPI.delete(`/organizer/promo-codes/${e}`),updatePayoutDetails:async e=>AmbiletAPI.put("/organizer/payout-details",e)}};class APIError extends Error{constructor(e,t,r=null){super(e),this.name="APIError",this.status=t,this.errors=r}isAuthError(){return 401===this.status||403===this.status}isValidationError(){return 422===this.status}getFieldError(e){return this.errors&&this.errors[e]?Array.isArray(this.errors[e])?this.errors[e][0]:this.errors[e]:null}getAllFieldErrors(){const e={};if(this.errors)for(const[t,r]of Object.entries(this.errors))e[t]=Array.isArray(r)?r[0]:r;return e}}window.APIError=APIError;
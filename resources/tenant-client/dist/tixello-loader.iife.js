var __defProp=Object.defineProperty,__defNormalProp=(e,t,n)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,__publicField=(e,t,n)=>__defNormalProp(e,"symbol"!=typeof t?t+"":t,n);!function(){"use strict";class e{constructor(){__publicField(this,"events",new Map)}on(e,t){this.events.has(e)||this.events.set(e,new Set),this.events.get(e).add(t)}off(e,t){const n=this.events.get(e);n&&n.delete(t)}emit(e,t){const n=this.events.get(e);n&&n.forEach(e=>e(t))}once(e,t){const n=i=>{t(i),this.off(e,n)};this.on(e,n)}}class t{constructor(e){__publicField(this,"enabledModules"),__publicField(this,"loadedModules",new Map),__publicField(this,"apiClient",null),__publicField(this,"eventBus",null),this.enabledModules=e}setDependencies(e,t){this.apiClient=e,this.eventBus=t}async loadAll(){const e=this.enabledModules.map(e=>this.loadModule(e));await Promise.all(e)}async loadModule(e){try{let t;switch(e){case"events":const{EventsModule:e}=await Promise.resolve().then(()=>B);t=new e;break;case"cart":const{CartModule:n}=await Promise.resolve().then(()=>L);t=new n;break;case"checkout":const{CheckoutModule:i}=await Promise.resolve().then(()=>z);t=new i;break;case"seating":const{SeatingModule:r}=await Promise.resolve().then(()=>I);t=new r;break;case"shop":const{ShopModule:a}=await Promise.resolve().then(()=>T);t=new a;break;case"sleek-client":const{SleekClientModule:s}=await Promise.resolve().then(()=>A);t=new s;break;case"gamification":const{GamificationModule:o}=await Promise.resolve().then(()=>j);t=new o;break;default:return}this.apiClient&&this.eventBus&&("shop"===e||"sleek-client"===e||"gamification"===e)?await t.init(this.apiClient,this.eventBus):await t.init(),this.loadedModules.set(e,t)}catch(t){}}getModule(e){return this.loadedModules.get(e)}isLoaded(e){return this.loadedModules.has(e)}}const n={};class i{static registerTemplate(e,t){n[e]=t}static init(e){var t;this.config=e;const i=(null==(t=e.site)?void 0:t.template)||"default";this.currentTemplate=n[i]||n.default,this.currentTemplate||(this.currentTemplate=n.default)}static get(){if(!this.currentTemplate)throw new Error("TemplateManager not initialized");return this.currentTemplate}static getConfig(){if(!this.config)throw new Error("TemplateManager not initialized");return this.config}static renderHeader(){return this.get().renderHeader(this.getConfig())}static renderFooter(){return this.get().renderFooter(this.getConfig())}static getAvailableTemplates(){return Object.keys(n)}}__publicField(i,"currentTemplate",null),__publicField(i,"config",null);const r={name:"default",headerClass:"bg-white shadow-sm border-b",footerClass:"bg-gray-50 border-t",containerClass:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",heroClass:"text-center py-16 bg-gradient-to-br from-gray-50 to-gray-100",heroTitleClass:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",heroSubtitleClass:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",cardClass:"bg-white rounded-lg shadow-md overflow-hidden",cardHoverClass:"hover:shadow-lg transition",primaryButtonClass:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-primary hover:bg-primary-dark transition",secondaryButtonClass:"inline-flex items-center px-6 py-3 border border-gray-300 text-base font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition",headingClass:"text-2xl font-bold text-gray-900",subheadingClass:"text-lg text-gray-600",renderHeader:e=>{var t,n,i,r,a,s;const o=null==(t=e.theme)?void 0:t.logo,l=(null==(n=e.site)?void 0:n.title)||"Tixello",d=(null==(i=e.menus)?void 0:i.header)||[],c=d.map(e=>`<a href="${e.url}" class="text-gray-600 hover:text-primary transition">${e.title}</a>`).join("");return`\n            <header class="bg-white shadow-sm border-b sticky top-0 z-50">\n                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                    <div class="flex justify-between items-center h-16">\n                        <a href="/" class="flex items-center">\n                            ${o?`<img src="${o}" alt="${l}" class="h-8 w-auto">`:`<span class="text-xl font-bold text-primary">${l}</span>`}\n                        </a>\n                        <nav class="hidden md:flex items-center space-x-6">\n                            <a href="/events" class="text-gray-600 hover:text-primary transition">Evenimente</a>\n                            ${(null==(r=e.modules)?void 0:r.includes("shop"))?'<a href="/shop" class="text-gray-600 hover:text-primary transition">Magazin</a>':""}\n                            <a href="/blog" class="text-gray-600 hover:text-primary transition">Blog</a>\n                            ${c}\n                            <a href="/cart" class="relative text-primary hover:text-gray-900 transition">\n                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 512 512" stroke-width="30">\n                                    <path d="M336.333 416.667v-32.134M336.333 320.267v-32.134M336.333 223.867v-32.134M336.333 127.467V95.333M497 191.733c-35.467 0-64.267 28.799-64.267 64.267s28.8 64.267 64.267 64.267v37.435c0 38.214-20.75 58.965-58.965 58.965H73.965C35.75 416.667 15 395.917 15 357.702v-37.435c35.467 0 64.267-28.799 64.267-64.267S50.467 191.733 15 191.733v-37.435c0-38.214 20.75-58.965 58.965-58.965h364.07c38.215 0 58.965 20.75 58.965 58.965v37.435z" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"/>\n                                </svg>\n                                <span id="cart-badge" class="absolute -top-2 -right-2 bg-primary text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center hidden">0</span>\n                            </a>\n                            <a href="/login" id="account-link" class="btn-primary px-4 py-2 rounded-lg text-sm">Contul meu</a>\n                        </nav>\n                        \x3c!-- Mobile: Cart + Menu buttons --\x3e\n                        <div class="md:hidden flex items-center gap-2">\n                            <a href="/cart" class="relative p-2 text-primary">\n                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 512 512" stroke-width="30">\n                                    <path d="M336.333 416.667v-32.134M336.333 320.267v-32.134M336.333 223.867v-32.134M336.333 127.467V95.333M497 191.733c-35.467 0-64.267 28.799-64.267 64.267s28.8 64.267 64.267 64.267v37.435c0 38.214-20.75 58.965-58.965 58.965H73.965C35.75 416.667 15 395.917 15 357.702v-37.435c35.467 0 64.267-28.799 64.267-64.267S50.467 191.733 15 191.733v-37.435c0-38.214 20.75-58.965 58.965-58.965h364.07c38.215 0 58.965 20.75 58.965 58.965v37.435z" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"/>\n                                </svg>\n                                <span id="cart-badge-mobile" class="absolute -top-1 -right-1 bg-primary text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center hidden">0</span>\n                            </a>\n                            <button class="p-2" id="mobile-menu-btn" aria-label="Open menu">\n                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>\n                                </svg>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </header>\n\n            \x3c!-- Mobile Menu Drawer --\x3e\n            <div id="mobile-menu-overlay" class="fixed inset-0 bg-black/50 z-[60] hidden opacity-0 transition-opacity duration-300"></div>\n            <div id="mobile-menu-drawer" class="fixed top-0 right-0 h-full w-72 bg-white shadow-xl z-[70] transform translate-x-full transition-transform duration-300 ease-out">\n                <div class="flex items-center justify-between p-4 border-b">\n                    <span class="font-semibold text-gray-900">Meniu</span>\n                    <button id="mobile-menu-close" class="p-2 hover:bg-gray-100 rounded-lg" aria-label="Close menu">\n                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>\n                        </svg>\n                    </button>\n                </div>\n                <nav class="p-4 flex flex-col space-y-1">\n                    <a href="/events" class="px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition">Evenimente</a>\n                    ${(null==(a=e.modules)?void 0:a.includes("shop"))?'<a href="/shop" class="px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition">Magazin</a>':""}\n                    <a href="/blog" class="px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition">Blog</a>\n                    ${d.map(e=>`<a href="${e.url}" class="px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition">${e.title}</a>`).join("")}\n                    <div class="border-t my-2"></div>\n                    <a href="/account" class="px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition">Contul meu</a>\n                    ${(null==(s=e.modules)?void 0:s.includes("gamification"))?'<a href="/account/points" class="px-4 py-3 text-amber-600 hover:bg-amber-50 rounded-lg transition flex items-center gap-2"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>Punctele mele</a>':""}\n                    <a href="/cart" class="px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition flex items-center justify-between">\n                        <span>Coș</span>\n                        <span id="cart-badge-menu" class="bg-primary text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center hidden">0</span>\n                    </a>\n                </nav>\n            </div>\n        `},renderFooter:e=>{var t,n,i,r,a,s,o;const l=(null==(t=e.site)?void 0:t.title)||"Tixello",d=(new Date).getFullYear(),c=e.social||{},p=((null==(n=e.menus)?void 0:n.footer)||[]).map(e=>`<li><a href="${e.url}" class="text-gray-600 hover:text-primary">${e.title}</a></li>`).join(""),m=[];c.facebook&&m.push(`<a href="${c.facebook}" target="_blank" class="text-gray-400 hover:text-primary" aria-label="Facebook"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg></a>`),c.instagram&&m.push(`<a href="${c.instagram}" target="_blank" class="text-gray-400 hover:text-primary" aria-label="Instagram"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg></a>`),c.twitter&&m.push(`<a href="${c.twitter}" target="_blank" class="text-gray-400 hover:text-primary" aria-label="Twitter"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>`),c.youtube&&m.push(`<a href="${c.youtube}" target="_blank" class="text-gray-400 hover:text-primary" aria-label="YouTube"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg></a>`),c.tiktok&&m.push(`<a href="${c.tiktok}" target="_blank" class="text-gray-400 hover:text-primary" aria-label="TikTok"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"/></svg></a>`),c.linkedin&&m.push(`<a href="${c.linkedin}" target="_blank" class="text-gray-400 hover:text-primary" aria-label="LinkedIn"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg></a>`);const u=m.length>0?`<div class="flex space-x-4 mt-4">${m.join("")}</div>`:"";return`\n            <footer class="bg-gray-50 border-t mt-16">\n                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">\n                    <div class="grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-8">\n                        <div class="col-span-2">\n                            <h3 class="text-base md:text-lg font-bold text-gray-900 mb-3 md:mb-4">${l}</h3>\n                            <p class="text-gray-600 text-sm mb-3 md:mb-4 line-clamp-3">${(null==(i=e.site)?void 0:i.description)||""}</p>\n                            ${u}\n                        </div>\n                        <div>\n                            <h4 class="font-semibold text-gray-900 mb-3 md:mb-4 text-sm md:text-base">Linkuri rapide</h4>\n                            <ul class="space-y-2 text-sm">\n                                <li><a href="/events" class="text-gray-600 hover:text-primary">Evenimente</a></li>\n                                <li><a href="/past-events" class="text-gray-600 hover:text-primary">Evenimente trecute</a></li>\n                                <li><a href="/blog" class="text-gray-600 hover:text-primary">Blog</a></li>\n                                <li><a href="/account" class="text-gray-600 hover:text-primary">Contul meu</a></li>\n                            </ul>\n                        </div>\n                        <div>\n                            <h4 class="font-semibold text-gray-900 mb-3 md:mb-4 text-sm md:text-base">Legal</h4>\n                            <ul class="space-y-2 text-sm">\n                                <li><a href="/terms" class="text-gray-600 hover:text-primary">Termeni și condiții</a></li>\n                                <li><a href="/privacy" class="text-gray-600 hover:text-primary">Confidențialitate</a></li>\n                                ${p}\n                            </ul>\n                        </div>\n                    </div>\n                    <div class="border-t mt-6 md:mt-8 pt-6 md:pt-8 flex flex-col sm:flex-row gap-3 sm:gap-4 items-center justify-between text-xs sm:text-sm text-gray-600">\n                        <p class="text-center sm:text-left">&copy; ${d} ${l}</p>\n                        <div class="flex items-center gap-2 text-gray-600">\n                            <span>Powered by</span>\n                            <a href="${(null==(r=e.platform)?void 0:r.url)||"https://tixello.com"}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center">\n                                ${(null==(a=e.platform)?void 0:a.logo_light)?`<img src="${e.platform.logo_light}" alt="${(null==(s=e.platform)?void 0:s.name)||"Tixello"}" class="h-3 w-auto">`:`<span class="text-primary font-semibold hover:underline">${(null==(o=e.platform)?void 0:o.name)||"Tixello"}</span>`}\n                            </a>\n                        </div>\n                    </div>\n                </div>\n            </footer>\n        `}};i.registerTemplate("default",r);const a={name:"modern",headerClass:"bg-gray-900 text-white",footerClass:"bg-gray-900 text-white",containerClass:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",heroClass:"text-center py-20 bg-gradient-to-br from-primary to-secondary text-white",heroTitleClass:"text-5xl md:text-6xl font-extrabold mb-6",heroSubtitleClass:"text-xl opacity-90 mb-10 max-w-2xl mx-auto",cardClass:"bg-white rounded-xl shadow-lg overflow-hidden",cardHoverClass:"hover:shadow-2xl hover:-translate-y-1 transition-all duration-300",primaryButtonClass:"inline-flex items-center px-8 py-4 border border-transparent text-base font-bold rounded-full text-white bg-primary hover:bg-primary-dark transition shadow-lg hover:shadow-xl",secondaryButtonClass:"inline-flex items-center px-8 py-4 border-2 border-white text-base font-bold rounded-full text-white hover:bg-white hover:text-gray-900 transition",headingClass:"text-3xl font-extrabold text-gray-900",subheadingClass:"text-lg text-gray-500",renderHeader:e=>{var t,n,i;const r=null==(t=e.theme)?void 0:t.logo,a=(null==(n=e.site)?void 0:n.title)||"Tixello";return`\n            <header class="bg-gray-900 text-white sticky top-0 z-50">\n                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                    <div class="flex justify-between items-center h-20">\n                        <a href="/" class="flex items-center">\n                            ${r?`<img src="${r}" alt="${a}" class="h-10 w-auto">`:`<span class="text-2xl font-extrabold">${a}</span>`}\n                        </a>\n                        <nav class="hidden md:flex items-center space-x-8">\n                            <a href="/events" class="text-gray-300 hover:text-white transition font-medium">Evenimente</a>\n                            ${(null==(i=e.modules)?void 0:i.includes("shop"))?'<a href="/shop" class="text-gray-300 hover:text-white transition font-medium">Magazin</a>':""}\n                            <a href="/blog" class="text-gray-300 hover:text-white transition font-medium">Blog</a>\n                            <a href="/cart" class="text-gray-300 hover:text-white transition">\n                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/>\n                                </svg>\n                            </a>\n                            <a href="/login" class="btn-primary px-6 py-2.5 rounded-full text-sm font-bold">Contul meu</a>\n                        </nav>\n                        <button class="md:hidden p-2 text-white" id="mobile-menu-btn">\n                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>\n                            </svg>\n                        </button>\n                    </div>\n                </div>\n            </header>\n        `},renderFooter:e=>{var t,n,i,r,a,s,o;const l=(null==(t=e.site)?void 0:t.title)||"Tixello",d=(new Date).getFullYear(),c=e.social||{},p=[];c.facebook&&p.push(`<a href="${c.facebook}" target="_blank" class="text-gray-400 hover:text-white transition" aria-label="Facebook"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg></a>`),c.instagram&&p.push(`<a href="${c.instagram}" target="_blank" class="text-gray-400 hover:text-white transition" aria-label="Instagram"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg></a>`),c.twitter&&p.push(`<a href="${c.twitter}" target="_blank" class="text-gray-400 hover:text-white transition" aria-label="Twitter"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>`),c.youtube&&p.push(`<a href="${c.youtube}" target="_blank" class="text-gray-400 hover:text-white transition" aria-label="YouTube"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg></a>`),c.tiktok&&p.push(`<a href="${c.tiktok}" target="_blank" class="text-gray-400 hover:text-white transition" aria-label="TikTok"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"/></svg></a>`),c.linkedin&&p.push(`<a href="${c.linkedin}" target="_blank" class="text-gray-400 hover:text-white transition" aria-label="LinkedIn"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg></a>`);const m=p.length>0?`<div class="flex space-x-4 mt-6">${p.join("")}</div>`:"";return`\n            <footer class="bg-gray-900 text-white mt-20">\n                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">\n                    <div class="grid grid-cols-1 md:grid-cols-4 gap-12">\n                        <div class="col-span-1 md:col-span-2">\n                            <h3 class="text-2xl font-extrabold mb-4">${l}</h3>\n                            <p class="text-gray-400 mb-6">${(null==(n=e.site)?void 0:n.description)||""}</p>\n                            ${(null==(i=e.site)?void 0:i.tagline)?`<p class="text-primary font-medium">${e.site.tagline}</p>`:""}\n                            ${m}\n                        </div>\n                        <div>\n                            <h4 class="font-bold text-lg mb-6">Navigare</h4>\n                            <ul class="space-y-3">\n                                <li><a href="/events" class="text-gray-400 hover:text-white transition">Evenimente</a></li>\n                                <li><a href="/past-events" class="text-gray-400 hover:text-white transition">Evenimente trecute</a></li>\n                                <li><a href="/blog" class="text-gray-400 hover:text-white transition">Blog</a></li>\n                                <li><a href="/account" class="text-gray-400 hover:text-white transition">Contul meu</a></li>\n                            </ul>\n                        </div>\n                        <div>\n                            <h4 class="font-bold text-lg mb-6">Legal</h4>\n                            <ul class="space-y-3">\n                                <li><a href="/terms" class="text-gray-400 hover:text-white transition">Termeni</a></li>\n                                <li><a href="/privacy" class="text-gray-400 hover:text-white transition">Confidențialitate</a></li>\n                            </ul>\n                        </div>\n                    </div>\n                    <div class="border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center text-sm text-gray-500">\n                        <p>&copy; ${d} ${l}</p>\n                        <div class="mt-4 md:mt-0 flex items-center gap-2">\n                            <span>Powered by</span>\n                            <a href="${(null==(r=e.platform)?void 0:r.url)||"https://tixello.com"}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center">\n                                ${(null==(a=e.platform)?void 0:a.logo_dark)?`<img src="${e.platform.logo_dark}" alt="${(null==(s=e.platform)?void 0:s.name)||"Tixello"}" class="h-5 w-auto">`:`<span class="text-primary font-semibold hover:underline">${(null==(o=e.platform)?void 0:o.name)||"Tixello"}</span>`}\n                            </a>\n                        </div>\n                    </div>\n                </div>\n            </footer>\n        `}};i.registerTemplate("modern",a);const s={name:"sleek",headerClass:"fixed top-0 left-0 right-0 z-50 bg-[#0a0a0f]/80 backdrop-blur-xl border-b border-white/[0.08]",footerClass:"bg-[#12121a] border-t border-white/[0.08] mt-16",containerClass:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",heroClass:"text-center py-16 bg-gradient-to-br from-[#0a0a0f] to-[#12121a]",heroTitleClass:"text-4xl md:text-5xl font-bold text-white mb-4 tracking-tight",heroSubtitleClass:"text-xl text-slate-400 mb-8 max-w-2xl mx-auto",cardClass:"bg-[#12121a] border border-white/[0.08] rounded-2xl overflow-hidden transition-all duration-300",cardHoverClass:"hover:border-white/[0.12] hover:-translate-y-1 hover:shadow-2xl hover:shadow-black/30",primaryButtonClass:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-500 text-white font-semibold rounded-full transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-indigo-500/25",secondaryButtonClass:"inline-flex items-center gap-2 px-6 py-3 bg-transparent border border-white/[0.12] text-white font-semibold rounded-full transition-all duration-300 hover:bg-white/5 hover:border-white/20",headingClass:"text-2xl font-bold text-white tracking-tight",subheadingClass:"text-lg text-slate-400",renderHeader:e=>{var t,n,i,r,a,s;const o=null==(t=e.theme)?void 0:t.logo,l=(null==(n=e.site)?void 0:n.title)||"Tixello",d=(null==(i=e.menus)?void 0:i.header)||[],c=d.map(e=>`<a href="${e.url}" class="px-4 py-2 text-slate-400 hover:text-white text-sm font-medium rounded-lg transition-colors">${e.title}</a>`).join("");return`\n            <style>\n                /* ========================================\n                   CSS VARIABLES & THEME\n                   ======================================== */\n                :root {\n                    --sleek-bg: #0a0a0f;\n                    --sleek-surface: #12121a;\n                    --sleek-surface-elevated: #1a1a24;\n                    --sleek-border: rgba(255,255,255,0.08);\n                    --sleek-border-light: rgba(255,255,255,0.12);\n                    --sleek-text: #ffffff;\n                    --sleek-text-muted: #94a3b8;\n                    --sleek-text-subtle: #64748b;\n                    --sleek-gradient-start: var(--tixello-primary, #6366f1);\n                    --sleek-gradient-end: var(--tixello-primary-dark, #8b5cf6);\n                    --sleek-success: #10b981;\n                    --sleek-warning: #f59e0b;\n                    --sleek-error: #ef4444;\n                    --sleek-glow: rgba(99, 102, 241, 0.15);\n                }\n\n                /* Global Dark Theme Override */\n                body {\n                    background: var(--sleek-bg) !important;\n                    color: var(--sleek-text) !important;\n                    -webkit-font-smoothing: antialiased;\n                    -moz-osx-font-smoothing: grayscale;\n                }\n\n                #tixello-app {\n                    background: var(--sleek-bg);\n                    min-height: 100vh;\n                }\n\n                /* Main content area spacing */\n                main, #tixello-content {\n                    padding-top: 64px;\n                    min-height: 100vh;\n                    background: var(--sleek-bg);\n                }\n\n                @media (min-width: 768px) {\n                    main, #tixello-content {\n                        padding-top: 72px;\n                    }\n                }\n\n                @media (max-width: 767px) {\n                    main, #tixello-content {\n                        padding-bottom: 80px;\n                    }\n                }\n\n                /* ========================================\n                   TAILWIND DARK MODE OVERRIDES\n                   ======================================== */\n                .text-gray-900, .text-gray-800 { color: var(--sleek-text) !important; }\n                .text-gray-700 { color: rgba(255,255,255,0.9) !important; }\n                .text-gray-600, .text-gray-500 { color: var(--sleek-text-muted) !important; }\n                .text-gray-400 { color: var(--sleek-text-subtle) !important; }\n\n                .bg-gray-50 { background: var(--sleek-bg) !important; }\n                .bg-gray-100 { background: var(--sleek-surface) !important; }\n                .bg-gray-200 { background: var(--sleek-surface-elevated) !important; }\n                .bg-white { background: var(--sleek-surface) !important; }\n\n                .border-gray-100, .border-gray-200 { border-color: var(--sleek-border) !important; }\n                .border-gray-300 { border-color: var(--sleek-border-light) !important; }\n\n                .shadow-sm, .shadow, .shadow-md, .shadow-lg {\n                    box-shadow: 0 4px 20px rgba(0,0,0,0.3) !important;\n                }\n\n                .hover\\:shadow-md:hover, .hover\\:shadow-lg:hover {\n                    box-shadow: 0 8px 30px rgba(0,0,0,0.4) !important;\n                }\n\n                /* Primary button overrides */\n                .bg-primary, [class*="bg-primary"] {\n                    background: linear-gradient(135deg, var(--sleek-gradient-start), var(--sleek-gradient-end)) !important;\n                }\n\n                /* ========================================\n                   FORM INPUTS\n                   ======================================== */\n                input[type="text"], input[type="email"], input[type="password"],\n                input[type="tel"], input[type="number"], select, textarea {\n                    background: var(--sleek-surface-elevated) !important;\n                    border-color: var(--sleek-border) !important;\n                    color: var(--sleek-text) !important;\n                }\n\n                input:focus, select:focus, textarea:focus {\n                    border-color: var(--sleek-gradient-start) !important;\n                    box-shadow: 0 0 0 3px var(--sleek-glow) !important;\n                    outline: none !important;\n                }\n\n                input::placeholder, textarea::placeholder {\n                    color: var(--sleek-text-subtle) !important;\n                }\n\n                /* ========================================\n                   EVENTS PAGE OVERRIDES\n                   ======================================== */\n                #events-calendar {\n                    background: var(--sleek-bg) !important;\n                    border-color: var(--sleek-border) !important;\n                }\n\n                #days-scroller button, .day-btn {\n                    background: var(--sleek-surface) !important;\n                    border-color: var(--sleek-border) !important;\n                    color: var(--sleek-text-muted) !important;\n                }\n\n                #days-scroller button:hover, .day-btn:hover {\n                    border-color: var(--sleek-border-light) !important;\n                    background: var(--sleek-surface-elevated) !important;\n                }\n\n                .day-btn.border-gray-900, [class*="border-gray-900"] {\n                    background: linear-gradient(135deg, var(--sleek-gradient-start), var(--sleek-gradient-end)) !important;\n                    border-color: var(--sleek-gradient-start) !important;\n                    color: white !important;\n                }\n\n                .month-btn {\n                    background: var(--sleek-surface) !important;\n                    border-color: var(--sleek-border) !important;\n                    color: var(--sleek-text-muted) !important;\n                }\n\n                .month-btn.bg-gray-900 {\n                    background: linear-gradient(135deg, var(--sleek-gradient-start), var(--sleek-gradient-end)) !important;\n                    border-color: var(--sleek-gradient-start) !important;\n                    color: white !important;\n                }\n\n                #events-container a, .event-card {\n                    background: var(--sleek-surface) !important;\n                    border: 1px solid var(--sleek-border) !important;\n                    border-radius: 16px !important;\n                    transition: all 0.3s ease !important;\n                }\n\n                #events-container a:hover, .event-card:hover {\n                    border-color: var(--sleek-border-light) !important;\n                    transform: translateY(-4px) !important;\n                    box-shadow: 0 20px 40px rgba(0,0,0,0.3) !important;\n                }\n\n                /* ========================================\n                   CART & CHECKOUT OVERRIDES\n                   ======================================== */\n                .cart-item, [class*="cart-item"] {\n                    background: var(--sleek-surface) !important;\n                    border: 1px solid var(--sleek-border) !important;\n                    border-radius: 16px !important;\n                }\n\n                .cart-summary, [class*="cart-summary"], [class*="order-summary"] {\n                    background: var(--sleek-surface) !important;\n                    border: 1px solid var(--sleek-border) !important;\n                    border-radius: 16px !important;\n                }\n\n                #payment-element, .StripeElement {\n                    background: var(--sleek-surface-elevated) !important;\n                    border: 1px solid var(--sleek-border) !important;\n                    border-radius: 12px !important;\n                    padding: 1rem !important;\n                }\n\n                /* ========================================\n                   ADMIN & TABLES\n                   ======================================== */\n                table { width: 100%; border-collapse: separate; border-spacing: 0; }\n\n                th {\n                    background: var(--sleek-surface-elevated) !important;\n                    color: var(--sleek-text-muted) !important;\n                    font-weight: 600 !important;\n                    text-transform: uppercase !important;\n                    font-size: 0.75rem !important;\n                    padding: 1rem !important;\n                    border-bottom: 1px solid var(--sleek-border) !important;\n                }\n\n                td {\n                    padding: 1rem !important;\n                    border-bottom: 1px solid var(--sleek-border) !important;\n                    color: var(--sleek-text) !important;\n                }\n\n                tr:hover td {\n                    background: rgba(255,255,255,0.02) !important;\n                }\n\n                /* ========================================\n                   STATUS COLORS\n                   ======================================== */\n                .text-red-500, .text-red-600 { color: var(--sleek-error) !important; }\n                .text-green-500, .text-green-600 { color: var(--sleek-success) !important; }\n                .bg-green-100, .bg-green-50 { background: rgba(16, 185, 129, 0.15) !important; }\n                .bg-red-100, .bg-red-50 { background: rgba(239, 68, 68, 0.15) !important; }\n\n                /* ========================================\n                   QUANTITY SELECTORS\n                   ======================================== */\n                .ticket-plus, .ticket-minus,\n                .cart-qty-plus, .cart-qty-minus,\n                .mobile-ticket-plus, .mobile-ticket-minus {\n                    min-width: 40px !important;\n                    min-height: 40px !important;\n                    display: flex !important;\n                    align-items: center !important;\n                    justify-content: center !important;\n                    background: var(--sleek-surface-elevated) !important;\n                    border: 1px solid var(--sleek-border) !important;\n                    color: var(--sleek-text) !important;\n                    border-radius: 8px !important;\n                    font-size: 1.25rem !important;\n                    cursor: pointer !important;\n                    transition: all 0.2s ease !important;\n                }\n\n                .ticket-plus:hover, .ticket-minus:hover,\n                .cart-qty-plus:hover, .cart-qty-minus:hover {\n                    background: rgba(255,255,255,0.1) !important;\n                    border-color: var(--sleek-border-light) !important;\n                }\n\n                .ticket-qty-display, .mobile-ticket-qty {\n                    min-width: 40px !important;\n                    text-align: center !important;\n                    font-weight: 600 !important;\n                    color: var(--sleek-text) !important;\n                }\n\n                /* ========================================\n                   ANIMATIONS\n                   ======================================== */\n                @keyframes sleek-fade-in {\n                    from { opacity: 0; transform: translateY(10px); }\n                    to { opacity: 1; transform: translateY(0); }\n                }\n\n                @keyframes sleek-slide-in-right {\n                    from { opacity: 0; transform: translateX(100%); }\n                    to { opacity: 1; transform: translateX(0); }\n                }\n\n                @keyframes sleek-slide-in-up {\n                    from { opacity: 0; transform: translateY(100%); }\n                    to { opacity: 1; transform: translateY(0); }\n                }\n\n                @keyframes sleek-shimmer {\n                    0% { background-position: 200% 0; }\n                    100% { background-position: -200% 0; }\n                }\n\n                @keyframes sleek-pulse {\n                    0%, 100% { opacity: 1; }\n                    50% { opacity: 0.6; }\n                }\n\n                #tixello-content {\n                    animation: sleek-fade-in 0.4s ease-out;\n                }\n\n                .animate-pulse {\n                    background: var(--sleek-surface-elevated) !important;\n                    animation: sleek-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite !important;\n                }\n\n                /* ========================================\n                   TOAST NOTIFICATIONS\n                   ======================================== */\n                .sleek-toast-container {\n                    position: fixed;\n                    top: 80px;\n                    right: 1rem;\n                    z-index: 1000;\n                    display: flex;\n                    flex-direction: column;\n                    gap: 0.75rem;\n                    pointer-events: none;\n                }\n\n                @media (max-width: 767px) {\n                    .sleek-toast-container {\n                        top: auto;\n                        bottom: 100px;\n                        left: 1rem;\n                        right: 1rem;\n                    }\n                }\n\n                .sleek-toast {\n                    pointer-events: auto;\n                    animation: sleek-slide-in-right 0.4s cubic-bezier(0.32, 0.72, 0, 1);\n                }\n\n                @media (max-width: 767px) {\n                    .sleek-toast {\n                        animation: sleek-slide-in-up 0.4s cubic-bezier(0.32, 0.72, 0, 1);\n                    }\n                }\n\n                /* ========================================\n                   MODAL DIALOGS\n                   ======================================== */\n                .sleek-modal-overlay {\n                    opacity: 0;\n                    visibility: hidden;\n                    transition: opacity 0.3s ease, visibility 0.3s ease;\n                }\n\n                .sleek-modal-overlay.active {\n                    opacity: 1;\n                    visibility: visible;\n                }\n\n                .sleek-modal {\n                    transform: scale(0.95) translateY(10px);\n                    transition: transform 0.3s cubic-bezier(0.32, 0.72, 0, 1);\n                }\n\n                .sleek-modal-overlay.active .sleek-modal {\n                    transform: scale(1) translateY(0);\n                }\n\n                /* ========================================\n                   SKELETON LOADING\n                   ======================================== */\n                .sleek-skeleton {\n                    background: linear-gradient(90deg, var(--sleek-surface-elevated) 0%, rgba(255,255,255,0.05) 50%, var(--sleek-surface-elevated) 100%);\n                    background-size: 200% 100%;\n                    animation: sleek-shimmer 1.5s infinite;\n                    border-radius: 8px;\n                }\n\n                /* ========================================\n                   MOBILE DRAWER (Tailwind class support)\n                   ======================================== */\n                .sleek-drawer.translate-x-full {\n                    transform: translateX(100%);\n                }\n\n                .sleek-drawer-overlay.hidden {\n                    display: none;\n                }\n\n                .sleek-drawer-overlay.opacity-0 {\n                    opacity: 0;\n                }\n\n                /* ========================================\n                   PRINT STYLES\n                   ======================================== */\n                @media print {\n                    .sleek-header, .sleek-footer, .sleek-bottom-nav,\n                    .sleek-drawer-overlay, .sleek-drawer,\n                    .sleek-toast-container, button {\n                        display: none !important;\n                    }\n\n                    body, #tixello-app, main, #tixello-content {\n                        background: white !important;\n                        color: black !important;\n                        padding: 0 !important;\n                    }\n\n                    canvas, img {\n                        max-width: 100% !important;\n                        -webkit-print-color-adjust: exact !important;\n                        print-color-adjust: exact !important;\n                    }\n                }\n\n                /* ========================================\n                   ACCESSIBILITY\n                   ======================================== */\n                @media (prefers-reduced-motion: reduce) {\n                    *, *::before, *::after {\n                        animation-duration: 0.01ms !important;\n                        transition-duration: 0.01ms !important;\n                    }\n                }\n\n                *:focus-visible {\n                    outline: 2px solid var(--sleek-gradient-start);\n                    outline-offset: 2px;\n                }\n\n                ::selection {\n                    background: var(--sleek-gradient-start);\n                    color: white;\n                }\n\n                html {\n                    scroll-behavior: smooth;\n                }\n\n                /* PWA safe areas */\n                @supports (padding: env(safe-area-inset-bottom)) {\n                    .sleek-bottom-nav {\n                        padding-bottom: calc(0.5rem + env(safe-area-inset-bottom));\n                    }\n                }\n            </style>\n\n            \x3c!-- Toast Container --\x3e\n            <div id="sleek-toast-container" class="sleek-toast-container"></div>\n\n            \x3c!-- Header with Tailwind classes --\x3e\n            <header class="fixed top-0 left-0 right-0 z-50 bg-[#0a0a0f]/80 backdrop-blur-xl border-b border-white/[0.08]">\n                <div class="max-w-[1400px] mx-auto px-4 md:px-8 h-16 md:h-[72px] flex items-center justify-between">\n                    \x3c!-- Logo --\x3e\n                    <a href="/" class="flex items-center gap-3 text-white font-bold text-xl tracking-tight">\n                        ${o?`<img src="${o}" alt="${l}" class="h-8 md:h-9 w-auto">`:`<span>${l}</span>`}\n                    </a>\n\n                    \x3c!-- Desktop Search --\x3e\n                    <div class="hidden lg:block relative">\n                        <svg class="absolute left-3.5 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500 pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>\n                        </svg>\n                        <input type="text"\n                            class="w-[220px] focus:w-[280px] pl-10 pr-4 py-2.5 bg-white/5 border border-white/[0.08] rounded-full text-white text-sm placeholder-slate-500 transition-all duration-300 focus:bg-[#1a1a24] focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none"\n                            placeholder="Cauta evenimente..."\n                            id="sleek-search-input">\n                    </div>\n\n                    \x3c!-- Desktop Nav --\x3e\n                    <nav class="hidden md:flex items-center gap-1">\n                        <a href="/events" class="px-4 py-2 text-slate-400 hover:text-white text-sm font-medium rounded-lg transition-colors">Evenimente</a>\n                        ${(null==(r=e.modules)?void 0:r.includes("shop"))?'<a href="/shop" class="px-4 py-2 text-slate-400 hover:text-white text-sm font-medium rounded-lg transition-colors">Magazin</a>':""}\n                        <a href="/blog" class="px-4 py-2 text-slate-400 hover:text-white text-sm font-medium rounded-lg transition-colors">Blog</a>\n                        ${c}\n                    </nav>\n\n                    \x3c!-- Actions --\x3e\n                    <div class="flex items-center gap-2">\n                        \x3c!-- Mobile Search Button --\x3e\n                        <button class="lg:hidden flex items-center justify-center w-11 h-11 text-slate-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors" id="mobile-search-btn" aria-label="Search">\n                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>\n                            </svg>\n                        </button>\n\n                        \x3c!-- Cart --\x3e\n                        <a href="/cart" class="relative flex items-center justify-center w-11 h-11 bg-white/5 border border-white/[0.08] rounded-full text-white hover:bg-white/10 hover:border-white/[0.12] hover:scale-105 transition-all" aria-label="Shopping Cart">\n                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>\n                            </svg>\n                            <span id="cart-badge" class="absolute -top-1 -right-1 min-w-[20px] h-5 px-1.5 bg-gradient-to-r from-indigo-500 to-purple-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center shadow-lg shadow-indigo-500/30 hidden">0</span>\n                        </a>\n\n                        \x3c!-- Account (Desktop) --\x3e\n                        <a href="/account" id="account-link" class="hidden md:flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-500 text-white text-sm font-semibold rounded-full hover:-translate-y-0.5 hover:shadow-lg hover:shadow-indigo-500/25 transition-all">\n                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>\n                            </svg>\n                            <span>Contul meu</span>\n                        </a>\n\n                        \x3c!-- Mobile Menu Button --\x3e\n                        <button class="md:hidden flex items-center justify-center w-11 h-11 text-white hover:bg-white/5 rounded-lg transition-colors" id="mobile-menu-btn" aria-label="Open Menu">\n                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>\n                            </svg>\n                        </button>\n                    </div>\n                </div>\n            </header>\n\n            \x3c!-- Mobile Search Overlay --\x3e\n            <div id="mobile-search-overlay" class="fixed inset-0 bg-[#0a0a0f] z-[300] p-4 -translate-y-full transition-transform duration-300" style="transition-timing-function: cubic-bezier(0.32, 0.72, 0, 1);">\n                <div class="flex items-center gap-3 mb-4">\n                    <input type="text" class="flex-1 px-4 py-3.5 bg-[#12121a] border border-white/[0.08] rounded-xl text-white placeholder-slate-500 focus:border-indigo-500 focus:outline-none" placeholder="Cauta evenimente..." id="mobile-search-input">\n                    <button class="px-4 py-2 text-indigo-400 font-medium" id="mobile-search-cancel">Anuleaza</button>\n                </div>\n                <div id="mobile-search-results"></div>\n            </div>\n\n            \x3c!-- Mobile Drawer Overlay --\x3e\n            <div id="mobile-menu-overlay" class="sleek-drawer-overlay fixed inset-0 bg-black/60 backdrop-blur-sm z-[200] hidden opacity-0 transition-opacity duration-300"></div>\n\n            \x3c!-- Mobile Drawer --\x3e\n            <div id="mobile-menu-drawer" class="sleek-drawer fixed top-0 right-0 bottom-0 w-[300px] max-w-[85vw] bg-[#12121a] border-l border-white/[0.08] z-[201] translate-x-full flex flex-col transition-transform duration-400" style="transition-timing-function: cubic-bezier(0.32, 0.72, 0, 1);">\n                <div class="flex items-center justify-between p-4 border-b border-white/[0.08]">\n                    <span class="font-semibold text-white">Menu</span>\n                    <button id="mobile-menu-close" class="w-9 h-9 flex items-center justify-center bg-white/5 rounded-full text-slate-400 hover:text-white hover:bg-white/10 transition-colors" aria-label="Close Menu">\n                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>\n                        </svg>\n                    </button>\n                </div>\n                <nav class="flex-1 p-4 overflow-y-auto">\n                    <a href="/events" class="flex items-center gap-3 px-4 py-3.5 text-white font-medium rounded-xl hover:bg-white/5 transition-colors mb-1">\n                        <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>\n                        </svg>\n                        Evenimente\n                    </a>\n                    ${(null==(a=e.modules)?void 0:a.includes("shop"))?'\n                    <a href="/shop" class="flex items-center gap-3 px-4 py-3.5 text-white font-medium rounded-xl hover:bg-white/5 transition-colors mb-1">\n                        <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>\n                        </svg>\n                        Magazin\n                    </a>\n                    ':""}\n                    <a href="/blog" class="flex items-center gap-3 px-4 py-3.5 text-white font-medium rounded-xl hover:bg-white/5 transition-colors mb-1">\n                        <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/>\n                        </svg>\n                        Blog\n                    </a>\n                    ${d.map(e=>`\n                        <a href="${e.url}" class="flex items-center gap-3 px-4 py-3.5 text-white font-medium rounded-xl hover:bg-white/5 transition-colors mb-1">\n                            <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>\n                            </svg>\n                            ${e.title}\n                        </a>\n                    `).join("")}\n                    <div class="h-px bg-white/[0.08] my-4"></div>\n                    <a href="/account" class="flex items-center gap-3 px-4 py-3.5 text-white font-medium rounded-xl hover:bg-white/5 transition-colors mb-1">\n                        <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>\n                        </svg>\n                        Contul meu\n                    </a>\n                    <a href="/account/orders" class="flex items-center gap-3 px-4 py-3.5 text-white font-medium rounded-xl hover:bg-white/5 transition-colors mb-1">\n                        <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>\n                        </svg>\n                        Comenzile mele\n                    </a>\n                    <a href="/account/tickets" class="flex items-center gap-3 px-4 py-3.5 text-white font-medium rounded-xl hover:bg-white/5 transition-colors mb-1">\n                        <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"/>\n                        </svg>\n                        Biletele mele\n                    </a>\n                    ${(null==(s=e.modules)?void 0:s.includes("gamification"))?'\n                    <a href="/account/points" class="flex items-center gap-3 px-4 py-3.5 text-white font-medium rounded-xl hover:bg-white/5 transition-colors mb-1">\n                        <svg class="w-5 h-5 text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>\n                        </svg>\n                        Punctele mele\n                    </a>\n                    ':""}\n                </nav>\n                <div class="p-4 border-t border-white/[0.08]">\n                    <a href="/cart" class="flex items-center justify-center gap-2 w-full px-4 py-3.5 bg-gradient-to-r from-indigo-500 to-purple-500 text-white font-semibold rounded-xl hover:shadow-lg hover:shadow-indigo-500/25 transition-all">\n                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>\n                        </svg>\n                        Vezi Cosul\n                        <span id="cart-badge-menu" class="ml-auto px-2 py-0.5 bg-white/20 text-white text-xs font-bold rounded-full hidden">0</span>\n                    </a>\n                </div>\n            </div>\n\n            \x3c!-- Mobile Bottom Navigation --\x3e\n            <nav class="sleek-bottom-nav md:hidden fixed bottom-0 left-0 right-0 z-[90] flex bg-[#12121a]/95 backdrop-blur-xl border-t border-white/[0.08] py-2">\n                <a href="/" class="flex-1 flex flex-col items-center gap-1 py-2 text-slate-400 hover:text-indigo-400 transition-colors">\n                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>\n                    </svg>\n                    <span class="text-[10px] font-medium">Acasa</span>\n                </a>\n                <a href="/events" class="flex-1 flex flex-col items-center gap-1 py-2 text-slate-400 hover:text-indigo-400 transition-colors">\n                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>\n                    </svg>\n                    <span class="text-[10px] font-medium">Descopera</span>\n                </a>\n                <a href="/account/tickets" class="flex-1 flex flex-col items-center gap-1 py-2 text-slate-400 hover:text-indigo-400 transition-colors">\n                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"/>\n                    </svg>\n                    <span class="text-[10px] font-medium">Bilete</span>\n                </a>\n                <a href="/account" class="flex-1 flex flex-col items-center gap-1 py-2 text-slate-400 hover:text-indigo-400 transition-colors">\n                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>\n                    </svg>\n                    <span class="text-[10px] font-medium">Cont</span>\n                </a>\n            </nav>\n        `},renderFooter:e=>{var t,n,i,r,a;const s=(null==(t=e.site)?void 0:t.title)||"Tixello",o=(new Date).getFullYear(),l=e.social||{},d=(null==(n=e.menus)?void 0:n.footer)||[],c=[];l.facebook&&c.push(`<a href="${l.facebook}" target="_blank" class="w-10 h-10 flex items-center justify-center bg-white/5 border border-white/[0.08] rounded-full text-slate-400 hover:bg-indigo-500 hover:border-indigo-500 hover:text-white hover:-translate-y-0.5 transition-all" aria-label="Facebook"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg></a>`),l.instagram&&c.push(`<a href="${l.instagram}" target="_blank" class="w-10 h-10 flex items-center justify-center bg-white/5 border border-white/[0.08] rounded-full text-slate-400 hover:bg-indigo-500 hover:border-indigo-500 hover:text-white hover:-translate-y-0.5 transition-all" aria-label="Instagram"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg></a>`),l.twitter&&c.push(`<a href="${l.twitter}" target="_blank" class="w-10 h-10 flex items-center justify-center bg-white/5 border border-white/[0.08] rounded-full text-slate-400 hover:bg-indigo-500 hover:border-indigo-500 hover:text-white hover:-translate-y-0.5 transition-all" aria-label="Twitter"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>`),l.youtube&&c.push(`<a href="${l.youtube}" target="_blank" class="w-10 h-10 flex items-center justify-center bg-white/5 border border-white/[0.08] rounded-full text-slate-400 hover:bg-indigo-500 hover:border-indigo-500 hover:text-white hover:-translate-y-0.5 transition-all" aria-label="YouTube"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg></a>`),l.tiktok&&c.push(`<a href="${l.tiktok}" target="_blank" class="w-10 h-10 flex items-center justify-center bg-white/5 border border-white/[0.08] rounded-full text-slate-400 hover:bg-indigo-500 hover:border-indigo-500 hover:text-white hover:-translate-y-0.5 transition-all" aria-label="TikTok"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"/></svg></a>`),l.linkedin&&c.push(`<a href="${l.linkedin}" target="_blank" class="w-10 h-10 flex items-center justify-center bg-white/5 border border-white/[0.08] rounded-full text-slate-400 hover:bg-indigo-500 hover:border-indigo-500 hover:text-white hover:-translate-y-0.5 transition-all" aria-label="LinkedIn"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg></a>`);const p=c.length>0?`<div class="flex gap-3 mt-4">${c.join("")}</div>`:"",m=d.map(e=>`<li><a href="${e.url}" class="text-slate-400 hover:text-white transition-colors">${e.title}</a></li>`).join("");return`\n            <footer class="bg-[#12121a] border-t border-white/[0.08] mt-16 mb-16 md:mb-0">\n                <div class="max-w-[1400px] mx-auto px-4 md:px-8 py-12 md:py-16">\n                    <div class="grid grid-cols-2 md:grid-cols-4 gap-8 md:gap-12">\n                        \x3c!-- Brand --\x3e\n                        <div class="col-span-2">\n                            <h3 class="text-xl font-bold text-white mb-4">${s}</h3>\n                            <p class="text-slate-400 text-sm leading-relaxed mb-4 max-w-sm">${(null==(i=e.site)?void 0:i.description)||"Descoperiti cele mai bune evenimente si cumparati bilete online."}</p>\n                            ${p}\n                        </div>\n\n                        \x3c!-- Quick Links --\x3e\n                        <div>\n                            <h4 class="text-xs font-semibold text-white uppercase tracking-wider mb-4">Navigare</h4>\n                            <ul class="space-y-3 text-sm">\n                                <li><a href="/events" class="text-slate-400 hover:text-white transition-colors">Evenimente</a></li>\n                                <li><a href="/past-events" class="text-slate-400 hover:text-white transition-colors">Evenimente trecute</a></li>\n                                <li><a href="/blog" class="text-slate-400 hover:text-white transition-colors">Blog</a></li>\n                                <li><a href="/account" class="text-slate-400 hover:text-white transition-colors">Contul meu</a></li>\n                            </ul>\n                        </div>\n\n                        \x3c!-- Legal --\x3e\n                        <div>\n                            <h4 class="text-xs font-semibold text-white uppercase tracking-wider mb-4">Legal</h4>\n                            <ul class="space-y-3 text-sm">\n                                <li><a href="/terms" class="text-slate-400 hover:text-white transition-colors">Termeni si conditii</a></li>\n                                <li><a href="/privacy" class="text-slate-400 hover:text-white transition-colors">Confidentialitate</a></li>\n                                ${m}\n                            </ul>\n                        </div>\n                    </div>\n\n                    \x3c!-- Bottom --\x3e\n                    <div class="mt-12 pt-8 border-t border-white/[0.08] flex flex-col sm:flex-row gap-4 items-center justify-between text-sm text-slate-500">\n                        <p>&copy; ${o} ${s}. Toate drepturile rezervate.</p>\n                        <div class="flex items-center gap-2">\n                            <span>Powered by</span>\n                            <a href="${(null==(r=e.platform)?void 0:r.url)||"https://tixello.com"}" target="_blank" rel="noopener noreferrer" class="text-indigo-400 font-semibold hover:text-indigo-300 transition-colors">\n                                ${(null==(a=e.platform)?void 0:a.name)||"Tixello"}\n                            </a>\n                        </div>\n                    </div>\n                </div>\n            </footer>\n        `}};i.registerTemplate("sleek",s);const o={name:"theater",headerClass:"fixed top-0 left-0 right-0 z-50 bg-[#1a0a0d]/95 backdrop-blur-md border-b border-[#D4AF37]/20",footerClass:"bg-[#0f0608] border-t border-[#D4AF37]/20 mt-16",containerClass:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",heroClass:"text-center py-20 bg-gradient-to-b from-[#1a0a0d] via-[#2d1218] to-[#1a0a0d] text-[#FDF8F0]",heroTitleClass:"text-5xl md:text-6xl font-serif font-bold text-[#FDF8F0] mb-6 tracking-wide",heroSubtitleClass:"text-xl text-[#FDF8F0]/80 mb-10 max-w-2xl mx-auto font-light",cardClass:"bg-[#1a0a0d] border border-[#D4AF37]/20 rounded-lg overflow-hidden shadow-xl transition-all duration-300",cardHoverClass:"hover:border-[#D4AF37]/50 hover:shadow-2xl hover:shadow-[#D4AF37]/10",primaryButtonClass:"inline-flex items-center gap-2 px-8 py-3 bg-gradient-to-r from-[#D4AF37] to-[#B8962E] text-[#1a0a0d] font-semibold rounded transition-all duration-300 hover:shadow-lg hover:shadow-[#D4AF37]/30 uppercase tracking-wider text-sm",secondaryButtonClass:"inline-flex items-center gap-2 px-8 py-3 border-2 border-[#D4AF37] text-[#D4AF37] font-semibold rounded transition-all duration-300 hover:bg-[#D4AF37] hover:text-[#1a0a0d] uppercase tracking-wider text-sm",headingClass:"text-3xl font-serif font-bold text-[#FDF8F0]",subheadingClass:"text-lg text-[#FDF8F0]/70",renderHeader:e=>{var t,n,i,r,a,s;const o=null==(t=e.theme)?void 0:t.logo,l=(null==(n=e.site)?void 0:n.title)||"Theater",d=(null==(i=e.menus)?void 0:i.header)||[],c=d.map(e=>`<a href="${e.url}" class="text-[#FDF8F0]/80 hover:text-[#D4AF37] transition-colors duration-300 tracking-wide">${e.title}</a>`).join("");return`\n            \x3c!-- Theater Header --\x3e\n            <header class="theater-header fixed top-0 left-0 right-0 z-50 bg-[#1a0a0d]/95 backdrop-blur-md border-b border-[#D4AF37]/20">\n                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                    <div class="flex justify-between items-center h-20">\n                        \x3c!-- Logo --\x3e\n                        <a href="/" class="flex items-center group">\n                            ${o?`<img src="${o}" alt="${l}" class="h-12 w-auto">`:`<span class="text-2xl font-serif font-bold text-[#D4AF37] tracking-wider">${l}</span>`}\n                        </a>\n\n                        \x3c!-- Desktop Navigation --\x3e\n                        <nav class="hidden md:flex items-center space-x-8">\n                            <a href="/events" class="text-[#FDF8F0]/80 hover:text-[#D4AF37] transition-colors duration-300 tracking-wide">Spectacole</a>\n                            ${(null==(r=e.modules)?void 0:r.includes("shop"))?'<a href="/shop" class="text-[#FDF8F0]/80 hover:text-[#D4AF37] transition-colors duration-300 tracking-wide">Magazin</a>':""}\n                            <a href="/blog" class="text-[#FDF8F0]/80 hover:text-[#D4AF37] transition-colors duration-300 tracking-wide">Noutăți</a>\n                            ${c}\n                            <a href="/cart" class="relative text-[#D4AF37] hover:text-[#FDF8F0] transition-colors duration-300 p-2">\n                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 512 512" stroke-width="28">\n                                    <path d="M336.333 416.667v-32.134M336.333 320.267v-32.134M336.333 223.867v-32.134M336.333 127.467V95.333M497 191.733c-35.467 0-64.267 28.799-64.267 64.267s28.8 64.267 64.267 64.267v37.435c0 38.214-20.75 58.965-58.965 58.965H73.965C35.75 416.667 15 395.917 15 357.702v-37.435c35.467 0 64.267-28.799 64.267-64.267S50.467 191.733 15 191.733v-37.435c0-38.214 20.75-58.965 58.965-58.965h364.07c38.215 0 58.965 20.75 58.965 58.965v37.435z" stroke-linecap="round" stroke-linejoin="round"/>\n                                </svg>\n                                <span id="cart-badge" class="absolute -top-1 -right-1 bg-[#D4AF37] text-[#1a0a0d] text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center hidden">0</span>\n                            </a>\n                            <a href="/login" id="account-link" class="inline-flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-[#D4AF37] to-[#B8962E] text-[#1a0a0d] font-semibold rounded transition-all duration-300 hover:shadow-lg hover:shadow-[#D4AF37]/30 uppercase tracking-wider text-sm">\n                                Contul meu\n                            </a>\n                        </nav>\n\n                        \x3c!-- Mobile: Cart + Menu --\x3e\n                        <div class="md:hidden flex items-center gap-3">\n                            <a href="/cart" class="relative p-2 text-[#D4AF37]">\n                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 512 512" stroke-width="28">\n                                    <path d="M336.333 416.667v-32.134M336.333 320.267v-32.134M336.333 223.867v-32.134M336.333 127.467V95.333M497 191.733c-35.467 0-64.267 28.799-64.267 64.267s28.8 64.267 64.267 64.267v37.435c0 38.214-20.75 58.965-58.965 58.965H73.965C35.75 416.667 15 395.917 15 357.702v-37.435c35.467 0 64.267-28.799 64.267-64.267S50.467 191.733 15 191.733v-37.435c0-38.214 20.75-58.965 58.965-58.965h364.07c38.215 0 58.965 20.75 58.965 58.965v37.435z" stroke-linecap="round" stroke-linejoin="round"/>\n                                </svg>\n                                <span class="absolute -top-1 -right-1 bg-[#D4AF37] text-[#1a0a0d] text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center hidden">0</span>\n                            </a>\n                            <button id="mobile-menu-btn" class="p-2 text-[#D4AF37] hover:text-[#FDF8F0] transition-colors" aria-label="Deschide meniu">\n                                <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 6h16M4 12h16M4 18h16"/>\n                                </svg>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </header>\n\n            \x3c!-- Mobile Menu Overlay --\x3e\n            <div id="mobile-menu-overlay" class="theater-drawer-overlay hidden opacity-0"></div>\n\n            \x3c!-- Mobile Menu Drawer --\x3e\n            <div id="mobile-menu-drawer" class="theater-drawer translate-x-full">\n                <div class="h-full flex flex-col">\n                    \x3c!-- Drawer Header --\x3e\n                    <div class="flex items-center justify-between p-5 border-b border-[#D4AF37]/20">\n                        <span class="text-lg font-serif font-bold text-[#D4AF37] tracking-wider">Meniu</span>\n                        <button id="mobile-menu-close" class="p-2 text-[#FDF8F0]/60 hover:text-[#D4AF37] transition-colors" aria-label="Închide meniu">\n                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 18L18 6M6 6l12 12"/>\n                            </svg>\n                        </button>\n                    </div>\n\n                    \x3c!-- Drawer Navigation --\x3e\n                    <nav class="flex-1 overflow-y-auto p-4">\n                        <div class="space-y-1">\n                            <a href="/events" class="flex items-center gap-3 px-4 py-4 text-[#FDF8F0] hover:bg-[#D4AF37]/10 hover:text-[#D4AF37] rounded-lg transition-all duration-300 group">\n                                <svg class="w-5 h-5 text-[#D4AF37]/70 group-hover:text-[#D4AF37]" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"/>\n                                </svg>\n                                <span class="tracking-wide">Spectacole</span>\n                            </a>\n                            ${(null==(a=e.modules)?void 0:a.includes("shop"))?'\n                            <a href="/shop" class="flex items-center gap-3 px-4 py-4 text-[#FDF8F0] hover:bg-[#D4AF37]/10 hover:text-[#D4AF37] rounded-lg transition-all duration-300 group">\n                                <svg class="w-5 h-5 text-[#D4AF37]/70 group-hover:text-[#D4AF37]" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>\n                                </svg>\n                                <span class="tracking-wide">Magazin</span>\n                            </a>\n                            ':""}\n                            <a href="/blog" class="flex items-center gap-3 px-4 py-4 text-[#FDF8F0] hover:bg-[#D4AF37]/10 hover:text-[#D4AF37] rounded-lg transition-all duration-300 group">\n                                <svg class="w-5 h-5 text-[#D4AF37]/70 group-hover:text-[#D4AF37]" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/>\n                                </svg>\n                                <span class="tracking-wide">Noutăți</span>\n                            </a>\n                            ${d.map(e=>`\n                            <a href="${e.url}" class="flex items-center gap-3 px-4 py-4 text-[#FDF8F0] hover:bg-[#D4AF37]/10 hover:text-[#D4AF37] rounded-lg transition-all duration-300">\n                                <svg class="w-5 h-5 text-[#D4AF37]/70" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13 7l5 5m0 0l-5 5m5-5H6"/>\n                                </svg>\n                                <span class="tracking-wide">${e.title}</span>\n                            </a>\n                            `).join("")}\n                        </div>\n\n                        \x3c!-- Divider with gold accent --\x3e\n                        <div class="my-4 flex items-center gap-3">\n                            <div class="flex-1 h-px bg-gradient-to-r from-transparent via-[#D4AF37]/30 to-transparent"></div>\n                        </div>\n\n                        <div class="space-y-1">\n                            <a href="/account" class="flex items-center gap-3 px-4 py-4 text-[#FDF8F0] hover:bg-[#D4AF37]/10 hover:text-[#D4AF37] rounded-lg transition-all duration-300 group">\n                                <svg class="w-5 h-5 text-[#D4AF37]/70 group-hover:text-[#D4AF37]" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>\n                                </svg>\n                                <span class="tracking-wide">Contul meu</span>\n                            </a>\n                            ${(null==(s=e.modules)?void 0:s.includes("gamification"))?'\n                            <a href="/account/points" class="flex items-center gap-3 px-4 py-4 text-[#FDF8F0] hover:bg-[#D4AF37]/10 hover:text-[#D4AF37] rounded-lg transition-all duration-300 group">\n                                <svg class="w-5 h-5 text-[#D4AF37] group-hover:text-[#D4AF37]" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>\n                                </svg>\n                                <span class="tracking-wide">Punctele mele</span>\n                            </a>\n                            ':""}\n                            <a href="/cart" class="flex items-center justify-between px-4 py-4 text-[#FDF8F0] hover:bg-[#D4AF37]/10 hover:text-[#D4AF37] rounded-lg transition-all duration-300 group">\n                                <div class="flex items-center gap-3">\n                                    <svg class="w-5 h-5 text-[#D4AF37]/70 group-hover:text-[#D4AF37]" fill="none" stroke="currentColor" viewBox="0 0 512 512" stroke-width="35">\n                                        <path d="M336.333 416.667v-32.134M336.333 320.267v-32.134M336.333 223.867v-32.134M336.333 127.467V95.333M497 191.733c-35.467 0-64.267 28.799-64.267 64.267s28.8 64.267 64.267 64.267v37.435c0 38.214-20.75 58.965-58.965 58.965H73.965C35.75 416.667 15 395.917 15 357.702v-37.435c35.467 0 64.267-28.799 64.267-64.267S50.467 191.733 15 191.733v-37.435c0-38.214 20.75-58.965 58.965-58.965h364.07c38.215 0 58.965 20.75 58.965 58.965v37.435z" stroke-linecap="round" stroke-linejoin="round"/>\n                                    </svg>\n                                    <span class="tracking-wide">Bilete rezervate</span>\n                                </div>\n                                <span class="bg-[#D4AF37] text-[#1a0a0d] text-xs font-bold rounded-full h-5 min-w-[1.25rem] px-1 flex items-center justify-center hidden">0</span>\n                            </a>\n                        </div>\n                    </nav>\n\n                    \x3c!-- Drawer Footer --\x3e\n                    <div class="p-4 border-t border-[#D4AF37]/20">\n                        <a href="/login" class="flex items-center justify-center gap-2 w-full px-6 py-3 bg-gradient-to-r from-[#D4AF37] to-[#B8962E] text-[#1a0a0d] font-semibold rounded transition-all duration-300 uppercase tracking-wider text-sm">\n                            Conectare\n                        </a>\n                    </div>\n                </div>\n            </div>\n\n            \x3c!-- Toast Container --\x3e\n            <div id="toast-container" class="fixed bottom-4 right-4 z-[100] flex flex-col gap-2"></div>\n        `},renderFooter:e=>{var t,n,i,r,a,s,o,l;const d=(null==(t=e.site)?void 0:t.title)||"Theater",c=(new Date).getFullYear(),p=e.social||{},m=((null==(n=e.menus)?void 0:n.footer)||[]).map(e=>`<li><a href="${e.url}" class="text-[#FDF8F0]/60 hover:text-[#D4AF37] transition-colors duration-300">${e.title}</a></li>`).join(""),u=[];p.facebook&&u.push(`<a href="${p.facebook}" target="_blank" class="w-10 h-10 rounded-full border border-[#D4AF37]/30 flex items-center justify-center text-[#D4AF37]/70 hover:text-[#D4AF37] hover:border-[#D4AF37] hover:bg-[#D4AF37]/10 transition-all duration-300" aria-label="Facebook"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg></a>`),p.instagram&&u.push(`<a href="${p.instagram}" target="_blank" class="w-10 h-10 rounded-full border border-[#D4AF37]/30 flex items-center justify-center text-[#D4AF37]/70 hover:text-[#D4AF37] hover:border-[#D4AF37] hover:bg-[#D4AF37]/10 transition-all duration-300" aria-label="Instagram"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg></a>`),p.twitter&&u.push(`<a href="${p.twitter}" target="_blank" class="w-10 h-10 rounded-full border border-[#D4AF37]/30 flex items-center justify-center text-[#D4AF37]/70 hover:text-[#D4AF37] hover:border-[#D4AF37] hover:bg-[#D4AF37]/10 transition-all duration-300" aria-label="Twitter"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>`),p.youtube&&u.push(`<a href="${p.youtube}" target="_blank" class="w-10 h-10 rounded-full border border-[#D4AF37]/30 flex items-center justify-center text-[#D4AF37]/70 hover:text-[#D4AF37] hover:border-[#D4AF37] hover:bg-[#D4AF37]/10 transition-all duration-300" aria-label="YouTube"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg></a>`),p.tiktok&&u.push(`<a href="${p.tiktok}" target="_blank" class="w-10 h-10 rounded-full border border-[#D4AF37]/30 flex items-center justify-center text-[#D4AF37]/70 hover:text-[#D4AF37] hover:border-[#D4AF37] hover:bg-[#D4AF37]/10 transition-all duration-300" aria-label="TikTok"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"/></svg></a>`),p.linkedin&&u.push(`<a href="${p.linkedin}" target="_blank" class="w-10 h-10 rounded-full border border-[#D4AF37]/30 flex items-center justify-center text-[#D4AF37]/70 hover:text-[#D4AF37] hover:border-[#D4AF37] hover:bg-[#D4AF37]/10 transition-all duration-300" aria-label="LinkedIn"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg></a>`);const g=u.length>0?`<div class="flex gap-3 mt-6">${u.join("")}</div>`:"";return`\n            <footer class="theater-footer bg-[#0f0608] border-t border-[#D4AF37]/20 mt-16">\n                \x3c!-- Decorative curtain border --\x3e\n                <div class="h-1 bg-gradient-to-r from-transparent via-[#D4AF37] to-transparent opacity-50"></div>\n\n                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-16">\n                    <div class="grid grid-cols-2 md:grid-cols-4 gap-8 md:gap-12">\n                        \x3c!-- Brand Column --\x3e\n                        <div class="col-span-2">\n                            <h3 class="text-2xl font-serif font-bold text-[#D4AF37] mb-4 tracking-wider">${d}</h3>\n                            <p class="text-[#FDF8F0]/60 mb-4 leading-relaxed">${(null==(i=e.site)?void 0:i.description)||""}</p>\n                            ${(null==(r=e.site)?void 0:r.tagline)?`<p class="text-[#D4AF37]/80 font-serif italic">"${e.site.tagline}"</p>`:""}\n                            ${g}\n                        </div>\n\n                        \x3c!-- Quick Links --\x3e\n                        <div>\n                            <h4 class="text-sm font-semibold text-[#D4AF37] uppercase tracking-widest mb-5">Program</h4>\n                            <ul class="space-y-3">\n                                <li><a href="/events" class="text-[#FDF8F0]/60 hover:text-[#D4AF37] transition-colors duration-300">Spectacole curente</a></li>\n                                <li><a href="/past-events" class="text-[#FDF8F0]/60 hover:text-[#D4AF37] transition-colors duration-300">Arhivă spectacole</a></li>\n                                <li><a href="/blog" class="text-[#FDF8F0]/60 hover:text-[#D4AF37] transition-colors duration-300">Noutăți</a></li>\n                                <li><a href="/account" class="text-[#FDF8F0]/60 hover:text-[#D4AF37] transition-colors duration-300">Contul meu</a></li>\n                            </ul>\n                        </div>\n\n                        \x3c!-- Legal --\x3e\n                        <div>\n                            <h4 class="text-sm font-semibold text-[#D4AF37] uppercase tracking-widest mb-5">Informații</h4>\n                            <ul class="space-y-3">\n                                <li><a href="/terms" class="text-[#FDF8F0]/60 hover:text-[#D4AF37] transition-colors duration-300">Termeni și condiții</a></li>\n                                <li><a href="/privacy" class="text-[#FDF8F0]/60 hover:text-[#D4AF37] transition-colors duration-300">Confidențialitate</a></li>\n                                ${m}\n                            </ul>\n                        </div>\n                    </div>\n\n                    \x3c!-- Bottom Bar --\x3e\n                    <div class="border-t border-[#D4AF37]/10 mt-12 pt-8">\n                        <div class="flex flex-col sm:flex-row gap-4 items-center justify-between text-sm">\n                            <p class="text-[#FDF8F0]/50">&copy; ${c} ${d}. Toate drepturile rezervate.</p>\n                            <div class="flex items-center gap-2 text-[#FDF8F0]/50">\n                                <span>Powered by</span>\n                                <a href="${(null==(a=e.platform)?void 0:a.url)||"https://tixello.com"}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center">\n                                    ${(null==(s=e.platform)?void 0:s.logo_dark)?`<img src="${e.platform.logo_dark}" alt="${(null==(o=e.platform)?void 0:o.name)||"Tixello"}" class="h-4 w-auto opacity-70 hover:opacity-100 transition-opacity">`:`<span class="text-[#D4AF37] font-semibold hover:underline">${(null==(l=e.platform)?void 0:l.name)||"Tixello"}</span>`}\n                                </a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </footer>\n        `},customStyles:'\n        /* ============================================\n           THEATER TEMPLATE - Custom Styles\n           ============================================ */\n\n        /* Google Font - Playfair Display for elegant serif headings */\n        @import url(\'https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap\');\n\n        /* ============================================\n           CSS Variables - Theater Theme\n           ============================================ */\n        :root {\n            --theater-burgundy: #7A1527;\n            --theater-burgundy-dark: #5a101d;\n            --theater-gold: #D4AF37;\n            --theater-gold-light: #E5C76B;\n            --theater-cream: #FDF8F0;\n            --theater-charcoal: #1a0a0d;\n            --theater-charcoal-light: #2d1218;\n            --theater-shadow: rgba(212, 175, 55, 0.15);\n        }\n\n        /* ============================================\n           Typography\n           ============================================ */\n        .theater-header,\n        .theater-footer,\n        .theater-drawer {\n            font-family: system-ui, -apple-system, sans-serif;\n        }\n\n        /* Serif headings throughout the page */\n        h1, h2, h3, .font-serif {\n            font-family: \'Playfair Display\', Georgia, serif !important;\n        }\n\n        /* ============================================\n           Body & Main Content\n           ============================================ */\n        body {\n            background: linear-gradient(135deg, var(--theater-charcoal) 0%, #0f0608 100%);\n            color: var(--theater-cream);\n            min-height: 100vh;\n        }\n\n        main {\n            padding-top: 5rem;\n        }\n\n        /* ============================================\n           Mobile Drawer Styles\n           ============================================ */\n        .theater-drawer-overlay {\n            position: fixed;\n            inset: 0;\n            background: rgba(15, 6, 8, 0.85);\n            backdrop-filter: blur(4px);\n            z-index: 60;\n            transition: opacity 0.3s ease;\n        }\n\n        .theater-drawer-overlay:not(.hidden) {\n            opacity: 1;\n        }\n\n        .theater-drawer {\n            position: fixed;\n            top: 0;\n            right: 0;\n            height: 100%;\n            width: 18rem;\n            background: linear-gradient(180deg, var(--theater-charcoal) 0%, #0f0608 100%);\n            border-left: 1px solid rgba(212, 175, 55, 0.2);\n            z-index: 70;\n            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n            box-shadow: -10px 0 30px rgba(0, 0, 0, 0.5);\n        }\n\n        .theater-drawer:not(.translate-x-full) {\n            transform: translateX(0);\n        }\n\n        /* ============================================\n           Event Cards\n           ============================================ */\n        .event-card,\n        [class*="event-card"] {\n            background: var(--theater-charcoal) !important;\n            border: 1px solid rgba(212, 175, 55, 0.15) !important;\n            border-radius: 0.5rem;\n            overflow: hidden;\n            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n        }\n\n        .event-card:hover,\n        [class*="event-card"]:hover {\n            border-color: rgba(212, 175, 55, 0.4) !important;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4),\n                        0 0 40px var(--theater-shadow);\n            transform: translateY(-4px);\n        }\n\n        .event-card img {\n            transition: transform 0.5s ease;\n        }\n\n        .event-card:hover img {\n            transform: scale(1.05);\n        }\n\n        /* ============================================\n           Form Inputs - Theater Style\n           ============================================ */\n        input[type="text"],\n        input[type="email"],\n        input[type="password"],\n        input[type="number"],\n        input[type="tel"],\n        input[type="date"],\n        textarea,\n        select {\n            background: rgba(253, 248, 240, 0.05) !important;\n            border: 1px solid rgba(212, 175, 55, 0.2) !important;\n            color: var(--theater-cream) !important;\n            border-radius: 0.375rem;\n            padding: 0.75rem 1rem;\n            transition: all 0.3s ease;\n        }\n\n        input:focus,\n        textarea:focus,\n        select:focus {\n            outline: none;\n            border-color: var(--theater-gold) !important;\n            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.15);\n            background: rgba(253, 248, 240, 0.08) !important;\n        }\n\n        input::placeholder,\n        textarea::placeholder {\n            color: rgba(253, 248, 240, 0.4);\n        }\n\n        /* ============================================\n           Buttons\n           ============================================ */\n        .btn-primary,\n        button[type="submit"],\n        .primary-button {\n            background: linear-gradient(135deg, var(--theater-gold) 0%, #B8962E 100%) !important;\n            color: var(--theater-charcoal) !important;\n            font-weight: 600;\n            text-transform: uppercase;\n            letter-spacing: 0.1em;\n            border: none;\n            transition: all 0.3s ease;\n        }\n\n        .btn-primary:hover,\n        button[type="submit"]:hover,\n        .primary-button:hover {\n            box-shadow: 0 8px 25px rgba(212, 175, 55, 0.35);\n            transform: translateY(-2px);\n        }\n\n        .btn-secondary,\n        .secondary-button {\n            background: transparent !important;\n            border: 2px solid var(--theater-gold) !important;\n            color: var(--theater-gold) !important;\n        }\n\n        .btn-secondary:hover,\n        .secondary-button:hover {\n            background: var(--theater-gold) !important;\n            color: var(--theater-charcoal) !important;\n        }\n\n        /* ============================================\n           Tables - Elegant styling\n           ============================================ */\n        table {\n            border-collapse: collapse;\n            width: 100%;\n        }\n\n        th {\n            background: rgba(212, 175, 55, 0.1);\n            color: var(--theater-gold);\n            font-weight: 600;\n            text-transform: uppercase;\n            letter-spacing: 0.05em;\n            font-size: 0.75rem;\n            padding: 1rem;\n            text-align: left;\n            border-bottom: 1px solid rgba(212, 175, 55, 0.2);\n        }\n\n        td {\n            padding: 1rem;\n            border-bottom: 1px solid rgba(253, 248, 240, 0.08);\n            color: var(--theater-cream);\n        }\n\n        tr:hover td {\n            background: rgba(212, 175, 55, 0.05);\n        }\n\n        /* ============================================\n           Cart & Checkout Pages\n           ============================================ */\n        .cart-item,\n        [class*="cart-item"] {\n            background: var(--theater-charcoal);\n            border: 1px solid rgba(212, 175, 55, 0.15);\n            border-radius: 0.5rem;\n            padding: 1.5rem;\n            transition: border-color 0.3s ease;\n        }\n\n        .cart-item:hover {\n            border-color: rgba(212, 175, 55, 0.3);\n        }\n\n        .cart-summary,\n        [class*="summary"],\n        [class*="order-total"] {\n            background: linear-gradient(135deg, var(--theater-charcoal-light) 0%, var(--theater-charcoal) 100%);\n            border: 1px solid rgba(212, 175, 55, 0.2);\n            border-radius: 0.5rem;\n        }\n\n        /* ============================================\n           Quantity Selector\n           ============================================ */\n        .quantity-selector,\n        [class*="quantity"] {\n            display: inline-flex;\n            align-items: center;\n            border: 1px solid rgba(212, 175, 55, 0.3);\n            border-radius: 0.375rem;\n            overflow: hidden;\n        }\n\n        .quantity-selector button,\n        [class*="quantity"] button {\n            width: 2.5rem;\n            height: 2.5rem;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            background: rgba(212, 175, 55, 0.1);\n            color: var(--theater-gold);\n            border: none;\n            transition: all 0.2s ease;\n        }\n\n        .quantity-selector button:hover,\n        [class*="quantity"] button:hover {\n            background: rgba(212, 175, 55, 0.2);\n        }\n\n        .quantity-selector input,\n        [class*="quantity"] input {\n            width: 3rem;\n            text-align: center;\n            background: transparent !important;\n            border: none !important;\n            color: var(--theater-cream);\n            font-weight: 600;\n        }\n\n        /* ============================================\n           Toast Notifications\n           ============================================ */\n        .toast {\n            background: linear-gradient(135deg, var(--theater-charcoal-light) 0%, var(--theater-charcoal) 100%);\n            border: 1px solid rgba(212, 175, 55, 0.3);\n            border-radius: 0.5rem;\n            padding: 1rem 1.5rem;\n            color: var(--theater-cream);\n            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);\n            animation: toast-slide-in 0.3s ease;\n        }\n\n        .toast-success {\n            border-left: 3px solid #10B981;\n        }\n\n        .toast-error {\n            border-left: 3px solid #EF4444;\n        }\n\n        .toast-warning {\n            border-left: 3px solid var(--theater-gold);\n        }\n\n        @keyframes toast-slide-in {\n            from {\n                opacity: 0;\n                transform: translateX(100%);\n            }\n            to {\n                opacity: 1;\n                transform: translateX(0);\n            }\n        }\n\n        /* ============================================\n           Modal Dialogs\n           ============================================ */\n        .modal-overlay,\n        [class*="modal-backdrop"] {\n            background: rgba(15, 6, 8, 0.9);\n            backdrop-filter: blur(8px);\n        }\n\n        .modal,\n        .modal-content,\n        [class*="modal-content"] {\n            background: linear-gradient(135deg, var(--theater-charcoal-light) 0%, var(--theater-charcoal) 100%);\n            border: 1px solid rgba(212, 175, 55, 0.2);\n            border-radius: 0.75rem;\n            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5),\n                        0 0 80px rgba(212, 175, 55, 0.1);\n        }\n\n        .modal-header {\n            border-bottom: 1px solid rgba(212, 175, 55, 0.15);\n            padding: 1.5rem;\n        }\n\n        .modal-header h2,\n        .modal-header h3 {\n            color: var(--theater-gold);\n        }\n\n        /* ============================================\n           Skeleton Loading\n           ============================================ */\n        .skeleton,\n        [class*="skeleton"] {\n            background: linear-gradient(\n                90deg,\n                rgba(253, 248, 240, 0.05) 0%,\n                rgba(212, 175, 55, 0.1) 50%,\n                rgba(253, 248, 240, 0.05) 100%\n            );\n            background-size: 200% 100%;\n            animation: skeleton-shimmer 1.5s infinite;\n            border-radius: 0.375rem;\n        }\n\n        @keyframes skeleton-shimmer {\n            0% { background-position: 200% 0; }\n            100% { background-position: -200% 0; }\n        }\n\n        /* ============================================\n           Page Transitions\n           ============================================ */\n        .page-enter {\n            opacity: 0;\n            transform: translateY(10px);\n        }\n\n        .page-enter-active {\n            opacity: 1;\n            transform: translateY(0);\n            transition: all 0.3s ease;\n        }\n\n        /* ============================================\n           Scrollbar Styling\n           ============================================ */\n        ::-webkit-scrollbar {\n            width: 8px;\n            height: 8px;\n        }\n\n        ::-webkit-scrollbar-track {\n            background: var(--theater-charcoal);\n        }\n\n        ::-webkit-scrollbar-thumb {\n            background: rgba(212, 175, 55, 0.3);\n            border-radius: 4px;\n        }\n\n        ::-webkit-scrollbar-thumb:hover {\n            background: rgba(212, 175, 55, 0.5);\n        }\n\n        /* ============================================\n           Links\n           ============================================ */\n        a:not([class]) {\n            color: var(--theater-gold);\n            text-decoration: none;\n            transition: color 0.2s ease;\n        }\n\n        a:not([class]):hover {\n            color: var(--theater-gold-light);\n            text-decoration: underline;\n        }\n\n        /* ============================================\n           Selection\n           ============================================ */\n        ::selection {\n            background: rgba(212, 175, 55, 0.3);\n            color: var(--theater-cream);\n        }\n\n        /* ============================================\n           Print Styles\n           ============================================ */\n        @media print {\n            body {\n                background: white !important;\n                color: black !important;\n            }\n\n            .theater-header,\n            .theater-footer,\n            .theater-drawer,\n            .theater-drawer-overlay,\n            #toast-container {\n                display: none !important;\n            }\n\n            main {\n                padding-top: 0 !important;\n            }\n\n            a {\n                color: black !important;\n                text-decoration: underline;\n            }\n\n            .event-card,\n            .cart-item {\n                border: 1px solid #ccc !important;\n                box-shadow: none !important;\n            }\n        }\n\n        /* ============================================\n           Accessibility\n           ============================================ */\n        @media (prefers-reduced-motion: reduce) {\n            *,\n            *::before,\n            *::after {\n                animation-duration: 0.01ms !important;\n                animation-iteration-count: 1 !important;\n                transition-duration: 0.01ms !important;\n            }\n        }\n\n        /* Focus visible styles */\n        *:focus-visible {\n            outline: 2px solid var(--theater-gold);\n            outline-offset: 2px;\n        }\n\n        /* ============================================\n           Event Detail Page\n           ============================================ */\n        .event-hero {\n            position: relative;\n            overflow: hidden;\n        }\n\n        .event-hero::before {\n            content: \'\';\n            position: absolute;\n            inset: 0;\n            background: linear-gradient(180deg, transparent 0%, var(--theater-charcoal) 100%);\n            z-index: 1;\n        }\n\n        .event-info {\n            background: var(--theater-charcoal);\n            border: 1px solid rgba(212, 175, 55, 0.15);\n            border-radius: 0.5rem;\n        }\n\n        /* ============================================\n           Account Pages\n           ============================================ */\n        .account-card,\n        [class*="dashboard-card"] {\n            background: var(--theater-charcoal);\n            border: 1px solid rgba(212, 175, 55, 0.15);\n            border-radius: 0.5rem;\n            padding: 1.5rem;\n        }\n\n        .account-nav a,\n        .dashboard-nav a {\n            color: var(--theater-cream);\n            padding: 0.75rem 1rem;\n            border-radius: 0.375rem;\n            transition: all 0.2s ease;\n        }\n\n        .account-nav a:hover,\n        .dashboard-nav a:hover,\n        .account-nav a.active,\n        .dashboard-nav a.active {\n            background: rgba(212, 175, 55, 0.1);\n            color: var(--theater-gold);\n        }\n\n        /* ============================================\n           Badge Styles\n           ============================================ */\n        .badge,\n        [class*="badge"],\n        [class*="tag"] {\n            display: inline-flex;\n            align-items: center;\n            padding: 0.25rem 0.75rem;\n            font-size: 0.75rem;\n            font-weight: 600;\n            text-transform: uppercase;\n            letter-spacing: 0.05em;\n            border-radius: 9999px;\n            background: rgba(212, 175, 55, 0.15);\n            color: var(--theater-gold);\n            border: 1px solid rgba(212, 175, 55, 0.3);\n        }\n\n        .badge-success {\n            background: rgba(16, 185, 129, 0.15);\n            color: #10B981;\n            border-color: rgba(16, 185, 129, 0.3);\n        }\n\n        .badge-warning {\n            background: rgba(212, 175, 55, 0.15);\n            color: var(--theater-gold);\n            border-color: rgba(212, 175, 55, 0.3);\n        }\n\n        .badge-error {\n            background: rgba(239, 68, 68, 0.15);\n            color: #EF4444;\n            border-color: rgba(239, 68, 68, 0.3);\n        }\n\n        /* ============================================\n           Responsive Adjustments\n           ============================================ */\n        @media (max-width: 768px) {\n            main {\n                padding-top: 5rem;\n                padding-bottom: 1rem;\n            }\n\n            h1 {\n                font-size: 1.75rem !important;\n            }\n\n            h2 {\n                font-size: 1.5rem !important;\n            }\n\n            .theater-footer {\n                padding-bottom: 2rem;\n            }\n        }\n    '};i.registerTemplate("theater",o);const l={name:"pub",headerClass:"fixed top-0 left-0 right-0 z-50 bg-[#1C1208]/95 backdrop-blur-md border-b border-[#D97706]/20",footerClass:"bg-[#0F0A04] border-t border-[#D97706]/20 mt-16",containerClass:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",heroClass:"text-center py-20 bg-gradient-to-b from-[#1C1208] via-[#2D1B0E] to-[#1C1208] text-[#FEF3E2]",heroTitleClass:"text-5xl md:text-6xl font-bold text-[#FEF3E2] mb-6",heroSubtitleClass:"text-xl text-[#FEF3E2]/80 mb-10 max-w-2xl mx-auto",cardClass:"bg-[#1C1208] border border-[#D97706]/20 rounded-xl overflow-hidden shadow-lg transition-all duration-300",cardHoverClass:"hover:border-[#D97706]/40 hover:shadow-2xl hover:shadow-[#D97706]/10",primaryButtonClass:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-[#D97706] to-[#B45309] text-white font-semibold rounded-lg transition-all duration-300 hover:shadow-lg hover:shadow-[#D97706]/30 hover:-translate-y-0.5",secondaryButtonClass:"inline-flex items-center gap-2 px-6 py-3 border-2 border-[#D97706] text-[#D97706] font-semibold rounded-lg transition-all duration-300 hover:bg-[#D97706] hover:text-white",headingClass:"text-3xl font-bold text-[#FEF3E2]",subheadingClass:"text-lg text-[#FEF3E2]/70",renderHeader:e=>{var t,n,i,r,a,s;const o=null==(t=e.theme)?void 0:t.logo,l=(null==(n=e.site)?void 0:n.title)||"The Pub",d=(null==(i=e.menus)?void 0:i.header)||[],c=d.map(e=>`<a href="${e.url}" class="text-[#FEF3E2]/80 hover:text-[#D97706] transition-colors duration-300">${e.title}</a>`).join("");return`\n            \x3c!-- Pub Header --\x3e\n            <header class="pub-header fixed top-0 left-0 right-0 z-50 bg-[#1C1208]/95 backdrop-blur-md border-b border-[#D97706]/20">\n                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                    <div class="flex justify-between items-center h-18">\n                        \x3c!-- Logo --\x3e\n                        <a href="/" class="flex items-center gap-3 py-4">\n                            ${o?`<img src="${o}" alt="${l}" class="h-10 w-auto">`:`<span class="text-2xl font-bold text-[#D97706]">${l}</span>`}\n                        </a>\n\n                        \x3c!-- Desktop Navigation --\x3e\n                        <nav class="hidden md:flex items-center space-x-8">\n                            <a href="/events" class="text-[#FEF3E2]/80 hover:text-[#D97706] transition-colors duration-300 font-medium">Evenimente</a>\n                            ${(null==(r=e.modules)?void 0:r.includes("shop"))?'<a href="/shop" class="text-[#FEF3E2]/80 hover:text-[#D97706] transition-colors duration-300 font-medium">Magazin</a>':""}\n                            <a href="/blog" class="text-[#FEF3E2]/80 hover:text-[#D97706] transition-colors duration-300 font-medium">Blog</a>\n                            ${c}\n                            <a href="/cart" class="relative text-[#D97706] hover:text-[#FEF3E2] transition-colors duration-300 p-2">\n                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 512 512" stroke-width="28">\n                                    <path d="M336.333 416.667v-32.134M336.333 320.267v-32.134M336.333 223.867v-32.134M336.333 127.467V95.333M497 191.733c-35.467 0-64.267 28.799-64.267 64.267s28.8 64.267 64.267 64.267v37.435c0 38.214-20.75 58.965-58.965 58.965H73.965C35.75 416.667 15 395.917 15 357.702v-37.435c35.467 0 64.267-28.799 64.267-64.267S50.467 191.733 15 191.733v-37.435c0-38.214 20.75-58.965 58.965-58.965h364.07c38.215 0 58.965 20.75 58.965 58.965v37.435z" stroke-linecap="round" stroke-linejoin="round"/>\n                                </svg>\n                                <span id="cart-badge" class="absolute -top-1 -right-1 bg-[#D97706] text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center hidden">0</span>\n                            </a>\n                            <a href="/login" id="account-link" class="inline-flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-[#D97706] to-[#B45309] text-white font-semibold rounded-lg transition-all duration-300 hover:shadow-lg hover:shadow-[#D97706]/30">\n                                Contul meu\n                            </a>\n                        </nav>\n\n                        \x3c!-- Mobile: Cart + Menu --\x3e\n                        <div class="md:hidden flex items-center gap-2">\n                            <a href="/cart" class="relative p-2 text-[#D97706]">\n                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 512 512" stroke-width="28">\n                                    <path d="M336.333 416.667v-32.134M336.333 320.267v-32.134M336.333 223.867v-32.134M336.333 127.467V95.333M497 191.733c-35.467 0-64.267 28.799-64.267 64.267s28.8 64.267 64.267 64.267v37.435c0 38.214-20.75 58.965-58.965 58.965H73.965C35.75 416.667 15 395.917 15 357.702v-37.435c35.467 0 64.267-28.799 64.267-64.267S50.467 191.733 15 191.733v-37.435c0-38.214 20.75-58.965 58.965-58.965h364.07c38.215 0 58.965 20.75 58.965 58.965v37.435z" stroke-linecap="round" stroke-linejoin="round"/>\n                                </svg>\n                                <span class="absolute -top-1 -right-1 bg-[#D97706] text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center hidden">0</span>\n                            </a>\n                            <button id="mobile-menu-btn" class="p-2 text-[#D97706] hover:text-[#FEF3E2] transition-colors" aria-label="Deschide meniu">\n                                <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>\n                                </svg>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </header>\n\n            \x3c!-- Mobile Menu Overlay --\x3e\n            <div id="mobile-menu-overlay" class="pub-drawer-overlay hidden opacity-0"></div>\n\n            \x3c!-- Mobile Menu Drawer --\x3e\n            <div id="mobile-menu-drawer" class="pub-drawer translate-x-full">\n                <div class="h-full flex flex-col">\n                    \x3c!-- Drawer Header --\x3e\n                    <div class="flex items-center justify-between p-5 border-b border-[#D97706]/20">\n                        <span class="text-lg font-bold text-[#D97706]">Meniu</span>\n                        <button id="mobile-menu-close" class="p-2 text-[#FEF3E2]/60 hover:text-[#D97706] transition-colors" aria-label="Închide meniu">\n                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>\n                            </svg>\n                        </button>\n                    </div>\n\n                    \x3c!-- Drawer Navigation --\x3e\n                    <nav class="flex-1 overflow-y-auto p-4">\n                        <div class="space-y-1">\n                            <a href="/events" class="flex items-center gap-3 px-4 py-3.5 text-[#FEF3E2] hover:bg-[#D97706]/10 hover:text-[#D97706] rounded-lg transition-all duration-200 group">\n                                <svg class="w-5 h-5 text-[#D97706]/60 group-hover:text-[#D97706]" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>\n                                </svg>\n                                <span>Evenimente</span>\n                            </a>\n                            ${(null==(a=e.modules)?void 0:a.includes("shop"))?'\n                            <a href="/shop" class="flex items-center gap-3 px-4 py-3.5 text-[#FEF3E2] hover:bg-[#D97706]/10 hover:text-[#D97706] rounded-lg transition-all duration-200 group">\n                                <svg class="w-5 h-5 text-[#D97706]/60 group-hover:text-[#D97706]" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>\n                                </svg>\n                                <span>Magazin</span>\n                            </a>\n                            ':""}\n                            <a href="/blog" class="flex items-center gap-3 px-4 py-3.5 text-[#FEF3E2] hover:bg-[#D97706]/10 hover:text-[#D97706] rounded-lg transition-all duration-200 group">\n                                <svg class="w-5 h-5 text-[#D97706]/60 group-hover:text-[#D97706]" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/>\n                                </svg>\n                                <span>Blog</span>\n                            </a>\n                            ${d.map(e=>`\n                            <a href="${e.url}" class="flex items-center gap-3 px-4 py-3.5 text-[#FEF3E2] hover:bg-[#D97706]/10 hover:text-[#D97706] rounded-lg transition-all duration-200">\n                                <svg class="w-5 h-5 text-[#D97706]/60" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>\n                                </svg>\n                                <span>${e.title}</span>\n                            </a>\n                            `).join("")}\n                        </div>\n\n                        \x3c!-- Divider --\x3e\n                        <div class="my-4 h-px bg-gradient-to-r from-transparent via-[#D97706]/30 to-transparent"></div>\n\n                        <div class="space-y-1">\n                            <a href="/account" class="flex items-center gap-3 px-4 py-3.5 text-[#FEF3E2] hover:bg-[#D97706]/10 hover:text-[#D97706] rounded-lg transition-all duration-200 group">\n                                <svg class="w-5 h-5 text-[#D97706]/60 group-hover:text-[#D97706]" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>\n                                </svg>\n                                <span>Contul meu</span>\n                            </a>\n                            ${(null==(s=e.modules)?void 0:s.includes("gamification"))?'\n                            <a href="/account/points" class="flex items-center gap-3 px-4 py-3.5 text-[#FEF3E2] hover:bg-[#D97706]/10 hover:text-[#D97706] rounded-lg transition-all duration-200 group">\n                                <svg class="w-5 h-5 text-[#D97706] group-hover:text-[#D97706]" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>\n                                </svg>\n                                <span>Punctele mele</span>\n                            </a>\n                            ':""}\n                            <a href="/cart" class="flex items-center justify-between px-4 py-3.5 text-[#FEF3E2] hover:bg-[#D97706]/10 hover:text-[#D97706] rounded-lg transition-all duration-200 group">\n                                <div class="flex items-center gap-3">\n                                    <svg class="w-5 h-5 text-[#D97706]/60 group-hover:text-[#D97706]" fill="none" stroke="currentColor" viewBox="0 0 512 512" stroke-width="35">\n                                        <path d="M336.333 416.667v-32.134M336.333 320.267v-32.134M336.333 223.867v-32.134M336.333 127.467V95.333M497 191.733c-35.467 0-64.267 28.799-64.267 64.267s28.8 64.267 64.267 64.267v37.435c0 38.214-20.75 58.965-58.965 58.965H73.965C35.75 416.667 15 395.917 15 357.702v-37.435c35.467 0 64.267-28.799 64.267-64.267S50.467 191.733 15 191.733v-37.435c0-38.214 20.75-58.965 58.965-58.965h364.07c38.215 0 58.965 20.75 58.965 58.965v37.435z" stroke-linecap="round" stroke-linejoin="round"/>\n                                    </svg>\n                                    <span>Coș</span>\n                                </div>\n                                <span class="bg-[#D97706] text-white text-xs font-bold rounded-full h-5 min-w-[1.25rem] px-1 flex items-center justify-center hidden">0</span>\n                            </a>\n                        </div>\n                    </nav>\n\n                    \x3c!-- Drawer Footer --\x3e\n                    <div class="p-4 border-t border-[#D97706]/20">\n                        <a href="/login" class="flex items-center justify-center gap-2 w-full px-6 py-3 bg-gradient-to-r from-[#D97706] to-[#B45309] text-white font-semibold rounded-lg transition-all duration-300">\n                            Conectare\n                        </a>\n                    </div>\n                </div>\n            </div>\n\n            \x3c!-- Toast Container --\x3e\n            <div id="toast-container" class="fixed bottom-4 right-4 z-[100] flex flex-col gap-2"></div>\n        `},renderFooter:e=>{var t,n,i,r,a,s,o,l;const d=(null==(t=e.site)?void 0:t.title)||"The Pub",c=(new Date).getFullYear(),p=e.social||{},m=((null==(n=e.menus)?void 0:n.footer)||[]).map(e=>`<li><a href="${e.url}" class="text-[#FEF3E2]/60 hover:text-[#D97706] transition-colors duration-300">${e.title}</a></li>`).join(""),u=[];p.facebook&&u.push(`<a href="${p.facebook}" target="_blank" class="w-10 h-10 rounded-lg bg-[#D97706]/10 flex items-center justify-center text-[#D97706]/70 hover:text-[#D97706] hover:bg-[#D97706]/20 transition-all duration-300" aria-label="Facebook"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg></a>`),p.instagram&&u.push(`<a href="${p.instagram}" target="_blank" class="w-10 h-10 rounded-lg bg-[#D97706]/10 flex items-center justify-center text-[#D97706]/70 hover:text-[#D97706] hover:bg-[#D97706]/20 transition-all duration-300" aria-label="Instagram"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg></a>`),p.twitter&&u.push(`<a href="${p.twitter}" target="_blank" class="w-10 h-10 rounded-lg bg-[#D97706]/10 flex items-center justify-center text-[#D97706]/70 hover:text-[#D97706] hover:bg-[#D97706]/20 transition-all duration-300" aria-label="Twitter"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>`),p.youtube&&u.push(`<a href="${p.youtube}" target="_blank" class="w-10 h-10 rounded-lg bg-[#D97706]/10 flex items-center justify-center text-[#D97706]/70 hover:text-[#D97706] hover:bg-[#D97706]/20 transition-all duration-300" aria-label="YouTube"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg></a>`),p.tiktok&&u.push(`<a href="${p.tiktok}" target="_blank" class="w-10 h-10 rounded-lg bg-[#D97706]/10 flex items-center justify-center text-[#D97706]/70 hover:text-[#D97706] hover:bg-[#D97706]/20 transition-all duration-300" aria-label="TikTok"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"/></svg></a>`),p.linkedin&&u.push(`<a href="${p.linkedin}" target="_blank" class="w-10 h-10 rounded-lg bg-[#D97706]/10 flex items-center justify-center text-[#D97706]/70 hover:text-[#D97706] hover:bg-[#D97706]/20 transition-all duration-300" aria-label="LinkedIn"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg></a>`);const g=u.length>0?`<div class="flex gap-2 mt-6">${u.join("")}</div>`:"";return`\n            <footer class="pub-footer bg-[#0F0A04] border-t border-[#D97706]/20 mt-16">\n                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-16">\n                    <div class="grid grid-cols-2 md:grid-cols-4 gap-8 md:gap-12">\n                        \x3c!-- Brand Column --\x3e\n                        <div class="col-span-2">\n                            <h3 class="text-2xl font-bold text-[#D97706] mb-4">${d}</h3>\n                            <p class="text-[#FEF3E2]/60 mb-4 leading-relaxed">${(null==(i=e.site)?void 0:i.description)||""}</p>\n                            ${(null==(r=e.site)?void 0:r.tagline)?`<p class="text-[#D97706]/80 font-medium">${e.site.tagline}</p>`:""}\n                            ${g}\n                        </div>\n\n                        \x3c!-- Quick Links --\x3e\n                        <div>\n                            <h4 class="text-sm font-semibold text-[#D97706] uppercase tracking-wide mb-5">Explorează</h4>\n                            <ul class="space-y-3">\n                                <li><a href="/events" class="text-[#FEF3E2]/60 hover:text-[#D97706] transition-colors duration-300">Evenimente</a></li>\n                                <li><a href="/past-events" class="text-[#FEF3E2]/60 hover:text-[#D97706] transition-colors duration-300">Evenimente trecute</a></li>\n                                <li><a href="/blog" class="text-[#FEF3E2]/60 hover:text-[#D97706] transition-colors duration-300">Blog</a></li>\n                                <li><a href="/account" class="text-[#FEF3E2]/60 hover:text-[#D97706] transition-colors duration-300">Contul meu</a></li>\n                            </ul>\n                        </div>\n\n                        \x3c!-- Legal --\x3e\n                        <div>\n                            <h4 class="text-sm font-semibold text-[#D97706] uppercase tracking-wide mb-5">Legal</h4>\n                            <ul class="space-y-3">\n                                <li><a href="/terms" class="text-[#FEF3E2]/60 hover:text-[#D97706] transition-colors duration-300">Termeni și condiții</a></li>\n                                <li><a href="/privacy" class="text-[#FEF3E2]/60 hover:text-[#D97706] transition-colors duration-300">Confidențialitate</a></li>\n                                ${m}\n                            </ul>\n                        </div>\n                    </div>\n\n                    \x3c!-- Bottom Bar --\x3e\n                    <div class="border-t border-[#D97706]/10 mt-12 pt-8">\n                        <div class="flex flex-col sm:flex-row gap-4 items-center justify-between text-sm">\n                            <p class="text-[#FEF3E2]/50">&copy; ${c} ${d}. Toate drepturile rezervate.</p>\n                            <div class="flex items-center gap-2 text-[#FEF3E2]/50">\n                                <span>Powered by</span>\n                                <a href="${(null==(a=e.platform)?void 0:a.url)||"https://tixello.com"}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center">\n                                    ${(null==(s=e.platform)?void 0:s.logo_dark)?`<img src="${e.platform.logo_dark}" alt="${(null==(o=e.platform)?void 0:o.name)||"Tixello"}" class="h-4 w-auto opacity-70 hover:opacity-100 transition-opacity">`:`<span class="text-[#D97706] font-semibold hover:underline">${(null==(l=e.platform)?void 0:l.name)||"Tixello"}</span>`}\n                                </a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </footer>\n        `},customStyles:'\n        /* ============================================\n           PUB TEMPLATE - Custom Styles\n           ============================================ */\n\n        /* ============================================\n           CSS Variables - Pub Theme\n           ============================================ */\n        :root {\n            --pub-amber: #D97706;\n            --pub-amber-dark: #B45309;\n            --pub-amber-light: #F59E0B;\n            --pub-wood: #1C1208;\n            --pub-wood-dark: #0F0A04;\n            --pub-wood-light: #2D1B0E;\n            --pub-cream: #FEF3E2;\n            --pub-shadow: rgba(217, 119, 6, 0.15);\n        }\n\n        /* ============================================\n           Body & Main Content\n           ============================================ */\n        body {\n            background: linear-gradient(180deg, var(--pub-wood) 0%, var(--pub-wood-dark) 100%);\n            color: var(--pub-cream);\n            min-height: 100vh;\n        }\n\n        main {\n            padding-top: 4.5rem;\n        }\n\n        /* ============================================\n           Mobile Drawer Styles\n           ============================================ */\n        .pub-drawer-overlay {\n            position: fixed;\n            inset: 0;\n            background: rgba(15, 10, 4, 0.85);\n            backdrop-filter: blur(4px);\n            z-index: 60;\n            transition: opacity 0.3s ease;\n        }\n\n        .pub-drawer-overlay:not(.hidden) {\n            opacity: 1;\n        }\n\n        .pub-drawer {\n            position: fixed;\n            top: 0;\n            right: 0;\n            height: 100%;\n            width: 18rem;\n            background: linear-gradient(180deg, var(--pub-wood) 0%, var(--pub-wood-dark) 100%);\n            border-left: 1px solid rgba(217, 119, 6, 0.2);\n            z-index: 70;\n            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n            box-shadow: -10px 0 30px rgba(0, 0, 0, 0.5);\n        }\n\n        .pub-drawer:not(.translate-x-full) {\n            transform: translateX(0);\n        }\n\n        /* ============================================\n           Event Cards\n           ============================================ */\n        .event-card,\n        [class*="event-card"] {\n            background: var(--pub-wood) !important;\n            border: 1px solid rgba(217, 119, 6, 0.15) !important;\n            border-radius: 0.75rem;\n            overflow: hidden;\n            transition: all 0.3s ease;\n        }\n\n        .event-card:hover,\n        [class*="event-card"]:hover {\n            border-color: rgba(217, 119, 6, 0.4) !important;\n            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3),\n                        0 0 30px var(--pub-shadow);\n            transform: translateY(-4px);\n        }\n\n        .event-card img {\n            transition: transform 0.4s ease;\n        }\n\n        .event-card:hover img {\n            transform: scale(1.05);\n        }\n\n        /* ============================================\n           Form Inputs - Pub Style\n           ============================================ */\n        input[type="text"],\n        input[type="email"],\n        input[type="password"],\n        input[type="number"],\n        input[type="tel"],\n        input[type="date"],\n        textarea,\n        select {\n            background: rgba(254, 243, 226, 0.05) !important;\n            border: 1px solid rgba(217, 119, 6, 0.25) !important;\n            color: var(--pub-cream) !important;\n            border-radius: 0.5rem;\n            padding: 0.75rem 1rem;\n            transition: all 0.3s ease;\n        }\n\n        input:focus,\n        textarea:focus,\n        select:focus {\n            outline: none;\n            border-color: var(--pub-amber) !important;\n            box-shadow: 0 0 0 3px rgba(217, 119, 6, 0.15);\n            background: rgba(254, 243, 226, 0.08) !important;\n        }\n\n        input::placeholder,\n        textarea::placeholder {\n            color: rgba(254, 243, 226, 0.4);\n        }\n\n        /* ============================================\n           Buttons\n           ============================================ */\n        .btn-primary,\n        button[type="submit"],\n        .primary-button {\n            background: linear-gradient(135deg, var(--pub-amber) 0%, var(--pub-amber-dark) 100%) !important;\n            color: white !important;\n            font-weight: 600;\n            border: none;\n            border-radius: 0.5rem;\n            transition: all 0.3s ease;\n        }\n\n        .btn-primary:hover,\n        button[type="submit"]:hover,\n        .primary-button:hover {\n            box-shadow: 0 8px 25px rgba(217, 119, 6, 0.35);\n            transform: translateY(-2px);\n        }\n\n        .btn-secondary,\n        .secondary-button {\n            background: transparent !important;\n            border: 2px solid var(--pub-amber) !important;\n            color: var(--pub-amber) !important;\n            border-radius: 0.5rem;\n        }\n\n        .btn-secondary:hover,\n        .secondary-button:hover {\n            background: var(--pub-amber) !important;\n            color: white !important;\n        }\n\n        /* ============================================\n           Tables\n           ============================================ */\n        table {\n            border-collapse: collapse;\n            width: 100%;\n        }\n\n        th {\n            background: rgba(217, 119, 6, 0.1);\n            color: var(--pub-amber);\n            font-weight: 600;\n            text-transform: uppercase;\n            letter-spacing: 0.05em;\n            font-size: 0.75rem;\n            padding: 1rem;\n            text-align: left;\n            border-bottom: 1px solid rgba(217, 119, 6, 0.2);\n        }\n\n        td {\n            padding: 1rem;\n            border-bottom: 1px solid rgba(254, 243, 226, 0.08);\n            color: var(--pub-cream);\n        }\n\n        tr:hover td {\n            background: rgba(217, 119, 6, 0.05);\n        }\n\n        /* ============================================\n           Cart & Checkout\n           ============================================ */\n        .cart-item,\n        [class*="cart-item"] {\n            background: var(--pub-wood);\n            border: 1px solid rgba(217, 119, 6, 0.15);\n            border-radius: 0.75rem;\n            padding: 1.5rem;\n            transition: border-color 0.3s ease;\n        }\n\n        .cart-item:hover {\n            border-color: rgba(217, 119, 6, 0.3);\n        }\n\n        .cart-summary,\n        [class*="summary"],\n        [class*="order-total"] {\n            background: linear-gradient(135deg, var(--pub-wood-light) 0%, var(--pub-wood) 100%);\n            border: 1px solid rgba(217, 119, 6, 0.2);\n            border-radius: 0.75rem;\n        }\n\n        /* ============================================\n           Quantity Selector\n           ============================================ */\n        .quantity-selector,\n        [class*="quantity"] {\n            display: inline-flex;\n            align-items: center;\n            border: 1px solid rgba(217, 119, 6, 0.3);\n            border-radius: 0.5rem;\n            overflow: hidden;\n        }\n\n        .quantity-selector button,\n        [class*="quantity"] button {\n            width: 2.5rem;\n            height: 2.5rem;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            background: rgba(217, 119, 6, 0.1);\n            color: var(--pub-amber);\n            border: none;\n            transition: all 0.2s ease;\n        }\n\n        .quantity-selector button:hover,\n        [class*="quantity"] button:hover {\n            background: rgba(217, 119, 6, 0.2);\n        }\n\n        .quantity-selector input,\n        [class*="quantity"] input {\n            width: 3rem;\n            text-align: center;\n            background: transparent !important;\n            border: none !important;\n            color: var(--pub-cream);\n            font-weight: 600;\n        }\n\n        /* ============================================\n           Toast Notifications\n           ============================================ */\n        .toast {\n            background: linear-gradient(135deg, var(--pub-wood-light) 0%, var(--pub-wood) 100%);\n            border: 1px solid rgba(217, 119, 6, 0.3);\n            border-radius: 0.5rem;\n            padding: 1rem 1.5rem;\n            color: var(--pub-cream);\n            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);\n            animation: toast-slide-in 0.3s ease;\n        }\n\n        .toast-success {\n            border-left: 3px solid #10B981;\n        }\n\n        .toast-error {\n            border-left: 3px solid #EF4444;\n        }\n\n        .toast-warning {\n            border-left: 3px solid var(--pub-amber);\n        }\n\n        @keyframes toast-slide-in {\n            from {\n                opacity: 0;\n                transform: translateX(100%);\n            }\n            to {\n                opacity: 1;\n                transform: translateX(0);\n            }\n        }\n\n        /* ============================================\n           Modal Dialogs\n           ============================================ */\n        .modal-overlay,\n        [class*="modal-backdrop"] {\n            background: rgba(15, 10, 4, 0.9);\n            backdrop-filter: blur(8px);\n        }\n\n        .modal,\n        .modal-content,\n        [class*="modal-content"] {\n            background: linear-gradient(135deg, var(--pub-wood-light) 0%, var(--pub-wood) 100%);\n            border: 1px solid rgba(217, 119, 6, 0.2);\n            border-radius: 0.75rem;\n            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);\n        }\n\n        .modal-header {\n            border-bottom: 1px solid rgba(217, 119, 6, 0.15);\n            padding: 1.5rem;\n        }\n\n        .modal-header h2,\n        .modal-header h3 {\n            color: var(--pub-amber);\n        }\n\n        /* ============================================\n           Skeleton Loading\n           ============================================ */\n        .skeleton,\n        [class*="skeleton"] {\n            background: linear-gradient(\n                90deg,\n                rgba(254, 243, 226, 0.05) 0%,\n                rgba(217, 119, 6, 0.1) 50%,\n                rgba(254, 243, 226, 0.05) 100%\n            );\n            background-size: 200% 100%;\n            animation: skeleton-shimmer 1.5s infinite;\n            border-radius: 0.375rem;\n        }\n\n        @keyframes skeleton-shimmer {\n            0% { background-position: 200% 0; }\n            100% { background-position: -200% 0; }\n        }\n\n        /* ============================================\n           Scrollbar Styling\n           ============================================ */\n        ::-webkit-scrollbar {\n            width: 8px;\n            height: 8px;\n        }\n\n        ::-webkit-scrollbar-track {\n            background: var(--pub-wood);\n        }\n\n        ::-webkit-scrollbar-thumb {\n            background: rgba(217, 119, 6, 0.3);\n            border-radius: 4px;\n        }\n\n        ::-webkit-scrollbar-thumb:hover {\n            background: rgba(217, 119, 6, 0.5);\n        }\n\n        /* ============================================\n           Links\n           ============================================ */\n        a:not([class]) {\n            color: var(--pub-amber);\n            text-decoration: none;\n            transition: color 0.2s ease;\n        }\n\n        a:not([class]):hover {\n            color: var(--pub-amber-light);\n            text-decoration: underline;\n        }\n\n        /* ============================================\n           Selection\n           ============================================ */\n        ::selection {\n            background: rgba(217, 119, 6, 0.3);\n            color: var(--pub-cream);\n        }\n\n        /* ============================================\n           Print Styles\n           ============================================ */\n        @media print {\n            body {\n                background: white !important;\n                color: black !important;\n            }\n\n            .pub-header,\n            .pub-footer,\n            .pub-drawer,\n            .pub-drawer-overlay,\n            #toast-container {\n                display: none !important;\n            }\n\n            main {\n                padding-top: 0 !important;\n            }\n\n            a {\n                color: black !important;\n                text-decoration: underline;\n            }\n\n            .event-card,\n            .cart-item {\n                border: 1px solid #ccc !important;\n                box-shadow: none !important;\n            }\n        }\n\n        /* ============================================\n           Accessibility\n           ============================================ */\n        @media (prefers-reduced-motion: reduce) {\n            *,\n            *::before,\n            *::after {\n                animation-duration: 0.01ms !important;\n                animation-iteration-count: 1 !important;\n                transition-duration: 0.01ms !important;\n            }\n        }\n\n        *:focus-visible {\n            outline: 2px solid var(--pub-amber);\n            outline-offset: 2px;\n        }\n\n        /* ============================================\n           Account Pages\n           ============================================ */\n        .account-card,\n        [class*="dashboard-card"] {\n            background: var(--pub-wood);\n            border: 1px solid rgba(217, 119, 6, 0.15);\n            border-radius: 0.75rem;\n            padding: 1.5rem;\n        }\n\n        .account-nav a,\n        .dashboard-nav a {\n            color: var(--pub-cream);\n            padding: 0.75rem 1rem;\n            border-radius: 0.5rem;\n            transition: all 0.2s ease;\n        }\n\n        .account-nav a:hover,\n        .dashboard-nav a:hover,\n        .account-nav a.active,\n        .dashboard-nav a.active {\n            background: rgba(217, 119, 6, 0.1);\n            color: var(--pub-amber);\n        }\n\n        /* ============================================\n           Badge Styles\n           ============================================ */\n        .badge,\n        [class*="badge"],\n        [class*="tag"] {\n            display: inline-flex;\n            align-items: center;\n            padding: 0.25rem 0.75rem;\n            font-size: 0.75rem;\n            font-weight: 600;\n            border-radius: 0.375rem;\n            background: rgba(217, 119, 6, 0.15);\n            color: var(--pub-amber);\n            border: 1px solid rgba(217, 119, 6, 0.3);\n        }\n\n        .badge-success {\n            background: rgba(16, 185, 129, 0.15);\n            color: #10B981;\n            border-color: rgba(16, 185, 129, 0.3);\n        }\n\n        .badge-warning {\n            background: rgba(217, 119, 6, 0.15);\n            color: var(--pub-amber);\n            border-color: rgba(217, 119, 6, 0.3);\n        }\n\n        .badge-error {\n            background: rgba(239, 68, 68, 0.15);\n            color: #EF4444;\n            border-color: rgba(239, 68, 68, 0.3);\n        }\n\n        /* ============================================\n           Responsive Adjustments\n           ============================================ */\n        @media (max-width: 768px) {\n            main {\n                padding-top: 4.5rem;\n                padding-bottom: 1rem;\n            }\n\n            h1 {\n                font-size: 1.75rem !important;\n            }\n\n            h2 {\n                font-size: 1.5rem !important;\n            }\n\n            .pub-footer {\n                padding-bottom: 2rem;\n            }\n        }\n    '};i.registerTemplate("pub",l);class d{constructor(n){__publicField(this,"config"),__publicField(this,"apiClient"),__publicField(this,"authManager"),__publicField(this,"router"),__publicField(this,"eventBus"),__publicField(this,"moduleLoader"),__publicField(this,"mountPoint",null),this.config=n.config,this.apiClient=n.apiClient,this.authManager=n.authManager,this.router=n.router,this.eventBus=new e,this.moduleLoader=new t(this.config.modules)}async mount(e){this.mountPoint=e;const t=this.router.getEventBus();this.moduleLoader.setDependencies(this.apiClient,t),await this.moduleLoader.loadAll(),this.setMetaTags(),this.render(),this.router.init(),await this.authManager.checkAuth(),this.eventBus.emit("app:ready")}setMetaTags(){var e,t,n,i;const r=(null==(e=this.config.site)?void 0:e.title)||"Tixello",a=null==(t=this.config.site)?void 0:t.tagline;document.title=a?`${r} - ${a}`:r;const s=(null==(n=this.config.site)?void 0:n.description)||`Events and tickets by ${r}`;let o=document.querySelector('meta[name="description"]');o?o.setAttribute("content",s):(o=document.createElement("meta"),o.setAttribute("name","description"),o.setAttribute("content",s),document.head.appendChild(o)),this.setMetaTag("og:title",r),this.setMetaTag("og:description",s),this.setMetaTag("og:type","website"),(null==(i=this.config.theme)?void 0:i.logo)&&this.setMetaTag("og:image",this.config.theme.logo)}setMetaTag(e,t){let n=document.querySelector(`meta[property="${e}"]`);n?n.setAttribute("content",t):(n=document.createElement("meta"),n.setAttribute("property",e),n.setAttribute("content",t),document.head.appendChild(n))}render(){if(!this.mountPoint)return;const e=i.renderHeader(),t=i.renderFooter();this.mountPoint.innerHTML=`\n            <div class="min-h-screen flex flex-col bg-gray-50">\n                ${e}\n                <main class="flex-1" id="tixello-content"></main>\n                ${t}\n            </div>\n        `,this.injectStyles(),this.setupMobileMenu()}setupMobileMenu(){const e=document.getElementById("mobile-menu-btn"),t=document.getElementById("mobile-menu-close"),n=document.getElementById("mobile-menu-overlay"),i=document.getElementById("mobile-menu-drawer");if(!e||!i||!n)return;const r=()=>{n.classList.add("opacity-0"),i.classList.add("translate-x-full"),setTimeout(()=>{n.classList.add("hidden")},300),document.body.style.overflow=""};e.addEventListener("click",()=>{n.classList.remove("hidden"),requestAnimationFrame(()=>{n.classList.remove("opacity-0"),i.classList.remove("translate-x-full")}),document.body.style.overflow="hidden"}),t&&t.addEventListener("click",r),n.addEventListener("click",r),i.querySelectorAll("a").forEach(e=>{e.addEventListener("click",r)})}injectStyles(){const e=document.createElement("script");e.src="https://cdn.tailwindcss.com",document.head.appendChild(e);const t=document.createElement("style");t.textContent=this.getBaseStyles(),document.head.appendChild(t)}getBaseStyles(){return`\n            body {\n                font-family: ${this.config.theme.fontFamily}, system-ui, sans-serif;\n            }\n            .animate-pulse {\n                animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n            }\n            @keyframes pulse {\n                0%, 100% { opacity: 1; }\n                50% { opacity: .5; }\n            }\n        `}getConfig(){return this.config}getApiClient(){return this.apiClient}getAuthManager(){return this.authManager}getRouter(){return this.router}on(e,t){this.eventBus.on(e,t)}off(e,t){this.eventBus.off(e,t)}emit(e,t){this.eventBus.emit(e,t)}navigate(e){this.router.navigate(e)}}class c{static async init(e){try{const t=await this.decrypt(e),n=JSON.parse(t);this.config={...n,site:n.site||{title:"",description:"",tagline:"",language:"en",template:"default"},social:n.social||{facebook:null,instagram:null,twitter:null,youtube:null,tiktok:null,linkedin:null},menus:n.menus||{header:[],footer:[]},platform:n.platform||{name:"Tixello",url:"https://tixello.com",logo_light:null,logo_dark:null}};try{const e=`${this.config.apiEndpoint}/config?hostname=${encodeURIComponent(this.config.domain)}`,t=await fetch(e);if(t.ok){const e=await t.json();e.theme&&(this.config.theme={...this.config.theme,...e.theme}),e.modules&&(this.config.modules=e.modules),e.site&&(this.config.site={...this.config.site,...e.site}),e.social&&(this.config.social={...this.config.social,...e.social}),e.menus&&(this.config.menus=e.menus),e.platform&&(this.config.platform={...this.config.platform,...e.platform})}}catch{}return this.applyTheme(this.config.theme),this.config}catch(t){throw new Error("Failed to initialize configuration")}}static async initFromAttributes(e){this.config={tenantId:e.tenantId,domainId:e.domainId,domain:e.domain,apiEndpoint:e.apiEndpoint,modules:["core","events","auth","cart","checkout"],theme:{primaryColor:"#3B82F6",secondaryColor:"#1E40AF",logo:null,favicon:null,fontFamily:"Inter"},site:{title:"",description:"",tagline:"",language:"en",template:"default"},social:{facebook:null,instagram:null,twitter:null,youtube:null,tiktok:null,linkedin:null},menus:{header:[],footer:[]},platform:{name:"Tixello",url:"https://tixello.com",logo_light:null,logo_dark:null},version:"1.2.0",packageHash:""};try{const t=await fetch(`${e.apiEndpoint}/config?tenant=${e.tenantId}&domain=${e.domainId}`);if(t.ok){const e=await t.json();e.theme&&(this.config.theme={...this.config.theme,...e.theme}),e.modules&&(this.config.modules=e.modules),e.site&&(this.config.site={...this.config.site,...e.site}),e.social&&(this.config.social={...this.config.social,...e.social}),e.menus&&(this.config.menus=e.menus),e.platform&&(this.config.platform={...this.config.platform,...e.platform})}}catch{}return this.applyTheme(this.config.theme),this.config}static async initFromHostname(e){this.config={tenantId:0,domainId:0,domain:e.hostname,apiEndpoint:e.apiEndpoint,modules:["core","events","auth","cart","checkout"],theme:{primaryColor:"#3B82F6",secondaryColor:"#1E40AF",logo:null,favicon:null,fontFamily:"Inter"},site:{title:"",description:"",tagline:"",language:"en",template:"default"},social:{facebook:null,instagram:null,twitter:null,youtube:null,tiktok:null,linkedin:null},menus:{header:[],footer:[]},platform:{name:"Tixello",url:"https://tixello.com",logo_light:null,logo_dark:null},version:"1.1.0",packageHash:""};try{const t=await fetch(`${e.apiEndpoint}/config?hostname=${encodeURIComponent(e.hostname)}`);if(!t.ok)throw new Error("Failed to load tenant configuration");{const e=await t.json();e.theme&&(this.config.theme={...this.config.theme,...e.theme}),e.modules&&(this.config.modules=e.modules),e.site&&(this.config.site={...this.config.site,...e.site}),e.social&&(this.config.social={...this.config.social,...e.social}),e.menus&&(this.config.menus=e.menus),e.platform&&(this.config.platform={...this.config.platform,...e.platform}),e.tenant&&(this.config.tenantId=e.tenant.id)}}catch(t){throw new Error("Failed to initialize configuration from hostname")}return this.applyTheme(this.config.theme),this.config}static async decrypt(e){try{return atob(e)}catch{return e}}static applyTheme(e){const t=document.documentElement;t.style.setProperty("--tixello-primary",e.primaryColor),t.style.setProperty("--tixello-secondary",e.secondaryColor),t.style.setProperty("--tixello-font",e.fontFamily);const n=this.darkenColor(e.primaryColor,15),i=this.darkenColor(e.secondaryColor,15);if(t.style.setProperty("--tixello-primary-dark",n),t.style.setProperty("--tixello-secondary-dark",i),e.colors&&(t.style.setProperty("--theme-primary",e.colors.primary),t.style.setProperty("--theme-primary-hover",e.colors.primaryHover),t.style.setProperty("--theme-secondary",e.colors.secondary),t.style.setProperty("--theme-secondary-hover",e.colors.secondaryHover),t.style.setProperty("--theme-accent",e.colors.accent),t.style.setProperty("--theme-background",e.colors.background),t.style.setProperty("--theme-surface",e.colors.surface),t.style.setProperty("--theme-text",e.colors.text),t.style.setProperty("--theme-text-muted",e.colors.textMuted),t.style.setProperty("--theme-border",e.colors.border),t.style.setProperty("--theme-success",e.colors.success),t.style.setProperty("--theme-warning",e.colors.warning),t.style.setProperty("--theme-error",e.colors.error)),e.typography&&(t.style.setProperty("--theme-font-family",e.typography.fontFamily),t.style.setProperty("--theme-heading-font",e.typography.headingFont),t.style.setProperty("--theme-font-size-base",e.typography.baseFontSize),t.style.setProperty("--theme-heading-weight",e.typography.headingWeight),t.style.setProperty("--theme-body-weight",e.typography.bodyWeight),t.style.setProperty("--theme-line-height",e.typography.lineHeight)),e.spacing&&(t.style.setProperty("--theme-container-width",e.spacing.containerWidth),t.style.setProperty("--theme-section-padding",e.spacing.sectionPadding),t.style.setProperty("--theme-card-padding",e.spacing.cardPadding),t.style.setProperty("--theme-grid-gap",e.spacing.gridGap)),e.borders&&(t.style.setProperty("--theme-border-radius",e.borders.radius),t.style.setProperty("--theme-border-radius-lg",e.borders.radiusLg),t.style.setProperty("--theme-border-width",e.borders.width)),e.shadows&&(t.style.setProperty("--theme-shadow-card",e.shadows.card),t.style.setProperty("--theme-shadow-card-hover",e.shadows.cardHover),t.style.setProperty("--theme-shadow-button",e.shadows.button),t.style.setProperty("--theme-shadow-dropdown",e.shadows.dropdown)),e.header&&(t.style.setProperty("--theme-header-bg",e.header.background),t.style.setProperty("--theme-header-text",e.header.textColor),t.style.setProperty("--theme-header-height",e.header.height),t.style.setProperty("--theme-logo-max-height",e.header.logoMaxHeight)),e.buttons&&(t.style.setProperty("--theme-btn-primary-bg",e.buttons.primaryBg),t.style.setProperty("--theme-btn-primary-text",e.buttons.primaryText),t.style.setProperty("--theme-btn-primary-hover",e.buttons.primaryHoverBg),t.style.setProperty("--theme-btn-secondary-bg",e.buttons.secondaryBg),t.style.setProperty("--theme-btn-secondary-text",e.buttons.secondaryText),t.style.setProperty("--theme-btn-secondary-hover",e.buttons.secondaryHoverBg),t.style.setProperty("--theme-btn-radius",e.buttons.borderRadius),t.style.setProperty("--theme-btn-padding-x",e.buttons.paddingX),t.style.setProperty("--theme-btn-padding-y",e.buttons.paddingY)),this.injectThemeStyles(e),e.favicon){const t=document.querySelector('link[rel="icon"]');if(t)t.href=e.favicon;else{const t=document.createElement("link");t.rel="icon",t.href=e.favicon,document.head.appendChild(t)}}}static darkenColor(e,t){const n=e.replace("#",""),i=parseInt(n.substring(0,2),16),r=parseInt(n.substring(2,4),16),a=parseInt(n.substring(4,6),16),s=e=>Math.max(0,Math.floor(e*(1-t/100)));return`#${s(i).toString(16).padStart(2,"0")}${s(r).toString(16).padStart(2,"0")}${s(a).toString(16).padStart(2,"0")}`}static injectThemeStyles(e){const t=document.getElementById("tixello-theme-styles");t&&t.remove();const n=document.createElement("style");n.id="tixello-theme-styles",n.textContent="\n            /* Primary color utilities */\n            .bg-primary { background-color: var(--tixello-primary) !important; }\n            .bg-primary-dark { background-color: var(--tixello-primary-dark) !important; }\n            .text-primary { color: var(--tixello-primary) !important; }\n            .border-primary { border-color: var(--tixello-primary) !important; }\n\n            /* Secondary color utilities */\n            .bg-secondary { background-color: var(--tixello-secondary) !important; }\n            .bg-secondary-dark { background-color: var(--tixello-secondary-dark) !important; }\n            .text-secondary { color: var(--tixello-secondary) !important; }\n            .border-secondary { border-color: var(--tixello-secondary) !important; }\n\n            /* Gradient utilities */\n            .from-primary { --tw-gradient-from: var(--tixello-primary); }\n            .to-secondary { --tw-gradient-to: var(--tixello-secondary); }\n\n            /* Button styles */\n            .btn-primary {\n                background-color: var(--tixello-primary);\n                color: white;\n                transition: background-color 0.2s;\n            }\n            .btn-primary:hover {\n                background-color: var(--tixello-primary-dark);\n            }\n\n            .btn-secondary {\n                background-color: var(--tixello-secondary);\n                color: white;\n                transition: background-color 0.2s;\n            }\n            .btn-secondary:hover {\n                background-color: var(--tixello-secondary-dark);\n            }\n\n            /* Hover utilities */\n            .hover\\:text-primary:hover { color: var(--tixello-primary) !important; }\n            .hover\\:bg-primary:hover { background-color: var(--tixello-primary) !important; }\n            .hover\\:bg-primary-dark:hover { background-color: var(--tixello-primary-dark) !important; }\n\n            /* Font family */\n            body {\n                font-family: var(--tixello-font), system-ui, sans-serif;\n            }\n\n            /* Ring color for focus states */\n            .focus\\:ring-primary:focus {\n                --tw-ring-color: var(--tixello-primary);\n            }\n\n            /* Tixello component styles */\n            .tixello-card {\n                background: white;\n                border-radius: 0.75rem;\n                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n                overflow: hidden;\n                transition: box-shadow 0.2s, transform 0.2s;\n            }\n            .tixello-card:hover {\n                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n            }\n            .tixello-btn {\n                display: inline-flex;\n                align-items: center;\n                justify-content: center;\n                padding: 0.75rem 1.5rem;\n                background: var(--tixello-primary);\n                color: white;\n                font-weight: 600;\n                border-radius: 0.5rem;\n                border: none;\n                cursor: pointer;\n                transition: background-color 0.2s;\n            }\n            .tixello-btn:hover {\n                background: var(--tixello-primary-dark);\n            }\n            .tixello-btn:disabled {\n                background: #d1d5db;\n                cursor: not-allowed;\n            }\n\n            /* Mobile-responsive adjustments */\n            @media (max-width: 767px) {\n                /* Reduce container padding */\n                .max-w-7xl {\n                    padding-left: 1rem !important;\n                    padding-right: 1rem !important;\n                }\n\n                /* Smaller hero section */\n                .text-4xl {\n                    font-size: 1.75rem !important;\n                }\n                .text-5xl {\n                    font-size: 2rem !important;\n                }\n                .text-2xl {\n                    font-size: 1.25rem !important;\n                }\n                .text-xl {\n                    font-size: 1rem !important;\n                }\n\n                /* Reduce section padding */\n                .py-16 {\n                    padding-top: 2rem !important;\n                    padding-bottom: 2rem !important;\n                }\n                .py-12 {\n                    padding-top: 1.5rem !important;\n                    padding-bottom: 1.5rem !important;\n                }\n                .mt-16 {\n                    margin-top: 2rem !important;\n                }\n\n                /* Smaller buttons on mobile */\n                .tixello-btn {\n                    padding: 0.625rem 1.25rem;\n                    font-size: 0.875rem;\n                }\n\n                /* Event card adjustments */\n                .event-card img {\n                    height: 160px !important;\n                }\n                .event-card h3 {\n                    font-size: 1.1rem !important;\n                }\n\n                /* Reduce grid gap */\n                .events-grid {\n                    gap: 1rem !important;\n                }\n\n                /* Footer adjustments */\n                footer .grid {\n                    gap: 1.5rem !important;\n                }\n\n                /* Account pages mobile improvements */\n                .text-3xl {\n                    font-size: 1.5rem !important;\n                }\n\n                /* Ticket cards on mobile */\n                #tickets-list .p-4 {\n                    flex-direction: column;\n                    align-items: flex-start;\n                    gap: 1rem;\n                }\n                #tickets-list .p-4 img {\n                    width: 100%;\n                    max-width: 120px;\n                    height: auto;\n                    margin: 0 auto;\n                }\n                #tickets-list .view-ticket-btn {\n                    width: 100%;\n                    text-align: center;\n                }\n\n                /* Order cards on mobile */\n                #orders-list a.block {\n                    padding: 1rem;\n                }\n                #orders-list .flex.justify-between {\n                    flex-direction: column;\n                    gap: 0.75rem;\n                }\n                #orders-list .text-right {\n                    text-align: left;\n                }\n\n                /* Order detail grid */\n                .grid.grid-cols-2.md\\:grid-cols-4 {\n                    grid-template-columns: repeat(2, 1fr);\n                    gap: 0.75rem;\n                }\n\n                /* Profile form */\n                #profile-form input,\n                #profile-form button {\n                    font-size: 16px; /* Prevents iOS zoom */\n                }\n            }\n\n            /* Small mobile devices */\n            @media (max-width: 374px) {\n                .text-4xl, .text-5xl {\n                    font-size: 1.5rem !important;\n                }\n                .tixello-btn {\n                    padding: 0.5rem 1rem;\n                    font-size: 0.8125rem;\n                }\n\n                /* Even smaller text on tiny screens */\n                .text-3xl {\n                    font-size: 1.25rem !important;\n                }\n                .text-xl {\n                    font-size: 0.9rem !important;\n                }\n            }\n        ",document.head.appendChild(n)}static get(){if(!this.config)throw new Error("Configuration not initialized");return this.config}static getApiEndpoint(){return this.get().apiEndpoint}static hasModule(e){return this.get().modules.includes(e)}static updateTheme(e){this.config&&(this.config.theme=this.deepMerge(this.config.theme,e),this.applyTheme(this.config.theme))}static deepMerge(e,t){const n={...e};for(const i in t)t[i]&&"object"==typeof t[i]&&!Array.isArray(t[i])?n[i]=this.deepMerge(e[i]||{},t[i]):n[i]=t[i];return n}static getTheme(){return this.get().theme}}__publicField(c,"config",null);class p{constructor(e){__publicField(this,"config"),__publicField(this,"accessToken",null),this.config=e}setAccessToken(e){this.accessToken=e}async request(e,t={}){const{method:n="GET",body:i,headers:r={},withAuth:a=!0}=t,s=`${this.config.apiEndpoint}${e}`,o=Date.now(),l=this.generateNonce(),d={"Content-Type":"application/json","X-Tenant-ID":String(this.config.tenantId),"X-Domain-ID":String(this.config.domainId),"X-Package-Hash":this.config.packageHash,"X-Timestamp":String(o),"X-Nonce":l,...r};a&&this.accessToken&&(d.Authorization=`Bearer ${this.accessToken}`);const c=await this.signRequest(n,e,i,o,l);d["X-Signature"]=c;try{const e=await fetch(s,{method:n,headers:d,body:i?JSON.stringify(i):void 0,credentials:"include"}),t=await e.json();return e.ok?{success:!0,data:t.data||t}:{success:!1,message:t.message||"Request failed",errors:t.errors}}catch(p){return{success:!1,message:p instanceof Error?p.message:"Network error"}}}generateNonce(){return Array.from(crypto.getRandomValues(new Uint8Array(16))).map(e=>e.toString(16).padStart(2,"0")).join("")}async signRequest(e,t,n,i,r){const a=[e,t,n?JSON.stringify(n):"",i,r,this.config.packageHash].join("|"),s=(new TextEncoder).encode(a),o=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(o)).map(e=>e.toString(16).padStart(2,"0")).join("")}async get(e,t){return this.request(e,{...t,method:"GET"})}async post(e,t,n){return this.request(e,{...n,method:"POST",body:t})}async put(e,t,n){return this.request(e,{...n,method:"PUT",body:t})}async delete(e,t){return this.request(e,{...t,method:"DELETE"})}}class m{static init(e){var t;this.config=e,this.currentLanguage=(null==(t=e.site)?void 0:t.language)||"en",this.registerDefaultRenderers()}static setLanguage(e){this.currentLanguage=e}static registerRenderer(e,t){this.renderers.set(e,t)}static renderBlock(e){const t=this.renderers.get(e.type);if(!t)return`\x3c!-- Unknown block type: ${e.type} --\x3e`;try{return t(e,this.config)}catch(n){return`\x3c!-- Error rendering block: ${e.type} --\x3e`}}static renderLayout(e){return(null==e?void 0:e.blocks)&&Array.isArray(e.blocks)?e.blocks.map(e=>this.renderBlock(e)).join("\n"):""}static getContent(e,t,n=""){var i,r;const a=null==(i=e.content)?void 0:i[this.currentLanguage];if(a&&void 0!==a[t])return a[t];const s=null==(r=e.content)?void 0:r.en;return s&&void 0!==s[t]?s[t]:n}static getContentArray(e,t,n=[]){var i,r;const a=null==(i=e.content)?void 0:i[this.currentLanguage];if(a&&Array.isArray(a[t]))return a[t];const s=null==(r=e.content)?void 0:r.en;return s&&Array.isArray(s[t])?s[t]:n}static registerDefaultRenderers(){this.registerRenderer("hero",e=>{const t=this.getContent(e,"title","Welcome"),n=this.getContent(e,"subtitle",""),i=this.getContent(e,"buttonText","Get Started"),r=e.settings.buttonLink||"/events",a=e.settings.backgroundImage||"",s=e.settings.overlayOpacity??50,o=e.settings.height||"large",l=e.settings.alignment||"center";return`\n                <section class="relative ${{small:"min-h-[300px]",medium:"min-h-[450px]",large:"min-h-[600px]",full:"min-h-screen"}[o]||"min-h-[450px]"} flex items-center justify-center" style="${a?`background-image: url('${a}'); background-size: cover; background-position: center;`:"background: linear-gradient(135deg, var(--tixello-primary), var(--tixello-secondary));"}">\n                    <div class="absolute inset-0 bg-black" style="opacity: ${s/100}"></div>\n                    <div class="relative z-10 max-w-4xl mx-auto px-4 flex flex-col ${{left:"text-left items-start",center:"text-center items-center",right:"text-right items-end"}[l]||"text-center items-center"}">\n                        <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4">${this.escapeHtml(t)}</h1>\n                        ${n?`<p class="text-xl md:text-2xl text-white/90 mb-8 max-w-2xl">${this.escapeHtml(n)}</p>`:""}\n                        ${i?`\n                            <a href="${r}" class="inline-flex items-center px-8 py-4 bg-white text-gray-900 font-semibold rounded-lg hover:bg-gray-100 transition">\n                                ${this.escapeHtml(i)}\n                                <svg class="ml-2 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>\n                                </svg>\n                            </a>\n                        `:""}\n                    </div>\n                </section>\n            `}),this.registerRenderer("event-grid",e=>{const t=this.getContent(e,"title","Upcoming Events"),n=this.getContent(e,"subtitle",""),i=e.settings.columns||3,r=e.settings.limit||6,a=e.settings.showFilters??!0,s=e.settings.source||"upcoming";return`\n                <section class="py-16 bg-gray-50">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                        <div class="text-center mb-12">\n                            <h2 class="text-3xl font-bold text-gray-900 mb-4">${this.escapeHtml(t)}</h2>\n                            ${n?`<p class="text-lg text-gray-600 max-w-2xl mx-auto">${this.escapeHtml(n)}</p>`:""}\n                        </div>\n                        ${a?'\n                            <div class="flex flex-wrap gap-4 justify-center mb-8">\n                                <button class="px-4 py-2 bg-primary text-white rounded-full text-sm font-medium">All Events</button>\n                                <button class="px-4 py-2 bg-white text-gray-700 rounded-full text-sm font-medium hover:bg-gray-100">Concerts</button>\n                                <button class="px-4 py-2 bg-white text-gray-700 rounded-full text-sm font-medium hover:bg-gray-100">Theater</button>\n                                <button class="px-4 py-2 bg-white text-gray-700 rounded-full text-sm font-medium hover:bg-gray-100">Sports</button>\n                            </div>\n                        ':""}\n                        <div id="event-grid-${e.id}" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-${i} gap-6" data-source="${s}" data-limit="${r}">\n                            <div class="animate-pulse bg-gray-200 rounded-lg h-64"></div>\n                            <div class="animate-pulse bg-gray-200 rounded-lg h-64"></div>\n                            <div class="animate-pulse bg-gray-200 rounded-lg h-64"></div>\n                        </div>\n                    </div>\n                </section>\n            `}),this.registerRenderer("featured-event",e=>{const t=this.getContent(e,"title","Featured Event"),n=e.settings.eventId,i="vertical"===(e.settings.layout||"horizontal")?"flex-col":"flex-col lg:flex-row";return`\n                <section class="py-16">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                        <h2 class="text-3xl font-bold text-gray-900 mb-8">${this.escapeHtml(t)}</h2>\n                        <div id="featured-event-${e.id}" class="flex ${i} gap-8 bg-white rounded-2xl shadow-lg overflow-hidden" data-event-id="${n||""}">\n                            <div class="animate-pulse bg-gray-200 h-64 lg:h-auto lg:w-1/2"></div>\n                            <div class="p-8 flex-1 space-y-4">\n                                <div class="animate-pulse bg-gray-200 h-8 w-3/4 rounded"></div>\n                                <div class="animate-pulse bg-gray-200 h-4 w-1/2 rounded"></div>\n                                <div class="animate-pulse bg-gray-200 h-20 rounded"></div>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n            `}),this.registerRenderer("category-nav",e=>{const t=this.getContent(e,"title","Browse by Category"),n=e.settings.style||"cards",i=e.settings.showCount??!0;return`\n                <section class="py-16">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                        <h2 class="text-3xl font-bold text-gray-900 mb-8 text-center">${this.escapeHtml(t)}</h2>\n                        <div id="category-nav-${e.id}" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4" data-style="${n}" data-show-count="${i}">\n                            ${[1,2,3,4,5,6].map(()=>'\n                                <div class="animate-pulse bg-gray-200 rounded-lg h-32"></div>\n                            ').join("")}\n                        </div>\n                    </div>\n                </section>\n            `}),this.registerRenderer("text-content",e=>{const t=this.getContent(e,"title",""),n=this.getContent(e,"content",""),i=e.settings.alignment||"left";return`\n                <section class="py-16">\n                    <div class="${{narrow:"max-w-2xl",medium:"max-w-4xl",wide:"max-w-6xl",full:"max-w-7xl"}[e.settings.maxWidth||"full"]||"max-w-7xl"} ${{left:"text-left",center:"text-center mx-auto",right:"text-right ml-auto"}[i]||"text-left"} px-4 sm:px-6 lg:px-8">\n                        ${t?`<h2 class="text-3xl font-bold text-gray-900 mb-6">${this.escapeHtml(t)}</h2>`:""}\n                        <div class="prose prose-lg max-w-none">\n                            ${n}\n                        </div>\n                    </div>\n                </section>\n            `}),this.registerRenderer("text-image",e=>{const t=this.getContent(e,"title",""),n=this.getContent(e,"content",""),i=e.settings.imageUrl||"",r=e.settings.imagePosition||"right",a=this.getContent(e,"imageAlt","");return`\n                <section class="py-16">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                        <div class="flex flex-col ${"left"===r?"lg:flex-row-reverse":"lg:flex-row"} gap-12 items-center">\n                            <div class="flex-1">\n                                ${t?`<h2 class="text-3xl font-bold text-gray-900 mb-6">${this.escapeHtml(t)}</h2>`:""}\n                                <div class="prose prose-lg">\n                                    ${n}\n                                </div>\n                            </div>\n                            <div class="flex-1">\n                                ${i?`\n                                    <img src="${i}" alt="${this.escapeHtml(a)}" class="rounded-2xl shadow-lg w-full">\n                                `:'\n                                    <div class="bg-gray-200 rounded-2xl aspect-video flex items-center justify-center">\n                                        <span class="text-gray-400">Image placeholder</span>\n                                    </div>\n                                '}\n                            </div>\n                        </div>\n                    </div>\n                </section>\n            `}),this.registerRenderer("cta-banner",e=>{const t=this.getContent(e,"title","Ready to get started?"),n=this.getContent(e,"subtitle",""),i=this.getContent(e,"buttonText","Get Started"),r=e.settings.buttonLink||"/events",a=e.settings.backgroundColor||"primary";e.settings.style;return`\n                <section class="py-16">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                        <div class="${"primary"===a?"bg-primary":"secondary"===a?"bg-secondary":"bg-gradient-to-r from-primary to-secondary"} rounded-2xl p-12 text-center text-white">\n                            <h2 class="text-3xl md:text-4xl font-bold mb-4">${this.escapeHtml(t)}</h2>\n                            ${n?`<p class="text-xl text-white/90 mb-8 max-w-2xl mx-auto">${this.escapeHtml(n)}</p>`:""}\n                            <a href="${r}" class="inline-flex items-center px-8 py-4 bg-white text-gray-900 font-semibold rounded-lg hover:bg-gray-100 transition">\n                                ${this.escapeHtml(i)}\n                            </a>\n                        </div>\n                    </div>\n                </section>\n            `}),this.registerRenderer("newsletter",e=>{const t=this.getContent(e,"title","Stay Updated"),n=this.getContent(e,"subtitle","Subscribe to our newsletter"),i=this.getContent(e,"buttonText","Subscribe"),r=this.getContent(e,"placeholderText","Enter your email");return e.settings.style,`\n                <section class="py-16 bg-gray-50">\n                    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 text-center">\n                        <h2 class="text-3xl font-bold text-gray-900 mb-4">${this.escapeHtml(t)}</h2>\n                        <p class="text-lg text-gray-600 mb-8">${this.escapeHtml(n)}</p>\n                        <form class="flex flex-col sm:flex-row gap-4 justify-center" id="newsletter-form-${e.id}">\n                            <input type="email" placeholder="${this.escapeHtml(r)}"\n                                class="flex-1 max-w-md px-6 py-4 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-transparent" required>\n                            <button type="submit" class="px-8 py-4 bg-primary text-white font-semibold rounded-lg hover:bg-primary-dark transition">\n                                ${this.escapeHtml(i)}\n                            </button>\n                        </form>\n                    </div>\n                </section>\n            `}),this.registerRenderer("testimonials",e=>{const t=this.getContent(e,"title","What People Say"),n=e.settings.testimonials||[];e.settings.style;const i=e.settings.columns||3,r=n.length>0?n.map(e=>{var t;return`\n                    <div class="bg-white p-6 rounded-xl shadow-md">\n                        <div class="flex items-center mb-4">\n                            ${e.avatar?`<img src="${e.avatar}" alt="${this.escapeHtml(e.name)}" class="w-12 h-12 rounded-full mr-4">`:`\n                                <div class="w-12 h-12 rounded-full bg-primary text-white flex items-center justify-center font-bold mr-4">\n                                    ${(null==(t=e.name)?void 0:t.charAt(0))||"?"}\n                                </div>\n                            `}\n                            <div>\n                                <div class="font-semibold text-gray-900">${this.escapeHtml(e.name||"Anonymous")}</div>\n                                ${e.role?`<div class="text-sm text-gray-500">${this.escapeHtml(e.role)}</div>`:""}\n                            </div>\n                        </div>\n                        <p class="text-gray-600 italic">"${this.escapeHtml(e.quote||"")}"</p>\n                    </div>\n                `}).join(""):'<p class="text-gray-500 col-span-full text-center">No testimonials configured</p>';return`\n                <section class="py-16 bg-gray-50">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                        <h2 class="text-3xl font-bold text-gray-900 mb-12 text-center">${this.escapeHtml(t)}</h2>\n                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-${i} gap-6">\n                            ${r}\n                        </div>\n                    </div>\n                </section>\n            `}),this.registerRenderer("partners",e=>{const t=this.getContent(e,"title","Our Partners"),n=e.settings.partners||[];e.settings.style;const i=e.settings.grayscale??!0,r=n.length>0?n.map(e=>`\n                    <a href="${e.url||"#"}" target="_blank" rel="noopener" class="flex items-center justify-center p-4 ${i?"grayscale hover:grayscale-0":""} transition">\n                        ${e.logo?`<img src="${e.logo}" alt="${this.escapeHtml(e.name||"")}" class="max-h-12">`:`\n                            <span class="text-gray-500">${this.escapeHtml(e.name||"Partner")}</span>\n                        `}\n                    </a>\n                `).join(""):'<p class="text-gray-500 col-span-full text-center">No partners configured</p>';return`\n                <section class="py-16">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                        ${t?`<h2 class="text-2xl font-bold text-gray-900 mb-8 text-center">${this.escapeHtml(t)}</h2>`:""}\n                        <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-8 items-center">\n                            ${r}\n                        </div>\n                    </div>\n                </section>\n            `}),this.registerRenderer("spacer",e=>{const t=e.settings.height||"medium",n=e.settings.showDivider??!1;return`\n                <div class="relative" style="height: ${{small:"32px",medium:"64px",large:"96px",xlarge:"128px"}[t]||"64px"}">\n                    ${n?'\n                        <div class="absolute inset-x-0 top-1/2 transform -translate-y-1/2">\n                            <div class="max-w-7xl mx-auto px-4">\n                                <div class="border-t border-gray-200"></div>\n                            </div>\n                        </div>\n                    ':""}\n                </div>\n            `}),this.registerRenderer("divider",e=>{const t=e.settings.style||"solid",n=e.settings.width||"full",i=e.settings.color||"gray-200";return`\n                <div class="py-8">\n                    <div class="${{small:"max-w-xs",medium:"max-w-md",large:"max-w-2xl",full:"max-w-7xl"}[n]||"max-w-7xl"} mx-auto px-4">\n                        <div class="border-t ${{solid:"border-solid",dashed:"border-dashed",dotted:"border-dotted"}[t]||"border-solid"} border-${i}"></div>\n                    </div>\n                </div>\n            `}),this.registerRenderer("custom-html",e=>{const t=this.getContent(e,"html",""),n=e.settings.containerClass||"",i=e.settings.fullWidth??!1;return t?i?`<div class="${n}">${t}</div>`:`<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 ${n}">${t}</div>`:"\x3c!-- Empty custom HTML block --\x3e"}),this.registerRenderer("countdown",e=>{const t=this.getContent(e,"title",""),n=this.getContent(e,"subtitle",""),i=this.getContent(e,"expiredMessage","Event has started!"),r=e.settings.style||"flip",a=e.settings.targetDate||"",s=e.settings.showLabels??!0,o=e.settings.alignment||"center",l={flip:"countdown-flip",simple:"countdown-simple",circles:"countdown-circles"}[r]||"countdown-simple";return`\n                <section class="py-16">\n                    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 ${{left:"text-left",center:"text-center",right:"text-right"}[o]||"text-center"}">\n                        ${t?`<h2 class="text-3xl font-bold text-gray-900 mb-4">${this.escapeHtml(t)}</h2>`:""}\n                        ${n?`<p class="text-lg text-gray-600 mb-8">${this.escapeHtml(n)}</p>`:""}\n                        <div id="countdown-${e.id}" class="countdown ${l} flex justify-center gap-4"\n                             data-target="${a}" data-expired-message="${this.escapeHtml(i)}">\n                            <div class="countdown-item">\n                                <span class="countdown-value text-4xl md:text-6xl font-bold text-primary" data-days>00</span>\n                                ${s?'<span class="countdown-label text-sm text-gray-500">Days</span>':""}\n                            </div>\n                            <div class="countdown-item">\n                                <span class="countdown-value text-4xl md:text-6xl font-bold text-primary" data-hours>00</span>\n                                ${s?'<span class="countdown-label text-sm text-gray-500">Hours</span>':""}\n                            </div>\n                            <div class="countdown-item">\n                                <span class="countdown-value text-4xl md:text-6xl font-bold text-primary" data-minutes>00</span>\n                                ${s?'<span class="countdown-label text-sm text-gray-500">Minutes</span>':""}\n                            </div>\n                            <div class="countdown-item">\n                                <span class="countdown-value text-4xl md:text-6xl font-bold text-primary" data-seconds>00</span>\n                                ${s?'<span class="countdown-label text-sm text-gray-500">Seconds</span>':""}\n                            </div>\n                        </div>\n                    </div>\n                </section>\n            `}),this.registerRenderer("event-list",e=>{const t=this.getContent(e,"title","Upcoming Events"),n=this.getContent(e,"emptyMessage","No events found"),i=e.settings.style||"default",r=e.settings.limit||5,a=e.settings.source||"upcoming",s=e.settings.showDate??!0,o=e.settings.showVenue??!0,l=e.settings.showPrice??!0;return`\n                <section class="py-16">\n                    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">\n                        ${t?`<h2 class="text-3xl font-bold text-gray-900 mb-8">${this.escapeHtml(t)}</h2>`:""}\n                        <div id="event-list-${e.id}" class="event-list event-list-${i} space-y-4"\n                             data-source="${a}" data-limit="${r}"\n                             data-show-date="${s}" data-show-venue="${o}" data-show-price="${l}"\n                             data-empty-message="${this.escapeHtml(n)}">\n                            ${[1,2,3].map(()=>'\n                                <div class="animate-pulse flex gap-4 p-4 bg-white rounded-lg shadow">\n                                    <div class="w-24 h-24 bg-gray-200 rounded"></div>\n                                    <div class="flex-1 space-y-2">\n                                        <div class="h-4 bg-gray-200 rounded w-3/4"></div>\n                                        <div class="h-3 bg-gray-200 rounded w-1/2"></div>\n                                    </div>\n                                </div>\n                            ').join("")}\n                        </div>\n                    </div>\n                </section>\n            `}),this.registerRenderer("image",e=>{const t=this.getContent(e,"caption",""),n=this.getContent(e,"altText",""),i=e.settings.imageUrl||"",r=e.settings.size||"medium",a=e.settings.alignment||"center",s=e.settings.borderRadius||"md",o=e.settings.shadow??!0,l=e.settings.lightbox??!0,d=e.settings.linkUrl||"",c={small:"max-w-md",medium:"max-w-2xl",large:"max-w-4xl",full:"max-w-7xl"}[r]||"max-w-2xl",p={left:"",center:"mx-auto",right:"ml-auto"}[a]||"mx-auto",m={none:"rounded-none",sm:"rounded",md:"rounded-lg",lg:"rounded-2xl"}[s]||"rounded-lg",u=i?`<img src="${i}" alt="${this.escapeHtml(n)}" class="w-full ${m} ${o?"shadow-lg":""}">`:`<div class="aspect-video bg-gray-200 ${m} flex items-center justify-center">\n                       <span class="text-gray-400">No image</span>\n                   </div>`;return`\n                <section class="py-8">\n                    <figure class="${c} ${p} px-4 sm:px-6 lg:px-8">\n                        ${d?`<a href="${d}" ${l?'data-lightbox="true"':""}>${u}</a>`:l?`<a href="${i}" data-lightbox="true">${u}</a>`:u}\n                        ${t?`<figcaption class="mt-4 text-center text-sm text-gray-600">${this.escapeHtml(t)}</figcaption>`:""}\n                    </figure>\n                </section>\n            `}),this.registerRenderer("video",e=>{const t=this.getContent(e,"title",""),n=this.getContent(e,"caption",""),i=e.settings.videoUrl||"",r=e.settings.provider||"youtube",a=e.settings.aspectRatio||"16:9",s=e.settings.autoplay??!1,o=e.settings.loop??!1,l=e.settings.muted??!1,d=e.settings.controls??!0,c={"16:9":"aspect-video","4:3":"aspect-[4/3]","1:1":"aspect-square","21:9":"aspect-[21/9]"}[a]||"aspect-video";let p="";if(i)if("youtube"===r){const e=this.extractYouTubeId(i),t=new URLSearchParams;s&&t.set("autoplay","1"),o&&t.set("loop","1"),l&&t.set("mute","1"),d||t.set("controls","0"),p=`<iframe src="https://www.youtube.com/embed/${e}?${t.toString()}"\n                                         class="w-full h-full rounded-lg" frameborder="0"\n                                         allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"\n                                         allowfullscreen></iframe>`}else if("vimeo"===r){const e=this.extractVimeoId(i),t=new URLSearchParams;s&&t.set("autoplay","1"),o&&t.set("loop","1"),l&&t.set("muted","1"),p=`<iframe src="https://player.vimeo.com/video/${e}?${t.toString()}"\n                                         class="w-full h-full rounded-lg" frameborder="0"\n                                         allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>`}else p=`<video src="${i}" class="w-full h-full rounded-lg"\n                                        ${d?"controls":""} ${s?"autoplay":""}\n                                        ${o?"loop":""} ${l?"muted":""}></video>`;else p='<div class="w-full h-full bg-gray-200 rounded-lg flex items-center justify-center">\n                                 <span class="text-gray-400">No video configured</span>\n                             </div>';return`\n                <section class="py-8">\n                    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">\n                        ${t?`<h2 class="text-2xl font-bold text-gray-900 mb-4">${this.escapeHtml(t)}</h2>`:""}\n                        <div class="${c}">\n                            ${p}\n                        </div>\n                        ${n?`<p class="mt-4 text-center text-sm text-gray-600">${this.escapeHtml(n)}</p>`:""}\n                    </div>\n                </section>\n            `}),this.registerRenderer("button",e=>{const t=this.getContent(e,"text","Click Here"),n=e.settings.url||"#",i=e.settings.style||"primary",r=e.settings.size||"md",a=e.settings.alignment||"center",s=e.settings.fullWidth??!1,o=e.settings.openInNewTab??!1,l=e.settings.icon||"",d=e.settings.iconPosition||"left",c=l?`<span class="button-icon">${l}</span>`:"";return`\n                <section class="py-4">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 ${{left:"text-left",center:"text-center",right:"text-right"}[a]||"text-center"}">\n                        <a href="${n}" ${o?'target="_blank" rel="noopener"':""}\n                           class="inline-flex items-center gap-2 ${{primary:"bg-primary text-white hover:bg-primary-dark",secondary:"bg-secondary text-white hover:bg-secondary-dark",outline:"border-2 border-primary text-primary hover:bg-primary hover:text-white",ghost:"text-primary hover:bg-primary/10"}[i]||"bg-primary text-white hover:bg-primary-dark"} ${{sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"}[r]||"px-6 py-3 text-base"} ${s?"w-full justify-center":""} font-semibold rounded-lg transition">\n                            ${"right"===d?`${this.escapeHtml(t)} ${c}`:`${c} ${this.escapeHtml(t)}`}\n                        </a>\n                    </div>\n                </section>\n            `}),this.registerRenderer("stats-counter",e=>{const t=this.getContent(e,"title",""),n=this.getContentArray(e,"stats"),i=e.settings.columns||4,r=e.settings.style||"simple",a=e.settings.animate??!0,s=Array.isArray(n)&&n.length>0?n.map(e=>`\n                    <div class="stat-item text-center p-6 ${"cards"===r?"bg-white rounded-xl shadow-md":""}">\n                        ${e.icon?`<div class="text-4xl mb-2">${e.icon}</div>`:""}\n                        <div class="stat-value text-4xl md:text-5xl font-bold text-primary mb-2"\n                             ${a?`data-count-to="${e.value}"`:""}>\n                            ${e.prefix||""}${a?"0":e.value}${e.suffix||""}\n                        </div>\n                        <div class="stat-label text-gray-600">${this.escapeHtml(e.label||"")}</div>\n                    </div>\n                `).join(""):'<p class="col-span-full text-center text-gray-500">No statistics configured</p>';return`\n                <section class="py-16 ${"bordered"===r?"border-y border-gray-200":""}">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                        ${t?`<h2 class="text-3xl font-bold text-gray-900 mb-12 text-center">${this.escapeHtml(t)}</h2>`:""}\n                        <div id="stats-${e.id}" class="grid grid-cols-2 md:grid-cols-${i} gap-8" data-animate="${a}">\n                            ${s}\n                        </div>\n                    </div>\n                </section>\n            `}),this.registerRenderer("accordion",e=>{const t=this.getContent(e,"title",""),n=this.getContentArray(e,"items"),i=e.settings.style||"simple",r=e.settings.allowMultiple??!1,a=e.settings.defaultOpen??0,s=Array.isArray(n)&&n.length>0?n.map((e,t)=>`\n                    <div class="accordion-item ${"bordered"===i?"border border-gray-200 rounded-lg mb-2":"border-b border-gray-200"}"\n                         x-data="{ open: ${t===a?"true":"false"} }">\n                        <button @click="open = !open"\n                                class="accordion-header w-full flex items-center justify-between p-4 text-left font-medium text-gray-900 hover:bg-gray-50 transition">\n                            <span>${this.escapeHtml(e.question||e.title||"")}</span>\n                            <svg class="w-5 h-5 transform transition-transform" :class="{ 'rotate-180': open }" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>\n                            </svg>\n                        </button>\n                        <div x-show="open" x-collapse class="accordion-content">\n                            <div class="p-4 text-gray-600 prose prose-sm max-w-none">\n                                ${e.answer||e.content||""}\n                            </div>\n                        </div>\n                    </div>\n                `).join(""):'<p class="text-center text-gray-500">No items configured</p>';return`\n                <section class="py-16">\n                    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">\n                        ${t?`<h2 class="text-3xl font-bold text-gray-900 mb-8 text-center">${this.escapeHtml(t)}</h2>`:""}\n                        <div class="accordion" x-data="{ allowMultiple: ${r} }">\n                            ${s}\n                        </div>\n                    </div>\n                </section>\n            `}),this.registerRenderer("alert-banner",e=>{const t=this.getContent(e,"message",""),n=this.getContent(e,"linkText",""),i=e.settings.linkUrl||"",r=e.settings.type||"info",a=e.settings.dismissible??!0,s=e.settings.position||"inline",o=e.settings.icon??!0,l={info:{bg:"bg-blue-50",text:"text-blue-800",icon:"ℹ️"},success:{bg:"bg-green-50",text:"text-green-800",icon:"✓"},warning:{bg:"bg-yellow-50",text:"text-yellow-800",icon:"⚠️"},error:{bg:"bg-red-50",text:"text-red-800",icon:"✕"},promo:{bg:"bg-primary/10",text:"text-primary",icon:"🎉"}},d=l[r]||l.info,c="sticky"===s?"sticky top-0 z-50":"";return`\n                <div class="alert-banner ${d.bg} ${c}" x-data="{ show: true }" x-show="show">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3">\n                        <div class="flex items-center justify-center gap-4">\n                            ${o?`<span class="flex-shrink-0">${d.icon}</span>`:""}\n                            <p class="${d.text} text-sm font-medium">\n                                ${this.escapeHtml(t)}\n                                ${n&&i?`<a href="${i}" class="underline ml-2">${this.escapeHtml(n)}</a>`:""}\n                            </p>\n                            ${a?`\n                                <button @click="show = false" class="flex-shrink-0 ${d.text} hover:opacity-70">\n                                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">\n                                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>\n                                    </svg>\n                                </button>\n                            `:""}\n                        </div>\n                    </div>\n                </div>\n            `}),this.registerRenderer("slider",e=>{const t=this.getContentArray(e,"slides"),n=e.settings.height||"medium",i=e.settings.autoplay??!0,r=e.settings.autoplaySpeed||5e3,a=e.settings.showArrows??!0,s=e.settings.showDots??!0,o=e.settings.effect||"slide",l={small:"h-[300px]",medium:"h-[400px]",large:"h-[500px]",full:"h-screen"}[n]||"h-[400px]",d=Array.isArray(t)&&t.length>0?t.map((e,t)=>`\n                    <div class="slide ${0===t?"active":""} absolute inset-0 transition-opacity duration-500" data-index="${t}">\n                        <div class="absolute inset-0 bg-cover bg-center" style="background-image: url('${e.image||""}')">\n                            <div class="absolute inset-0 bg-black" style="opacity: ${e.overlayOpacity||.5}"></div>\n                        </div>\n                        <div class="relative h-full flex items-center justify-${e.contentPosition||"center"}">\n                            <div class="text-center text-white px-4 max-w-4xl mx-auto">\n                                ${e.title?`<h2 class="text-4xl md:text-5xl font-bold mb-4">${this.escapeHtml(e.title)}</h2>`:""}\n                                ${e.subtitle?`<p class="text-xl md:text-2xl mb-8 text-white/90">${this.escapeHtml(e.subtitle)}</p>`:""}\n                                ${e.buttonText?`\n                                    <a href="${e.buttonUrl||"#"}" class="inline-block px-8 py-4 bg-white text-gray-900 font-semibold rounded-lg hover:bg-gray-100 transition">\n                                        ${this.escapeHtml(e.buttonText)}\n                                    </a>\n                                `:""}\n                            </div>\n                        </div>\n                    </div>\n                `).join(""):'<div class="absolute inset-0 bg-gray-200 flex items-center justify-center"><span class="text-gray-500">No slides configured</span></div>';return`\n                <section class="slider relative ${l} overflow-hidden"\n                         id="slider-${e.id}"\n                         data-autoplay="${i}"\n                         data-speed="${r}"\n                         data-effect="${o}">\n                    <div class="slides-container relative h-full">\n                        ${d}\n                    </div>\n                    ${a&&Array.isArray(t)&&t.length>1?'\n                        <button class="slider-prev absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/80 rounded-full flex items-center justify-center hover:bg-white transition z-10">\n                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>\n                            </svg>\n                        </button>\n                        <button class="slider-next absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/80 rounded-full flex items-center justify-center hover:bg-white transition z-10">\n                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>\n                            </svg>\n                        </button>\n                    ':""}\n                    ${s&&Array.isArray(t)&&t.length>1?`\n                        <div class="slider-dots absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 z-10">\n                            ${t.map((e,t)=>`\n                                <button class="w-3 h-3 rounded-full ${0===t?"bg-white":"bg-white/50"} hover:bg-white transition" data-slide="${t}"></button>\n                            `).join("")}\n                        </div>\n                    `:""}\n                </section>\n            `}),this.registerRenderer("image-gallery",e=>{const t=this.getContent(e,"title",""),n=this.getContentArray(e,"images"),i=e.settings.columns||4,r=e.settings.style||"grid",a=e.settings.gap||"md",s=e.settings.borderRadius||"md",o=e.settings.lightbox??!0,l=e.settings.showCaptions??!0,d={none:"gap-0",sm:"gap-2",md:"gap-4",lg:"gap-6"}[a]||"gap-4",c={none:"rounded-none",sm:"rounded",md:"rounded-lg",lg:"rounded-xl"}[s]||"rounded-lg",p=Array.isArray(n)&&n.length>0?n.map((e,t)=>`\n                    <a href="${e.src||""}" ${o?'data-lightbox="gallery"':""}\n                       class="gallery-item group relative overflow-hidden ${c} ${"featured"===r&&0===t?"col-span-2 row-span-2":""}">\n                        <img src="${e.src||""}" alt="${this.escapeHtml(e.alt||"")}"\n                             class="w-full h-full object-cover aspect-square group-hover:scale-105 transition duration-300">\n                        ${l&&e.caption?`\n                            <div class="absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/70 to-transparent p-4 opacity-0 group-hover:opacity-100 transition">\n                                <p class="text-white text-sm">${this.escapeHtml(e.caption)}</p>\n                            </div>\n                        `:""}\n                    </a>\n                `).join(""):'<p class="col-span-full text-center text-gray-500">No images configured</p>';return`\n                <section class="py-16">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                        ${t?`<h2 class="text-3xl font-bold text-gray-900 mb-8 text-center">${this.escapeHtml(t)}</h2>`:""}\n                        <div class="grid grid-cols-2 md:grid-cols-${i} ${d}" id="gallery-${e.id}">\n                            ${p}\n                        </div>\n                    </div>\n                </section>\n            `}),this.registerRenderer("social-links",e=>{const t=this.getContent(e,"title",""),n=e.settings.style||"rounded",i=e.settings.size||"md",r=e.settings.alignment||"center",a=e.settings.colorScheme||"brand",s=e.settings.showLabels??!1,o=e.settings.openInNewTab??!0,l={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},d={left:"justify-start",center:"justify-center",right:"justify-end"}[r]||"justify-center",c=[{key:"facebook",name:"Facebook",icon:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z",color:"#1877F2"},{key:"instagram",name:"Instagram",icon:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z",color:"#E4405F"},{key:"twitter",name:"X",icon:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z",color:"#000000"},{key:"youtube",name:"YouTube",icon:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z",color:"#FF0000"},{key:"tiktok",name:"TikTok",icon:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z",color:"#000000"},{key:"linkedin",name:"LinkedIn",icon:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z",color:"#0A66C2"},{key:"spotify",name:"Spotify",icon:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z",color:"#1DB954"}].filter(t=>{const n=this.getContent(e,t.key,"");return n&&""!==n.trim()}).map(t=>{const r=this.getContent(e,t.key,""),d="brand"===a?t.color:"primary"===a?"var(--tixello-primary)":"dark"===a?"#1f2937":"#f3f4f6";return`\n                        <a href="${r}" ${o?'target="_blank" rel="noopener"':""}\n                           class="social-link ${l[i]||l.md} ${"rounded"===n?"rounded-full":"square"===n?"rounded-lg":""} flex items-center justify-center hover:opacity-80 transition"\n                           style="${"rounded"===n||"square"===n?`background-color: ${d}; color: ${"light"===a?"#1f2937":"#ffffff"};`:`color: ${d};`}" title="${t.name}">\n                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">\n                                <path d="${t.icon}"/>\n                            </svg>\n                            ${s?`<span class="ml-2">${t.name}</span>`:""}\n                        </a>\n                    `}).join("");return`\n                <section class="py-8">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                        ${t?`<h2 class="text-2xl font-bold text-gray-900 mb-6 text-center">${this.escapeHtml(t)}</h2>`:""}\n                        <div class="flex flex-wrap gap-4 ${d}">\n                            ${c||'<p class="text-gray-500">No social links configured</p>'}\n                        </div>\n                    </div>\n                </section>\n            `}),this.registerRenderer("map",e=>{const t=this.getContent(e,"title",""),n=this.getContent(e,"address",""),i=this.getContentArray(e,"markers"),r=e.settings.provider||"openstreetmap",a=e.settings.latitude||44.4268,s=e.settings.longitude||26.1025,o=e.settings.zoom||14,l=e.settings.height||"md",d=e.settings.showMarker??!0,c=e.settings.borderRadius||"md",p={sm:"250px",md:"400px",lg:"500px",xl:"600px"}[l]||"400px",m={none:"rounded-none",sm:"rounded",md:"rounded-lg",lg:"rounded-xl"}[c]||"rounded-lg";let u="";return u="openstreetmap"===r?`\n                    <iframe\n                        src="https://www.openstreetmap.org/export/embed.html?bbox=${s-.01},${a-.01},${s+.01},${a+.01}&layer=mapnik${d?`&marker=${a},${s}`:""}"\n                        class="w-full ${m}" style="height: ${p}; border: 0;"\n                        allowfullscreen loading="lazy">\n                    </iframe>\n                `:`\n                    <div id="map-${e.id}" class="w-full ${m}" style="height: ${p};"\n                         data-provider="${r}" data-lat="${a}" data-lng="${s}"\n                         data-zoom="${o}" data-show-marker="${d}"\n                         data-markers='${JSON.stringify(i)}'>\n                        <div class="w-full h-full bg-gray-200 flex items-center justify-center">\n                            <span class="text-gray-500">Map loading...</span>\n                        </div>\n                    </div>\n                `,`\n                <section class="py-8">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                        ${t?`<h2 class="text-2xl font-bold text-gray-900 mb-4">${this.escapeHtml(t)}</h2>`:""}\n                        ${n?`<p class="text-gray-600 mb-4">${this.escapeHtml(n)}</p>`:""}\n                        ${u}\n                    </div>\n                </section>\n            `}),this.registerRenderer("tabs",e=>{const t=this.getContentArray(e,"tabs");e.settings.style;const n=e.settings.alignment||"left",i=e.settings.vertical??!1;return`\n                <section class="py-8">\n                    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8" x-data="{ activeTab: 0 }">\n                        <div class="flex ${{left:"justify-start",center:"justify-center",right:"justify-end",full:""}[n]||"justify-start"} ${i?"flex-col sm:flex-row gap-4":"border-b border-gray-200 gap-4"}">\n                            ${Array.isArray(t)&&t.length>0?t.map((e,t)=>`\n                    <button @click="activeTab = ${t}"\n                            :class="{ 'border-primary text-primary': activeTab === ${t}, 'border-transparent text-gray-500 hover:text-gray-700': activeTab !== ${t} }"\n                            class="px-4 py-2 border-b-2 font-medium text-sm transition ${"full"===n?"flex-1":""}">\n                        ${this.escapeHtml(e.title||"")}\n                    </button>\n                `).join(""):""}\n                        </div>\n                        <div class="mt-6">\n                            ${Array.isArray(t)&&t.length>0?t.map((e,t)=>`\n                    <div x-show="activeTab === ${t}" x-transition class="prose prose-lg max-w-none">\n                        ${e.content||""}\n                    </div>\n                `).join(""):'<p class="text-gray-500">No tabs configured</p>'}\n                        </div>\n                    </div>\n                </section>\n            `}),this.registerRenderer("card",e=>{const t=this.getContent(e,"title",""),n=this.getContent(e,"subtitle",""),i=this.getContentArray(e,"cards"),r=e.settings.columns||3,a=e.settings.style||"shadow",s=e.settings.showImage??!0,o={default:"bg-white",bordered:"bg-white border border-gray-200",shadow:"bg-white shadow-md",minimal:"bg-transparent"}[a]||"bg-white shadow-md",l=Array.isArray(i)&&i.length>0?i.map(e=>`\n                    <div class="${o} rounded-xl overflow-hidden group">\n                        ${s&&e.image?`\n                            <div class="aspect-video overflow-hidden">\n                                <img src="${e.image}" alt="${this.escapeHtml(e.title||"")}" class="w-full h-full object-cover group-hover:scale-105 transition duration-300">\n                            </div>\n                        `:""}\n                        <div class="p-6">\n                            <h3 class="text-lg font-semibold text-gray-900 mb-2">${this.escapeHtml(e.title||"")}</h3>\n                            <p class="text-gray-600 mb-4">${this.escapeHtml(e.description||"")}</p>\n                            ${e.link?`\n                                <a href="${e.link}" class="text-primary font-medium hover:underline">\n                                    ${this.escapeHtml(e.linkText||"Learn More")} →\n                                </a>\n                            `:""}\n                        </div>\n                    </div>\n                `).join(""):'<p class="col-span-full text-center text-gray-500">No cards configured</p>';return`\n                <section class="py-16">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                        ${t||n?`\n                            <div class="text-center mb-12">\n                                ${t?`<h2 class="text-3xl font-bold text-gray-900 mb-4">${this.escapeHtml(t)}</h2>`:""}\n                                ${n?`<p class="text-lg text-gray-600 max-w-2xl mx-auto">${this.escapeHtml(n)}</p>`:""}\n                            </div>\n                        `:""}\n                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-${r} gap-6">\n                            ${l}\n                        </div>\n                    </div>\n                </section>\n            `}),this.registerRenderer("heading",e=>{const t=this.getContent(e,"heading",""),n=this.getContent(e,"subheading",""),i=e.settings.level||"h2",r=e.settings.alignment||"left",a=e.settings.size||"md",s=e.settings.showDivider??!1;return`\n                <section class="py-8">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 ${{left:"text-left",center:"text-center",right:"text-right"}[r]||"text-left"}">\n                        <${i} class="${{sm:"text-xl md:text-2xl",md:"text-2xl md:text-3xl",lg:"text-3xl md:text-4xl",xl:"text-4xl md:text-5xl"}[a]||"text-2xl md:text-3xl"} font-bold text-gray-900">${this.escapeHtml(t)}</${i}>\n                        ${n?`<p class="mt-2 text-lg text-gray-600">${this.escapeHtml(n)}</p>`:""}\n                        ${s?`<div class="mt-4 w-20 h-1 bg-primary ${"center"===r?"mx-auto":"right"===r?"ml-auto":""}"></div>`:""}\n                    </div>\n                </section>\n            `}),this.registerRenderer("quote",e=>{const t=this.getContent(e,"quote",""),n=this.getContent(e,"author",""),i=this.getContent(e,"authorTitle",""),r=e.settings.style||"bordered",a=e.settings.showQuoteMarks??!0;return`\n                <section class="py-8">\n                    <blockquote class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 ${{default:"",bordered:"border-l-4 border-primary pl-6",centered:"text-center",card:"bg-gray-50 p-8 rounded-xl",large:"text-xl md:text-2xl"}[r]||"border-l-4 border-primary pl-6"}">\n                        ${a?'<span class="text-4xl text-primary leading-none">"</span>':""}\n                        <p class="text-lg md:text-xl text-gray-700 italic mb-4">${this.escapeHtml(t)}</p>\n                        ${n?`\n                            <footer class="flex items-center gap-3 ${"centered"===r?"justify-center":""}">\n                                <cite class="not-italic">\n                                    <span class="font-semibold text-gray-900">${this.escapeHtml(n)}</span>\n                                    ${i?`<span class="text-gray-500"> — ${this.escapeHtml(i)}</span>`:""}\n                                </cite>\n                            </footer>\n                        `:""}\n                    </blockquote>\n                </section>\n            `}),this.registerRenderer("table",e=>{const t=this.getContent(e,"title",""),n=this.getContent(e,"caption",""),i=this.getContentArray(e,"headers"),r=this.getContentArray(e,"rows"),a=e.settings.style||"striped",s=e.settings.showHeader??!0,o={default:"",striped:"[&>tbody>tr:nth-child(odd)]:bg-gray-50",bordered:"border border-gray-200 [&_td]:border [&_th]:border",minimal:""}[a]||"",l=s&&Array.isArray(i)&&i.length>0?`<thead class="bg-gray-100"><tr>${i.map(e=>`<th class="px-4 py-3 text-left text-sm font-semibold text-gray-900">${this.escapeHtml("string"==typeof e?e:e.header||"")}</th>`).join("")}</tr></thead>`:"",d=Array.isArray(r)&&r.length>0?r.map(e=>`\n                    <tr class="hover:bg-gray-50 transition">\n                        ${Array.isArray(e.cells)?e.cells.map(e=>`\n                            <td class="px-4 py-3 text-sm text-gray-600">${this.escapeHtml("string"==typeof e?e:e.cell||"")}</td>\n                        `).join(""):""}\n                    </tr>\n                `).join(""):'<tr><td class="px-4 py-3 text-center text-gray-500" colspan="100">No data</td></tr>';return`\n                <section class="py-8">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                        ${t?`<h2 class="text-2xl font-bold text-gray-900 mb-4">${this.escapeHtml(t)}</h2>`:""}\n                        <div class="overflow-x-auto">\n                            <table class="w-full ${o}">\n                                ${l}\n                                <tbody class="divide-y divide-gray-200">\n                                    ${d}\n                                </tbody>\n                            </table>\n                        </div>\n                        ${n?`<p class="mt-2 text-sm text-gray-500">${this.escapeHtml(n)}</p>`:""}\n                    </div>\n                </section>\n            `}),this.registerRenderer("list",e=>{const t=this.getContent(e,"title",""),n=this.getContentArray(e,"items"),i=e.settings.listType||"bullet",r=e.settings.columns||1,a={bullet:"•",numbered:"",check:"✓",icon:"",none:""},s=Array.isArray(n)&&n.length>0?n.map((e,t)=>`\n                    <li class="flex gap-3">\n                        ${"none"!==i&&"numbered"!==i?`<span class="text-primary flex-shrink-0">${a[i]||"•"}</span>`:""}\n                        ${"numbered"===i?`<span class="text-primary font-medium flex-shrink-0">${t+1}.</span>`:""}\n                        <div>\n                            <span class="text-gray-900">${this.escapeHtml(e.text||"")}</span>\n                            ${e.subtext?`<span class="block text-sm text-gray-500">${this.escapeHtml(e.subtext)}</span>`:""}\n                        </div>\n                    </li>\n                `).join(""):'<li class="text-gray-500">No items configured</li>';return`\n                <section class="py-8">\n                    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">\n                        ${t?`<h2 class="text-2xl font-bold text-gray-900 mb-4">${this.escapeHtml(t)}</h2>`:""}\n                        <ul class="grid grid-cols-1 ${r>1?`md:grid-cols-${r}`:""} gap-3">\n                            ${s}\n                        </ul>\n                    </div>\n                </section>\n            `}),this.registerRenderer("icon-box",e=>{const t=this.getContent(e,"title",""),n=this.getContent(e,"subtitle",""),i=this.getContentArray(e,"boxes"),r=e.settings.columns||3,a=e.settings.style||"default",s=e.settings.iconPosition||"top",o={default:"",bordered:"border border-gray-200 rounded-xl",filled:"bg-gray-50 rounded-xl",minimal:""}[a]||"",l=Array.isArray(i)&&i.length>0?i.map(e=>`\n                    <div class="p-6 ${o} ${"top"===s?"text-center":"flex gap-4"}">\n                        <div class="${"top"===s?"w-16 h-16 mx-auto mb-4":"w-12 h-12 flex-shrink-0"} bg-primary/10 rounded-full flex items-center justify-center text-primary text-2xl">\n                            ${e.icon?`<span>${e.icon.replace("heroicon-o-","")}</span>`:"★"}\n                        </div>\n                        <div>\n                            <h3 class="text-lg font-semibold text-gray-900 mb-2">${this.escapeHtml(e.title||"")}</h3>\n                            <p class="text-gray-600">${this.escapeHtml(e.description||"")}</p>\n                        </div>\n                    </div>\n                `).join(""):'<p class="col-span-full text-center text-gray-500">No items configured</p>';return`\n                <section class="py-16">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                        ${t||n?`\n                            <div class="text-center mb-12">\n                                ${t?`<h2 class="text-3xl font-bold text-gray-900 mb-4">${this.escapeHtml(t)}</h2>`:""}\n                                ${n?`<p class="text-lg text-gray-600">${this.escapeHtml(n)}</p>`:""}\n                            </div>\n                        `:""}\n                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-${r} gap-6">\n                            ${l}\n                        </div>\n                    </div>\n                </section>\n            `}),this.registerRenderer("logo",e=>{const t=this.getContent(e,"logo",""),n=this.getContent(e,"altText","Logo"),i=this.getContent(e,"link",""),r=e.settings.size||"md",a=e.settings.alignment||"left",s=e.settings.linkToHome??!0,o={xs:"h-6",sm:"h-8",md:"h-12",lg:"h-16",xl:"h-24"}[r]||"h-12",l={left:"justify-start",center:"justify-center",right:"justify-end"}[a]||"justify-start",d=i||(s?"/":""),c=t?`<img src="${t}" alt="${this.escapeHtml(n)}" class="${o} w-auto">`:'<span class="text-2xl font-bold text-primary">Logo</span>';return`\n                <div class="flex ${l} py-4">\n                    ${d?`<a href="${d}">${c}</a>`:c}\n                </div>\n            `}),this.registerRenderer("pricing",e=>{const t=this.getContent(e,"title",""),n=this.getContent(e,"subtitle",""),i=this.getContentArray(e,"plans"),r=e.settings.columns||3,a=Array.isArray(i)&&i.length>0?i.map(e=>`\n                    <div class="relative bg-white rounded-2xl shadow-lg overflow-hidden ${e.featured?"ring-2 ring-primary":""}">\n                        ${e.featured&&e.badge?`\n                            <div class="absolute top-0 right-0 bg-primary text-white px-4 py-1 text-sm font-medium rounded-bl-lg">\n                                ${this.escapeHtml(e.badge)}\n                            </div>\n                        `:""}\n                        <div class="p-8">\n                            <h3 class="text-xl font-bold text-gray-900 mb-2">${this.escapeHtml(e.name||"")}</h3>\n                            <p class="text-gray-600 mb-4">${this.escapeHtml(e.description||"")}</p>\n                            <div class="mb-6">\n                                <span class="text-4xl font-bold text-gray-900">${this.escapeHtml(e.price||"")}</span>\n                                <span class="text-gray-500">${this.escapeHtml(e.period||"")}</span>\n                            </div>\n                            <ul class="space-y-3 mb-8">\n                                ${Array.isArray(e.features)?e.features.map(e=>`\n                                    <li class="flex items-center gap-2">\n                                        <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>\n                                        </svg>\n                                        <span class="text-gray-600">${this.escapeHtml("string"==typeof e?e:e.feature||"")}</span>\n                                    </li>\n                                `).join(""):""}\n                            </ul>\n                            <a href="${e.buttonLink||"#"}" class="block w-full text-center px-6 py-3 ${e.featured?"bg-primary text-white":"bg-gray-100 text-gray-900 hover:bg-gray-200"} font-semibold rounded-lg transition">\n                                ${this.escapeHtml(e.buttonText||"Get Started")}\n                            </a>\n                        </div>\n                    </div>\n                `).join(""):'<p class="col-span-full text-center text-gray-500">No pricing plans configured</p>';return`\n                <section class="py-16 bg-gray-50">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                        ${t||n?`\n                            <div class="text-center mb-12">\n                                ${t?`<h2 class="text-3xl font-bold text-gray-900 mb-4">${this.escapeHtml(t)}</h2>`:""}\n                                ${n?`<p class="text-lg text-gray-600">${this.escapeHtml(n)}</p>`:""}\n                            </div>\n                        `:""}\n                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-${r} gap-8">\n                            ${a}\n                        </div>\n                    </div>\n                </section>\n            `}),this.registerRenderer("team",e=>{const t=this.getContent(e,"title",""),n=this.getContent(e,"subtitle",""),i=this.getContentArray(e,"members"),r=e.settings.columns||4,a=e.settings.showBio??!0,s=e.settings.showSocial??!0,o=Array.isArray(i)&&i.length>0?i.map(e=>`\n                    <div class="text-center">\n                        <div class="w-32 h-32 mx-auto mb-4 rounded-full overflow-hidden bg-gray-200">\n                            ${e.photo?`<img src="${e.photo}" alt="${this.escapeHtml(e.name||"")}" class="w-full h-full object-cover">`:`\n                                <div class="w-full h-full flex items-center justify-center text-4xl font-bold text-gray-400">\n                                    ${(e.name||"T").charAt(0)}\n                                </div>\n                            `}\n                        </div>\n                        <h3 class="text-lg font-semibold text-gray-900">${this.escapeHtml(e.name||"")}</h3>\n                        <p class="text-primary text-sm mb-2">${this.escapeHtml(e.role||"")}</p>\n                        ${a&&e.bio?`<p class="text-gray-600 text-sm">${this.escapeHtml(e.bio)}</p>`:""}\n                        ${s&&(e.linkedin||e.twitter)?`\n                            <div class="flex justify-center gap-2 mt-3">\n                                ${e.linkedin?`<a href="${e.linkedin}" target="_blank" class="text-gray-400 hover:text-primary">LinkedIn</a>`:""}\n                                ${e.twitter?`<a href="${e.twitter}" target="_blank" class="text-gray-400 hover:text-primary">Twitter</a>`:""}\n                            </div>\n                        `:""}\n                    </div>\n                `).join(""):'<p class="col-span-full text-center text-gray-500">No team members configured</p>';return`\n                <section class="py-16">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                        ${t||n?`\n                            <div class="text-center mb-12">\n                                ${t?`<h2 class="text-3xl font-bold text-gray-900 mb-4">${this.escapeHtml(t)}</h2>`:""}\n                                ${n?`<p class="text-lg text-gray-600">${this.escapeHtml(n)}</p>`:""}\n                            </div>\n                        `:""}\n                        <div class="grid grid-cols-2 md:grid-cols-${r} gap-8">\n                            ${o}\n                        </div>\n                    </div>\n                </section>\n            `}),this.registerRenderer("contact-info",e=>{const t=this.getContent(e,"title",""),n=this.getContent(e,"description",""),i=this.getContentArray(e,"contacts"),r=e.settings.layout||"vertical",a=e.settings.showIcons??!0,s={phone:"📞",email:"✉️",address:"📍",hours:"🕐",website:"🌐",custom:"•"},o=Array.isArray(i)&&i.length>0?i.map(e=>{const t=a?s[e.type]||s.custom:"";let n=e.link||"";return n||"phone"!==e.type||(n=`tel:${e.value}`),n||"email"!==e.type||(n=`mailto:${e.value}`),`\n                        <div class="flex items-start gap-3">\n                            ${t?`<span class="text-xl">${t}</span>`:""}\n                            <div>\n                                ${e.label?`<span class="text-sm text-gray-500 block">${this.escapeHtml(e.label)}</span>`:""}\n                                ${n?`<a href="${n}" class="text-gray-900 hover:text-primary">${this.escapeHtml(e.value||"")}</a>`:`<span class="text-gray-900">${this.escapeHtml(e.value||"")}</span>`}\n                            </div>\n                        </div>\n                    `}).join(""):'<p class="text-gray-500">No contact information configured</p>',l="horizontal"===r?"flex flex-wrap gap-8":"grid"===r?"grid grid-cols-1 md:grid-cols-2 gap-4":"space-y-4";return`\n                <section class="py-8">\n                    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">\n                        ${t?`<h2 class="text-2xl font-bold text-gray-900 mb-4">${this.escapeHtml(t)}</h2>`:""}\n                        ${n?`<p class="text-gray-600 mb-6">${this.escapeHtml(n)}</p>`:""}\n                        <div class="${l}">\n                            ${o}\n                        </div>\n                    </div>\n                </section>\n            `}),this.registerRenderer("form",e=>{const t=this.getContent(e,"title",""),n=this.getContent(e,"description",""),i=this.getContentArray(e,"fields"),r=this.getContent(e,"submitText","Submit"),a=this.getContent(e,"successMessage","Thank you!");e.settings.layout;const s=Array.isArray(i)&&i.length>0?i.map(e=>{const t="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",n="half"===e.width?"md:col-span-1":"md:col-span-2";let i="";switch(e.type){case"textarea":i=`<textarea name="${e.name}" placeholder="${this.escapeHtml(e.placeholder||"")}" ${e.required?"required":""} rows="4" class="${t}"></textarea>`;break;case"select":const n=(e.options||"").split(",").map(e=>`<option value="${e.trim()}">${e.trim()}</option>`).join("");i=`<select name="${e.name}" ${e.required?"required":""} class="${t}"><option value="">Select...</option>${n}</select>`;break;case"checkbox":i=`<label class="flex items-center gap-2"><input type="checkbox" name="${e.name}" ${e.required?"required":""} class="w-4 h-4 text-primary rounded"> ${this.escapeHtml(e.label||"")}</label>`;break;default:i=`<input type="${e.type||"text"}" name="${e.name}" placeholder="${this.escapeHtml(e.placeholder||"")}" ${e.required?"required":""} class="${t}">`}return`\n                        <div class="${n}">\n                            ${"checkbox"!==e.type?`<label class="block text-sm font-medium text-gray-700 mb-2">${this.escapeHtml(e.label||"")}${e.required?" *":""}</label>`:""}\n                            ${i}\n                        </div>\n                    `}).join(""):"";return`\n                <section class="py-8">\n                    <div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8">\n                        ${t?`<h2 class="text-2xl font-bold text-gray-900 mb-4">${this.escapeHtml(t)}</h2>`:""}\n                        ${n?`<p class="text-gray-600 mb-6">${this.escapeHtml(n)}</p>`:""}\n                        <form id="form-${e.id}" class="grid grid-cols-1 md:grid-cols-2 gap-4" data-success="${this.escapeHtml(a)}">\n                            ${s}\n                            <div class="md:col-span-2">\n                                <button type="submit" class="px-8 py-3 bg-primary text-white font-semibold rounded-lg hover:bg-primary-dark transition">\n                                    ${this.escapeHtml(r)}\n                                </button>\n                            </div>\n                        </form>\n                    </div>\n                </section>\n            `}),this.registerRenderer("audio",e=>{const t=this.getContent(e,"title",""),n=this.getContent(e,"artist",""),i=this.getContent(e,"audioUrl","")||e.settings.audioFile||"",r=this.getContent(e,"coverImage",""),a=e.settings.autoplay??!1,s=e.settings.loop??!1,o=e.settings.showDownload??!1;return`\n                <section class="py-8">\n                    <div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8">\n                        <div class="bg-white rounded-xl shadow-md p-6 flex gap-4 items-center">\n                            ${r?`<img src="${r}" alt="${this.escapeHtml(t)}" class="w-20 h-20 rounded-lg object-cover">`:'\n                                <div class="w-20 h-20 rounded-lg bg-gradient-to-br from-primary to-secondary flex items-center justify-center">\n                                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/></svg>\n                                </div>\n                            '}\n                            <div class="flex-1">\n                                ${t?`<h3 class="font-semibold text-gray-900">${this.escapeHtml(t)}</h3>`:""}\n                                ${n?`<p class="text-sm text-gray-500">${this.escapeHtml(n)}</p>`:""}\n                                ${i?`\n                                    <audio controls ${a?"autoplay":""} ${s?"loop":""} class="w-full mt-2">\n                                        <source src="${i}" type="audio/mpeg">\n                                    </audio>\n                                `:'<p class="text-gray-400 text-sm mt-2">No audio file</p>'}\n                            </div>\n                            ${o&&i?`<a href="${i}" download class="text-primary hover:underline">Download</a>`:""}\n                        </div>\n                    </div>\n                </section>\n            `}),this.registerRenderer("embed",e=>{var t,n;const i=this.getContent(e,"title",""),r=this.getContent(e,"url",""),a=this.getContent(e,"caption",""),s=e.settings.type||"url",o=e.settings.aspectRatio||"16:9",l=e.settings.maxWidth||800,d={"16:9":"aspect-video","4:3":"aspect-[4/3]","1:1":"aspect-square","9:16":"aspect-[9/16]",auto:""}[o]||"aspect-video";let c="";if(r)if("youtube"===s){c=`<iframe src="https://www.youtube.com/embed/${(null==(t=r.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/))?void 0:t[1])||""}" class="w-full h-full" frameborder="0" allowfullscreen></iframe>`}else if("vimeo"===s){c=`<iframe src="https://player.vimeo.com/video/${(null==(n=r.match(/(?:vimeo\.com\/)(\d+)/))?void 0:n[1])||""}" class="w-full h-full" frameborder="0" allowfullscreen></iframe>`}else c=`<iframe src="${r}" class="w-full h-full" frameborder="0"></iframe>`;else c='<div class="w-full h-full bg-gray-200 flex items-center justify-center"><span class="text-gray-400">No embed URL</span></div>';return`\n                <section class="py-8">\n                    <div class="mx-auto px-4 sm:px-6 lg:px-8" style="max-width: ${l}px">\n                        ${i?`<h2 class="text-xl font-bold text-gray-900 mb-4">${this.escapeHtml(i)}</h2>`:""}\n                        <div class="${d} rounded-lg overflow-hidden">\n                            ${c}\n                        </div>\n                        ${a?`<p class="mt-2 text-sm text-gray-500 text-center">${this.escapeHtml(a)}</p>`:""}\n                    </div>\n                </section>\n            `}),this.registerRenderer("file-download",e=>{const t=this.getContent(e,"title",""),n=this.getContentArray(e,"files");e.settings.style;const i=e.settings.showFileSize??!0,r=e.settings.showFileType??!0,a={pdf:"📄",doc:"📝",xls:"📊",zip:"📦",image:"🖼️",other:"📁"},s=Array.isArray(n)&&n.length>0?n.map(e=>`\n                    <a href="${e.file||e.externalUrl||"#"}" target="_blank" class="flex items-center gap-4 p-4 bg-white rounded-lg shadow hover:shadow-md transition group">\n                        ${r?`<span class="text-2xl">${a[e.fileType]||a.other}</span>`:""}\n                        <div class="flex-1 min-w-0">\n                            <span class="font-medium text-gray-900 group-hover:text-primary truncate block">${this.escapeHtml(e.name||"File")}</span>\n                            ${e.description?`<span class="text-sm text-gray-500 truncate block">${this.escapeHtml(e.description)}</span>`:""}\n                        </div>\n                        ${i&&e.fileSize?`<span class="text-sm text-gray-400">${this.escapeHtml(e.fileSize)}</span>`:""}\n                        <svg class="w-5 h-5 text-gray-400 group-hover:text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>\n                        </svg>\n                    </a>\n                `).join(""):'<p class="text-gray-500 text-center">No files configured</p>';return`\n                <section class="py-8">\n                    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">\n                        ${t?`<h2 class="text-2xl font-bold text-gray-900 mb-6">${this.escapeHtml(t)}</h2>`:""}\n                        <div class="space-y-3">\n                            ${s}\n                        </div>\n                    </div>\n                </section>\n            `}),this.registerRenderer("breadcrumb",e=>{const t=this.getContentArray(e,"items"),n=e.settings.separator||"chevron",i=e.settings.showHomeIcon??!0,r={chevron:'<svg class="w-4 h-4 mx-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>',slash:'<span class="mx-2 text-gray-400">/</span>',arrow:'<span class="mx-2 text-gray-400">→</span>',dot:'<span class="mx-2 text-gray-400">•</span>'},a=r[n]||r.chevron;return`\n                <nav class="py-4">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                        <ol class="flex items-center text-sm">\n                            ${Array.isArray(t)&&t.length>0?t.map((e,n)=>{const r=n===t.length-1||e.isCurrentPage,s=0===n&&i?'<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/></svg>':this.escapeHtml(e.label||"");return`\n                        ${n>0?a:""}\n                        ${r||!e.url?`<span class="text-gray-500">${s}</span>`:`<a href="${e.url}" class="text-primary hover:underline">${s}</a>`}\n                    `}).join(""):""}\n                        </ol>\n                    </div>\n                </nav>\n            `}),this.registerRenderer("timeline",e=>{const t=this.getContent(e,"title",""),n=this.getContent(e,"subtitle",""),i=this.getContentArray(e,"items");e.settings.style;const r={completed:"bg-green-500",current:"bg-primary",upcoming:"bg-gray-300"},a=Array.isArray(i)&&i.length>0?i.map((e,t)=>`\n                    <div class="relative pl-8 pb-8 ${t===i.length-1?"":"border-l-2 border-gray-200 ml-3"}">\n                        <div class="absolute left-0 top-0 w-6 h-6 rounded-full ${r[e.status]||r.completed} flex items-center justify-center">\n                            <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">\n                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>\n                            </svg>\n                        </div>\n                        <div class="ml-6">\n                            <span class="text-sm font-medium text-primary">${this.escapeHtml(e.date||"")}</span>\n                            <h3 class="text-lg font-semibold text-gray-900 mt-1">${this.escapeHtml(e.title||"")}</h3>\n                            ${e.description?`<div class="mt-2 text-gray-600 prose prose-sm">${e.description}</div>`:""}\n                        </div>\n                    </div>\n                `).join(""):'<p class="text-gray-500 text-center">No timeline items configured</p>';return`\n                <section class="py-16">\n                    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">\n                        ${t||n?`\n                            <div class="text-center mb-12">\n                                ${t?`<h2 class="text-3xl font-bold text-gray-900 mb-4">${this.escapeHtml(t)}</h2>`:""}\n                                ${n?`<p class="text-lg text-gray-600">${this.escapeHtml(n)}</p>`:""}\n                            </div>\n                        `:""}\n                        <div class="relative">\n                            ${a}\n                        </div>\n                    </div>\n                </section>\n            `}),this.registerRenderer("reviews",e=>{const t=this.getContent(e,"title",""),n=this.getContent(e,"subtitle",""),i=this.getContentArray(e,"reviews");e.settings.layout;const r=e.settings.columns||2,a=e.settings.showRating??!0,s=e.settings.showVerifiedBadge??!0,o=Array.isArray(i)&&i.length>0?i.map(e=>{return`\n                    <div class="bg-white rounded-xl shadow-md p-6">\n                        <div class="flex items-center gap-4 mb-4">\n                            ${e.avatar?`<img src="${e.avatar}" class="w-12 h-12 rounded-full">`:`\n                                <div class="w-12 h-12 rounded-full bg-primary text-white flex items-center justify-center font-bold">\n                                    ${(e.author||"A").charAt(0)}\n                                </div>\n                            `}\n                            <div>\n                                <div class="font-semibold text-gray-900">${this.escapeHtml(e.author||"")}</div>\n                                ${s&&e.verified?'<span class="text-xs text-green-600">✓ Verified</span>':""}\n                            </div>\n                        </div>\n                        ${a?`<div class="text-yellow-400 mb-2">${t=e.rating||5,"★".repeat(t)+"☆".repeat(5-t)}</div>`:""}\n                        ${e.title?`<h4 class="font-medium text-gray-900 mb-2">${this.escapeHtml(e.title)}</h4>`:""}\n                        <p class="text-gray-600">${this.escapeHtml(e.content||"")}</p>\n                        ${e.date?`<p class="text-sm text-gray-400 mt-3">${this.escapeHtml(e.date)}</p>`:""}\n                    </div>\n                `;var t}).join(""):'<p class="col-span-full text-center text-gray-500">No reviews configured</p>';return`\n                <section class="py-16 bg-gray-50">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                        ${t||n?`\n                            <div class="text-center mb-12">\n                                ${t?`<h2 class="text-3xl font-bold text-gray-900 mb-4">${this.escapeHtml(t)}</h2>`:""}\n                                ${n?`<p class="text-lg text-gray-600">${this.escapeHtml(n)}</p>`:""}\n                            </div>\n                        `:""}\n                        <div class="grid grid-cols-1 md:grid-cols-${r} gap-6">\n                            ${o}\n                        </div>\n                    </div>\n                </section>\n            `}),this.registerRenderer("header",e=>{const t=this.getContent(e,"logo",""),n=this.getContent(e,"logoAlt","Logo"),i=this.getContentArray(e,"navigation"),r=this.getContent(e,"ctaText",""),a=this.getContent(e,"ctaUrl","/"),s=e.settings.sticky??!0,o=e.settings.showCta??!0,l={white:"bg-white",dark:"bg-gray-900 text-white",transparent:"bg-transparent",primary:"bg-primary text-white"}[e.settings.backgroundColor||"white"]||"bg-white",d=Array.isArray(i)&&i.length>0?i.map(e=>`\n                    <a href="${e.url||"#"}" ${e.isExternal?'target="_blank"':""} class="hover:text-primary transition">\n                        ${this.escapeHtml(e.label||"")}\n                    </a>\n                `).join(""):"";return`\n                <header class="${l} ${s?"sticky top-0 z-50":""} shadow-sm" x-data="{ mobileOpen: false }">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                        <div class="flex items-center justify-between h-16">\n                            <a href="/" class="flex-shrink-0">\n                                ${t?`<img src="${t}" alt="${this.escapeHtml(n)}" class="h-8 w-auto">`:'<span class="text-xl font-bold">Logo</span>'}\n                            </a>\n                            <nav class="hidden md:flex items-center gap-8">\n                                ${d}\n                                ${o&&r?`<a href="${a}" class="px-4 py-2 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition">${this.escapeHtml(r)}</a>`:""}\n                            </nav>\n                            <button @click="mobileOpen = !mobileOpen" class="md:hidden p-2">\n                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>\n                                </svg>\n                            </button>\n                        </div>\n                    </div>\n                    <div x-show="mobileOpen" x-collapse class="md:hidden border-t">\n                        <nav class="px-4 py-4 space-y-2">\n                            ${d}\n                            ${o&&r?`<a href="${a}" class="block px-4 py-2 bg-primary text-white rounded-lg font-medium text-center">${this.escapeHtml(r)}</a>`:""}\n                        </nav>\n                    </div>\n                </header>\n            `}),this.registerRenderer("footer",e=>{const t=this.getContent(e,"logo",""),n=this.getContent(e,"description",""),i=this.getContentArray(e,"linkGroups"),r=this.getContentArray(e,"socialLinks"),a=this.getContent(e,"copyright",""),s=this.getContent(e,"email",""),o=this.getContent(e,"phone",""),l=e.settings.style||"default",d="dark"===l?"bg-gray-900 text-white":"bg-gray-100 text-gray-900",c="dark"===l?"text-gray-400":"text-gray-600",p=Array.isArray(i)&&i.length>0?i.map(e=>`\n                    <div>\n                        <h3 class="font-semibold mb-4">${this.escapeHtml(e.title||"")}</h3>\n                        <ul class="space-y-2">\n                            ${Array.isArray(e.links)?e.links.map(e=>`\n                                <li><a href="${e.url||"#"}" class="${c} hover:text-primary transition">${this.escapeHtml(e.label||"")}</a></li>\n                            `).join(""):""}\n                        </ul>\n                    </div>\n                `).join(""):"";return`\n                <footer class="${d} pt-16 pb-8">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12">\n                            <div>\n                                ${t?`<img src="${t}" alt="Logo" class="h-8 w-auto mb-4">`:""}\n                                ${n?`<div class="${c} prose prose-sm">${n}</div>`:""}\n                                ${s?`<p class="mt-4"><a href="mailto:${s}" class="${c} hover:text-primary">${s}</a></p>`:""}\n                                ${o?`<p><a href="tel:${o}" class="${c} hover:text-primary">${o}</a></p>`:""}\n                            </div>\n                            ${p}\n                        </div>\n                        <div class="border-t ${"dark"===l?"border-gray-800":"border-gray-200"} pt-8 flex flex-col md:flex-row justify-between items-center gap-4">\n                            <p class="${c} text-sm">${this.escapeHtml(a)}</p>\n                            ${Array.isArray(r)&&r.length>0?`\n                                <div class="flex gap-4">\n                                    ${r.map(e=>`<a href="${e.url||"#"}" target="_blank" class="${c} hover:text-primary">${e.platform}</a>`).join("")}\n                                </div>\n                            `:""}\n                        </div>\n                    </div>\n                </footer>\n            `}),this.registerRenderer("menu",e=>{const t=this.getContentArray(e,"items"),n=e.settings.style||"horizontal";return`\n                <nav class="py-4">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                        <div class="flex ${{left:"justify-start",center:"justify-center",right:"justify-end",justified:"justify-between"}[e.settings.alignment||"left"]||"justify-start"} ${"vertical"===n?"flex-col space-y-2":"flex-row flex-wrap gap-6"}">\n                            ${Array.isArray(t)&&t.length>0?t.map(e=>`\n                    <a href="${e.url||"#"}" ${e.isExternal?'target="_blank"':""}\n                       class="${e.highlighted?"text-primary font-semibold":"text-gray-700"} hover:text-primary transition">\n                        ${this.escapeHtml(e.label||"")}\n                    </a>\n                `).join(""):""}\n                        </div>\n                    </div>\n                </nav>\n            `}),this.registerRenderer("columns",e=>{const t=this.getContentArray(e,"columns"),n=e.settings.columns||2,i=e.settings.gap||"md";return`\n                <section class="py-8">\n                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">\n                        <div class="grid ${e.settings.stackOnMobile??!0?"grid-cols-1":""} md:grid-cols-${n} ${{none:"gap-0",sm:"gap-4",md:"gap-8",lg:"gap-12",xl:"gap-16"}[i]||"gap-8"}">\n                            ${Array.isArray(t)&&t.length>0?t.map(e=>`<div class="${"light"===e.background?"bg-gray-50":"white"===e.background?"bg-white":"primary-light"===e.background?"bg-primary/5":""} ${"sm"===e.padding?"p-4":"md"===e.padding?"p-6":"lg"===e.padding?"p-8":""} rounded-lg prose prose-lg max-w-none">${e.content||""}</div>`).join(""):""}\n                        </div>\n                    </div>\n                </section>\n            `})}static extractYouTubeId(e){const t=e.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/);return t?t[1]:""}static extractVimeoId(e){const t=e.match(/(?:vimeo\.com\/)(\d+)/);return t?t[1]:""}static escapeHtml(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}static updateLayout(e,t="page-content"){const n=document.getElementById(t);n&&(n.innerHTML=this.renderLayout(e),this.initializeBlocks(e))}static initializeBlocks(e){(null==e?void 0:e.blocks)&&e.blocks.forEach(e=>{switch(e.type){case"event-grid":this.initEventGrid(e);break;case"event-list":this.initEventList(e);break;case"featured-event":this.initFeaturedEvent(e);break;case"category-nav":this.initCategoryNav(e);break;case"newsletter":this.initNewsletter(e);break;case"countdown":this.initCountdown(e);break;case"slider":this.initSlider(e);break;case"stats-counter":this.initStatsCounter(e)}})}static async initEventGrid(e){const t=document.getElementById(`event-grid-${e.id}`);if(!t)return;const n=t.dataset.source||"upcoming",i=parseInt(t.dataset.limit||"6",10);try{const e=await fetch(`${this.config.apiEndpoint}/events?filter=${n}&limit=${i}`);if(!e.ok)return;const r=(await e.json()).data||[];if(0===r.length)return void(t.innerHTML='<p class="col-span-full text-center text-gray-500">No events found</p>');t.innerHTML=r.map(e=>`\n                <a href="/event/${e.slug}" class="group bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition">\n                    <div class="aspect-video bg-gray-200 overflow-hidden">\n                        ${e.image?`<img src="${e.image}" alt="${this.escapeHtml(e.title)}" class="w-full h-full object-cover group-hover:scale-105 transition duration-300">`:""}\n                    </div>\n                    <div class="p-4">\n                        <div class="text-sm text-primary font-medium mb-1">${e.date_formatted||""}</div>\n                        <h3 class="font-semibold text-gray-900 group-hover:text-primary transition">${this.escapeHtml(e.title)}</h3>\n                        <p class="text-sm text-gray-500 mt-1">${e.venue||""}</p>\n                    </div>\n                </a>\n            `).join("")}catch(r){}}static async initFeaturedEvent(e){var t;const n=document.getElementById(`featured-event-${e.id}`);if(!n)return;const i=n.dataset.eventId;if(i)try{const e=await fetch(`${this.config.apiEndpoint}/events/${i}`);if(!e.ok)return;const r=(await e.json()).data;if(!r)return;n.innerHTML=`\n                <div class="lg:w-1/2 aspect-video lg:aspect-auto">\n                    ${r.image?`<img src="${r.image}" alt="${this.escapeHtml(r.title)}" class="w-full h-full object-cover">`:`\n                        <div class="w-full h-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center">\n                            <span class="text-white text-4xl font-bold">${(null==(t=r.title)?void 0:t.charAt(0))||"E"}</span>\n                        </div>\n                    `}\n                </div>\n                <div class="p-8 flex-1">\n                    <div class="text-primary font-medium mb-2">${r.date_formatted||""}</div>\n                    <h3 class="text-2xl md:text-3xl font-bold text-gray-900 mb-4">${this.escapeHtml(r.title)}</h3>\n                    <p class="text-gray-600 mb-6">${r.description||""}</p>\n                    <div class="flex items-center gap-4">\n                        <a href="/event/${r.slug}" class="btn-primary px-6 py-3 rounded-lg font-semibold">\n                            Get Tickets\n                        </a>\n                        <span class="text-lg font-semibold text-gray-900">\n                            ${r.price_from?`From ${r.currency||"€"}${r.price_from}`:"Free"}\n                        </span>\n                    </div>\n                </div>\n            `}catch(r){}}static async initCategoryNav(e){const t=document.getElementById(`category-nav-${e.id}`);if(!t)return;const n="true"===t.dataset.showCount;try{const e=await fetch(`${this.config.apiEndpoint}/categories`);if(!e.ok)return;const i=(await e.json()).data||[];if(0===i.length)return void(t.innerHTML='<p class="col-span-full text-center text-gray-500">No categories found</p>');t.innerHTML=i.map(e=>`\n                <a href="/events?category=${e.slug}" class="group flex flex-col items-center p-4 bg-white rounded-xl shadow-md hover:shadow-lg transition">\n                    <div class="w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mb-3 group-hover:bg-primary/20 transition">\n                        <span class="text-2xl">${e.icon||"🎫"}</span>\n                    </div>\n                    <span class="font-medium text-gray-900">${this.escapeHtml(e.name)}</span>\n                    ${n&&void 0!==e.events_count?`\n                        <span class="text-sm text-gray-500">${e.events_count} events</span>\n                    `:""}\n                </a>\n            `).join("")}catch(i){}}static initNewsletter(e){const t=document.getElementById(`newsletter-form-${e.id}`);t&&t.addEventListener("submit",async e=>{e.preventDefault();const n=t.querySelector('input[type="email"]'),i=null==n?void 0:n.value;if(i)try{if(!(await fetch(`${this.config.apiEndpoint}/newsletter/subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i})})).ok)throw new Error("Subscription failed");t.innerHTML='<p class="text-green-600 font-medium">Thank you for subscribing!</p>'}catch{t.innerHTML='<p class="text-red-600">Something went wrong. Please try again.</p>'}})}static async initEventList(e){const t=document.getElementById(`event-list-${e.id}`);if(!t)return;const n=t.dataset.source||"upcoming",i=parseInt(t.dataset.limit||"5",10),r="true"===t.dataset.showDate,a="true"===t.dataset.showVenue,s="true"===t.dataset.showPrice,o=t.dataset.emptyMessage||"No events found";try{const e=await fetch(`${this.config.apiEndpoint}/events?filter=${n}&limit=${i}`);if(!e.ok)return;const l=(await e.json()).data||[];if(0===l.length)return void(t.innerHTML=`<p class="text-center text-gray-500 py-8">${this.escapeHtml(o)}</p>`);t.innerHTML=l.map(e=>`\n                <a href="/event/${e.slug}" class="flex gap-4 p-4 bg-white rounded-lg shadow hover:shadow-md transition group">\n                    <div class="w-24 h-24 flex-shrink-0 rounded-lg overflow-hidden bg-gray-200">\n                        ${e.image?`<img src="${e.image}" alt="${this.escapeHtml(e.title)}" class="w-full h-full object-cover group-hover:scale-105 transition duration-300">`:""}\n                    </div>\n                    <div class="flex-1 min-w-0">\n                        <h3 class="font-semibold text-gray-900 group-hover:text-primary transition truncate">${this.escapeHtml(e.title)}</h3>\n                        ${r&&e.date_formatted?`<p class="text-sm text-primary font-medium">${e.date_formatted}</p>`:""}\n                        ${a&&e.venue?`<p class="text-sm text-gray-500">${e.venue}</p>`:""}\n                        ${s&&e.price_from?`<p class="text-sm font-medium text-gray-900 mt-1">From ${e.currency||"€"}${e.price_from}</p>`:""}\n                    </div>\n                </a>\n            `).join("")}catch(l){}}static initCountdown(e){const t=document.getElementById(`countdown-${e.id}`);if(!t)return;const n=t.dataset.target,i=t.dataset.expiredMessage||"Event has started!";if(!n)return;const r=new Date(n).getTime(),a=t.querySelector("[data-days]"),s=t.querySelector("[data-hours]"),o=t.querySelector("[data-minutes]"),l=t.querySelector("[data-seconds]"),d=()=>{const e=Date.now(),n=r-e;if(n<0)return void(t.innerHTML=`<p class="text-2xl font-bold text-primary">${i}</p>`);const d=Math.floor(n/864e5),c=Math.floor(n%864e5/36e5),p=Math.floor(n%36e5/6e4),m=Math.floor(n%6e4/1e3);a&&(a.textContent=String(d).padStart(2,"0")),s&&(s.textContent=String(c).padStart(2,"0")),o&&(o.textContent=String(p).padStart(2,"0")),l&&(l.textContent=String(m).padStart(2,"0"))};d(),setInterval(d,1e3)}static initSlider(e){const t=document.getElementById(`slider-${e.id}`);if(!t)return;const n=t.querySelectorAll(".slide");if(n.length<=1)return;const i="true"===t.dataset.autoplay,r=parseInt(t.dataset.speed||"5000",10);let a=0,s=null;const o=e=>{n.forEach((t,n)=>{t.classList.toggle("active",n===e),t.style.opacity=n===e?"1":"0"});t.querySelectorAll(".slider-dots button").forEach((t,n)=>{t.classList.toggle("bg-white",n===e),t.classList.toggle("bg-white/50",n!==e)}),a=e},l=()=>{o((a+1)%n.length)},d=t.querySelector(".slider-prev"),c=t.querySelector(".slider-next");null==d||d.addEventListener("click",()=>{o((a-1+n.length)%n.length),p()}),null==c||c.addEventListener("click",()=>{l(),p()}),t.querySelectorAll(".slider-dots button").forEach((e,t)=>{e.addEventListener("click",()=>{o(t),p()})});const p=()=>{s&&clearInterval(s),i&&(s=setInterval(l,r))};i&&(s=setInterval(l,r)),t.addEventListener("mouseenter",()=>{s&&clearInterval(s)}),t.addEventListener("mouseleave",()=>{i&&(s=setInterval(l,r))})}static initStatsCounter(e){const t=document.getElementById(`stats-${e.id}`);if(!t)return;if(!("true"===t.dataset.animate))return;const n=t.querySelectorAll("[data-count-to]");let i=!1;const r=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&!i&&(i=!0,n.forEach(e=>(e=>{const t=parseInt(e.getAttribute("data-count-to")||"0",10),n=t/125;let i=0;const r=()=>{i+=n,i<t?(e.textContent=Math.floor(i).toString(),requestAnimationFrame(r)):e.textContent=t.toString()};requestAnimationFrame(r)})(e)),r.disconnect())})},{threshold:.5});r.observe(t)}}__publicField(m,"renderers",new Map),__publicField(m,"config"),__publicField(m,"currentLanguage","en");class u{static init(){const e=new URLSearchParams(window.location.search);return this.isPreviewMode=e.has("preview")||"1"===e.get("preview"),this.isPreviewMode&&(this.setupMessageListener(),this.notifyReady()),this.isPreviewMode}static isActive(){return this.isPreviewMode}static setupMessageListener(){window.addEventListener("message",e=>{const t=e.data;if(t&&t.type)switch(t.type){case"THEME_UPDATE":t.theme&&this.handleThemeUpdate(t.theme);break;case"LAYOUT_UPDATE":t.layout&&this.handleLayoutUpdate(t.layout)}})}static notifyReady(){window.parent&&window.parent!==window&&window.parent.postMessage({type:"PREVIEW_READY"},"*")}static handleThemeUpdate(e){c.updateTheme(e)}static handleLayoutUpdate(e){this.layoutUpdateCallbacks.forEach(t=>{try{t(e)}catch(n){}})}static onLayoutUpdate(e){this.layoutUpdateCallbacks.push(e)}static offLayoutUpdate(e){const t=this.layoutUpdateCallbacks.indexOf(e);t>-1&&this.layoutUpdateCallbacks.splice(t,1)}static sendToParent(e){this.isPreviewMode&&window.parent&&window.parent!==window&&window.parent.postMessage(e,"*")}}__publicField(u,"isPreviewMode",!1),__publicField(u,"layoutUpdateCallbacks",[]);const g={en:{title:"We use cookies",description:'We use cookies to improve your experience on our site. By clicking "Accept All", you consent to the use of all cookies. You can also customize your preferences.',acceptAll:"Accept All",rejectAll:"Reject All",customize:"Customize",savePreferences:"Save Preferences",cookiePreferences:"Cookie Preferences",necessaryCookies:"Necessary Cookies",necessaryDescription:"Required for the website to function. Cannot be disabled.",analyticsCookies:"Analytics Cookies",analyticsDescription:"Help us understand how visitors interact with our website.",marketingCookies:"Marketing Cookies",marketingDescription:"Used to deliver relevant advertisements and track ad performance.",preferenceCookies:"Preference Cookies",preferenceDescription:"Remember your settings and preferences for a better experience.",privacyPolicy:"Privacy Policy",cookiePolicy:"Cookie Policy",cookieSettings:"Cookie Settings",close:"Close",renewalTitle:"Your cookie preferences are expiring",renewalDescription:"Your cookie consent will expire soon. Please renew your preferences to continue enjoying a personalized experience.",renewalUrgentDescription:"Your cookie consent expires in a few days. Renew now to keep your preferences.",renewNow:"Renew Now",dismiss:"Dismiss"},ro:{title:"Folosim cookie-uri",description:'Folosim cookie-uri pentru a imbunatatii experienta dumneavoastra pe site-ul nostru. Apasand "Accepta toate", consimtiti la utilizarea tuturor cookie-urilor. Puteti personaliza preferintele.',acceptAll:"Accepta toate",rejectAll:"Refuza toate",customize:"Personalizeaza",savePreferences:"Salveaza preferintele",cookiePreferences:"Preferinte cookie-uri",necessaryCookies:"Cookie-uri necesare",necessaryDescription:"Necesare pentru functionarea site-ului. Nu pot fi dezactivate.",analyticsCookies:"Cookie-uri de analiza",analyticsDescription:"Ne ajuta sa intelegem cum interactioneaza vizitatorii cu site-ul nostru.",marketingCookies:"Cookie-uri de marketing",marketingDescription:"Utilizate pentru a livra reclame relevante si a urmari performanta.",preferenceCookies:"Cookie-uri de preferinte",preferenceDescription:"Retin setarile si preferintele pentru o experienta mai buna.",privacyPolicy:"Politica de confidentialitate",cookiePolicy:"Politica de cookie-uri",cookieSettings:"Setari cookie-uri",close:"Inchide",renewalTitle:"Preferintele tale de cookie-uri expira",renewalDescription:"Consimtamantul tau pentru cookie-uri va expira in curand. Te rugam sa reinnoiesti preferintele pentru a continua sa te bucuri de o experienta personalizata.",renewalUrgentDescription:"Consimtamantul tau pentru cookie-uri expira in cateva zile. Reinnoieste acum pentru a pastra preferintele.",renewNow:"Reinnoieste acum",dismiss:"Inchide"}},h="tixello_cookie_consent",v="tixello_visitor_id",x="1.0",b=class e{constructor(){__publicField(this,"name","cookie-consent"),__publicField(this,"apiClient",null),__publicField(this,"eventBus",null),__publicField(this,"config",{position:"bottom",theme:"auto",language:"auto",showSettingsLink:!0,consentVersion:x,expiryDays:365,enableGoogleConsentMode:!0,showFooterLink:!0}),__publicField(this,"consent",{necessary:!0,analytics:!1,marketing:!1,preferences:!1}),__publicField(this,"visitorId",""),__publicField(this,"bannerElement",null),__publicField(this,"settingsModalElement",null),__publicField(this,"footerLinkElement",null),__publicField(this,"renewalBannerElement",null),__publicField(this,"isInitialized",!1),__publicField(this,"currentLanguage","en"),__publicField(this,"t",g.en),__publicField(this,"isDarkMode",!1),__publicField(this,"pendingScripts",[]),__publicField(this,"loadedScripts",new Set),__publicField(this,"previousActiveElement",null),__publicField(this,"renewalDismissed",!1)}static getInstance(){return e.instance||(e.instance=new e),e.instance}configure(e){this.config={...this.config,...e},this.detectLanguage(),this.detectTheme(),this.bannerElement&&(this.bannerElement.innerHTML=this.getBannerHTML(),this.applyThemeStyles(),this.bindBannerEvents())}async init(e,t,n){var i,r;if(this.isInitialized)return;this.apiClient=e,this.eventBus=t,this.visitorId=this.getOrCreateVisitorId(),(null==(i=null==n?void 0:n.site)?void 0:i.language)&&(this.config.language=n.site.language),(null==(r=null==n?void 0:n.theme)?void 0:r.primaryColor)&&(this.config.primaryColor=n.theme.primaryColor),this.detectLanguage(),this.detectTheme(),this.listenForThemeChanges(),this.initGoogleConsentMode();const a=this.getStoredConsent();a&&a.version===this.config.consentVersion?(this.consent=a.preferences,this.emitConsentUpdate(),this.updateGoogleConsentMode(),this.loadPendingScripts()):this.showBanner(),a&&(await this.syncWithServer(),this.checkRenewalStatus()),this.config.showFooterLink&&this.addFooterLink(),this.isInitialized=!0}detectTheme(){var e;const t=this.config.theme||"auto";this.isDarkMode="auto"===t?(null==(e=window.matchMedia)?void 0:e.call(window,"(prefers-color-scheme: dark)").matches)||!1:"dark"===t}listenForThemeChanges(){var e;"auto"===this.config.theme&&(null==(e=window.matchMedia)||e.call(window,"(prefers-color-scheme: dark)").addEventListener("change",e=>{this.isDarkMode=e.matches,this.applyThemeStyles()}))}applyThemeStyles(){this.bannerElement&&this.bannerElement.classList.toggle("tixello-dark",this.isDarkMode),this.settingsModalElement&&this.settingsModalElement.classList.toggle("tixello-dark",this.isDarkMode)}setTheme(e){this.config.theme=e,this.detectTheme(),this.applyThemeStyles()}detectLanguage(){var e,t;let n=this.config.language||"auto";if("auto"===n){const i=(null==(e=navigator.language)?void 0:e.substring(0,2))||"en";n=(null==(t=document.documentElement.lang)?void 0:t.substring(0,2))||i}this.currentLanguage=g[n]?n:"en",this.t=g[this.currentLanguage]}setLanguage(e){this.config.language=e,this.detectLanguage(),this.bannerElement&&(this.bannerElement.innerHTML=this.getBannerHTML(),this.bindBannerEvents()),this.settingsModalElement&&(this.settingsModalElement.innerHTML=this.getSettingsHTML(),this.bindSettingsEvents()),this.footerLinkElement&&(this.footerLinkElement.textContent=this.config.footerLinkText||this.t.cookieSettings)}registerScript(e){this.loadedScripts.has(e.id)||(this.hasConsent(e.category)?this.loadScript(e):this.pendingScripts.push(e))}loadScript(e){var t;if(!this.loadedScripts.has(e.id))if(e.src){const t=document.createElement("script");t.id=`tixello-script-${e.id}`,t.src=e.src,e.async&&(t.async=!0),e.defer&&(t.defer=!0),t.onload=()=>{var t;this.loadedScripts.add(e.id),null==(t=e.onLoad)||t.call(e)},document.head.appendChild(t)}else if(e.inline){const n=document.createElement("script");n.id=`tixello-script-${e.id}`,n.textContent=e.inline,document.head.appendChild(n),this.loadedScripts.add(e.id),null==(t=e.onLoad)||t.call(e)}}loadPendingScripts(){this.pendingScripts.filter(e=>this.hasConsent(e.category)).forEach(e=>this.loadScript(e)),this.pendingScripts=this.pendingScripts.filter(e=>!this.hasConsent(e.category))}addFooterLink(){if(document.getElementById("tixello-cookie-settings-link"))return;this.footerLinkElement=document.createElement("button"),this.footerLinkElement.id="tixello-cookie-settings-link",this.footerLinkElement.className="tixello-footer-link",this.footerLinkElement.textContent=this.config.footerLinkText||this.t.cookieSettings,this.footerLinkElement.setAttribute("aria-label",this.t.cookieSettings),this.footerLinkElement.addEventListener("click",()=>this.showSettings());const e=document.querySelector("footer")||document.querySelector('[role="contentinfo"]');e?e.appendChild(this.footerLinkElement):(this.footerLinkElement.classList.add("tixello-footer-link-fixed"),document.body.appendChild(this.footerLinkElement))}static createFooterLink(t){const n=e.getInstance(),i=document.createElement("button");return i.className="tixello-footer-link",i.textContent=t||n.t.cookieSettings,i.setAttribute("aria-label",n.t.cookieSettings),i.addEventListener("click",()=>n.showSettings()),i}async checkRenewalStatus(){var e;if(this.apiClient&&!this.renewalDismissed)try{const t=await this.apiClient.get(`/consent/renewal-status?visitor_id=${encodeURIComponent(this.visitorId)}`);t.success&&(null==(e=t.data)?void 0:e.needs_renewal)&&this.showRenewalBanner(t.data.is_urgent,t.data.days_until_expiry)}catch(t){}}showRenewalBanner(e,t){this.renewalBannerElement||this.renewalDismissed||(this.renewalBannerElement=document.createElement("div"),this.renewalBannerElement.id="tixello-renewal-banner",this.renewalBannerElement.setAttribute("role","alert"),this.renewalBannerElement.setAttribute("aria-live","polite"),this.renewalBannerElement.innerHTML=this.getRenewalBannerHTML(e,t),this.renewalBannerElement.style.cssText=this.getRenewalBannerStyles(e),this.isDarkMode&&this.renewalBannerElement.classList.add("tixello-dark"),document.body.appendChild(this.renewalBannerElement),this.bindRenewalBannerEvents())}getRenewalBannerHTML(e,t){const n=e?this.t.renewalUrgentDescription:this.t.renewalDescription;return`\n            <div class="tixello-renewal-content ${e?"tixello-renewal-urgent":""}">\n                <div class="tixello-renewal-text">\n                    <p class="tixello-renewal-title">${this.t.renewalTitle}</p>\n                    <p class="tixello-renewal-description">\n                        ${n}\n                        <span class="tixello-renewal-days">(${t} days remaining)</span>\n                    </p>\n                </div>\n                <div class="tixello-renewal-actions">\n                    <button class="tixello-consent-btn tixello-consent-btn-outline" id="tixello-renewal-dismiss">\n                        ${this.t.dismiss}\n                    </button>\n                    <button class="tixello-consent-btn tixello-consent-btn-primary" id="tixello-renewal-renew">\n                        ${this.t.renewNow}\n                    </button>\n                </div>\n            </div>\n        `}getRenewalBannerStyles(e){return`\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            z-index: 99998;\n            padding: 0.75rem 1rem;\n            background: ${e?"#fef3c7":"#dbeafe"};\n            border-bottom: 2px solid ${e?"#f59e0b":"#3b82f6"};\n            font-family: var(--tixello-font, system-ui, sans-serif);\n        `}bindRenewalBannerEvents(){const e=document.getElementById("tixello-renewal-dismiss"),t=document.getElementById("tixello-renewal-renew");null==e||e.addEventListener("click",()=>this.dismissRenewalBanner()),null==t||t.addEventListener("click",()=>this.renewConsent())}dismissRenewalBanner(){this.renewalBannerElement&&(this.renewalBannerElement.remove(),this.renewalBannerElement=null),this.renewalDismissed=!0,sessionStorage.setItem("tixello_renewal_dismissed","true")}async renewConsent(){if(!this.apiClient)return this.saveConsent("update"),void this.dismissRenewalBanner();try{await this.apiClient.post("/consent/renew",{visitor_id:this.visitorId}),this.saveConsent("update"),this.dismissRenewalBanner()}catch(e){}}initGoogleConsentMode(){this.config.enableGoogleConsentMode&&(window.dataLayer=window.dataLayer||[],window.gtag||(window.gtag=function(){window.dataLayer.push(arguments)}),window.gtag("consent","default",{analytics_storage:"denied",ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied",functionality_storage:"denied",personalization_storage:"denied",security_storage:"granted"}))}updateGoogleConsentMode(){this.config.enableGoogleConsentMode&&window.gtag&&window.gtag("consent","update",{analytics_storage:this.consent.analytics?"granted":"denied",ad_storage:this.consent.marketing?"granted":"denied",ad_user_data:this.consent.marketing?"granted":"denied",ad_personalization:this.consent.marketing?"granted":"denied",functionality_storage:this.consent.preferences?"granted":"denied",personalization_storage:this.consent.preferences?"granted":"denied"})}getConsent(){return{...this.consent}}hasConsent(e){return!0===this.consent[e]}showSettings(){this.showSettingsModal()}async withdrawConsent(){if(this.consent={necessary:!0,analytics:!1,marketing:!1,preferences:!1},this.saveConsent("reject_all"),this.emitConsentUpdate(),this.updateGoogleConsentMode(),this.apiClient)try{await this.apiClient.post("/consent/withdraw",{visitor_id:this.visitorId})}catch(e){}this.showBanner()}getOrCreateVisitorId(){let e=localStorage.getItem(v);return e||(e=this.generateUUID(),localStorage.setItem(v,e)),e}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}getStoredConsent(){try{const e=localStorage.getItem(h);if(e)return JSON.parse(e)}catch{}return null}saveConsent(e){const t={preferences:this.consent,consentedAt:(new Date).toISOString(),version:this.config.consentVersion||x,visitorId:this.visitorId};localStorage.setItem(h,JSON.stringify(t)),this.syncConsentToServer(e)}async syncConsentToServer(e){if(this.apiClient)try{await this.apiClient.post("/consent",{visitor_id:this.visitorId,necessary:this.consent.necessary,analytics:this.consent.analytics,marketing:this.consent.marketing,preferences:this.consent.preferences,action:e,consent_version:this.config.consentVersion||x,page_url:window.location.href,referrer_url:document.referrer||null})}catch(t){}}async syncWithServer(){var e,t;if(this.apiClient)try{const n=await this.apiClient.get(`/consent?visitor_id=${encodeURIComponent(this.visitorId)}`);if(n.success&&(null==(e=n.data)?void 0:e.has_consent)&&(null==(t=n.data)?void 0:t.consent)){const e=n.data.consent;this.consent={necessary:!0,analytics:e.analytics,marketing:e.marketing,preferences:e.preferences},this.saveConsent("update"),this.updateGoogleConsentMode(),this.loadPendingScripts()}}catch(n){}}emitConsentUpdate(){this.eventBus&&this.eventBus.emit("consent:update",this.consent),window.dispatchEvent(new CustomEvent("tixello:consent",{detail:this.consent}))}showBanner(){if(this.bannerElement)return this.bannerElement.style.display="block",this.bannerElement.setAttribute("aria-hidden","false"),void this.focusFirstButton();this.bannerElement=document.createElement("div"),this.bannerElement.id="tixello-cookie-banner",this.bannerElement.setAttribute("role","dialog"),this.bannerElement.setAttribute("aria-modal","false"),this.bannerElement.setAttribute("aria-label",this.t.cookiePreferences),this.bannerElement.setAttribute("aria-describedby","tixello-consent-description"),this.bannerElement.innerHTML=this.getBannerHTML(),this.bannerElement.style.cssText=this.getBannerStyles(),this.isDarkMode&&this.bannerElement.classList.add("tixello-dark"),document.body.appendChild(this.bannerElement),this.bindBannerEvents(),this.focusFirstButton()}focusFirstButton(){setTimeout(()=>{var e;const t=null==(e=this.bannerElement)?void 0:e.querySelector("button");null==t||t.focus()},100)}hideBanner(){this.bannerElement&&(this.bannerElement.style.display="none",this.bannerElement.setAttribute("aria-hidden","true"))}getBannerHTML(){const e=this.config.bannerTitle||this.t.title,t=this.config.bannerDescription||this.t.description;let n="";return this.config.privacyPolicyUrl&&(n+=`<a href="${this.config.privacyPolicyUrl}" target="_blank" rel="noopener">${this.t.privacyPolicy}</a>`),this.config.cookiePolicyUrl&&(n&&(n+=" | "),n+=`<a href="${this.config.cookiePolicyUrl}" target="_blank" rel="noopener">${this.t.cookiePolicy}</a>`),`\n            <div class="tixello-consent-content">\n                <div class="tixello-consent-text">\n                    <p class="tixello-consent-title" id="tixello-consent-title">${e}</p>\n                    <p class="tixello-consent-description" id="tixello-consent-description">\n                        ${t}\n                        ${n?`<br><span class="tixello-consent-links">${n}</span>`:""}\n                    </p>\n                </div>\n                <div class="tixello-consent-actions" role="group" aria-label="Cookie consent options">\n                    <button class="tixello-consent-btn tixello-consent-btn-secondary" id="tixello-consent-customize" aria-describedby="tixello-consent-description">\n                        ${this.t.customize}\n                    </button>\n                    <button class="tixello-consent-btn tixello-consent-btn-outline" id="tixello-consent-reject" aria-describedby="tixello-consent-description">\n                        ${this.t.rejectAll}\n                    </button>\n                    <button class="tixello-consent-btn tixello-consent-btn-primary" id="tixello-consent-accept" aria-describedby="tixello-consent-description">\n                        ${this.t.acceptAll}\n                    </button>\n                </div>\n            </div>\n        `}getBannerStyles(){const e=this.config.position||"bottom";return`\n            position: fixed;\n            ${"bottom"===e?"bottom: 0; left: 0; right: 0;":"top"===e?"top: 0; left: 0; right: 0;":"top: 50%; left: 50%; transform: translate(-50%, -50%);"}\n            z-index: 99999;\n            padding: 1rem;\n            font-family: var(--tixello-font, system-ui, sans-serif);\n        `}bindBannerEvents(){var e;const t=document.getElementById("tixello-consent-accept"),n=document.getElementById("tixello-consent-reject"),i=document.getElementById("tixello-consent-customize");null==t||t.addEventListener("click",()=>this.acceptAll()),null==n||n.addEventListener("click",()=>this.rejectAll()),null==i||i.addEventListener("click",()=>this.showSettingsModal()),null==(e=this.bannerElement)||e.addEventListener("keydown",e=>{"Escape"===e.key&&this.rejectAll()})}acceptAll(){this.consent={necessary:!0,analytics:!0,marketing:!0,preferences:!0},this.saveConsent("accept_all"),this.hideBanner(),this.emitConsentUpdate(),this.updateGoogleConsentMode(),this.loadPendingScripts()}rejectAll(){this.consent={necessary:!0,analytics:!1,marketing:!1,preferences:!1},this.saveConsent("reject_all"),this.hideBanner(),this.emitConsentUpdate(),this.updateGoogleConsentMode()}showSettingsModal(){if(this.previousActiveElement=document.activeElement,this.settingsModalElement)return this.settingsModalElement.style.display="flex",this.settingsModalElement.setAttribute("aria-hidden","false"),this.updateSettingsCheckboxes(),void this.trapFocus();this.settingsModalElement=document.createElement("div"),this.settingsModalElement.id="tixello-cookie-settings",this.settingsModalElement.setAttribute("role","dialog"),this.settingsModalElement.setAttribute("aria-modal","true"),this.settingsModalElement.setAttribute("aria-labelledby","tixello-settings-title"),this.settingsModalElement.innerHTML=this.getSettingsHTML(),this.settingsModalElement.style.cssText=this.getSettingsStyles(),this.isDarkMode&&this.settingsModalElement.classList.add("tixello-dark"),document.body.appendChild(this.settingsModalElement),this.bindSettingsEvents(),this.trapFocus()}trapFocus(){setTimeout(()=>{var e;const t=null==(e=this.settingsModalElement)?void 0:e.querySelector(".tixello-settings-modal"),n=null==t?void 0:t.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');n&&n.length>0&&n[0].focus()},100)}updateSettingsCheckboxes(){const e=document.getElementById("tixello-toggle-analytics"),t=document.getElementById("tixello-toggle-marketing"),n=document.getElementById("tixello-toggle-preferences");e&&(e.checked=this.consent.analytics),t&&(t.checked=this.consent.marketing),n&&(n.checked=this.consent.preferences)}hideSettingsModal(){this.settingsModalElement&&(this.settingsModalElement.style.display="none",this.settingsModalElement.setAttribute("aria-hidden","true"),this.previousActiveElement instanceof HTMLElement&&this.previousActiveElement.focus())}getSettingsHTML(){return`\n            <div class="tixello-settings-backdrop" id="tixello-settings-backdrop"></div>\n            <div class="tixello-settings-modal" role="document">\n                <div class="tixello-settings-header">\n                    <h2 id="tixello-settings-title">${this.t.cookiePreferences}</h2>\n                    <button class="tixello-settings-close" id="tixello-settings-close" aria-label="${this.t.close}">\n                        <span aria-hidden="true">&times;</span>\n                    </button>\n                </div>\n                <div class="tixello-settings-body">\n                    <div class="tixello-settings-category">\n                        <div class="tixello-settings-category-header">\n                            <div>\n                                <h3 id="necessary-label">${this.t.necessaryCookies}</h3>\n                                <p id="necessary-desc">${this.t.necessaryDescription}</p>\n                            </div>\n                            <label class="tixello-toggle tixello-toggle-disabled">\n                                <input type="checkbox" checked disabled aria-labelledby="necessary-label" aria-describedby="necessary-desc">\n                                <span class="tixello-toggle-slider" aria-hidden="true"></span>\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="tixello-settings-category">\n                        <div class="tixello-settings-category-header">\n                            <div>\n                                <h3 id="analytics-label">${this.t.analyticsCookies}</h3>\n                                <p id="analytics-desc">${this.t.analyticsDescription}</p>\n                            </div>\n                            <label class="tixello-toggle">\n                                <input type="checkbox" id="tixello-toggle-analytics" ${this.consent.analytics?"checked":""} aria-labelledby="analytics-label" aria-describedby="analytics-desc">\n                                <span class="tixello-toggle-slider" aria-hidden="true"></span>\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="tixello-settings-category">\n                        <div class="tixello-settings-category-header">\n                            <div>\n                                <h3 id="marketing-label">${this.t.marketingCookies}</h3>\n                                <p id="marketing-desc">${this.t.marketingDescription}</p>\n                            </div>\n                            <label class="tixello-toggle">\n                                <input type="checkbox" id="tixello-toggle-marketing" ${this.consent.marketing?"checked":""} aria-labelledby="marketing-label" aria-describedby="marketing-desc">\n                                <span class="tixello-toggle-slider" aria-hidden="true"></span>\n                            </label>\n                        </div>\n                    </div>\n\n                    <div class="tixello-settings-category">\n                        <div class="tixello-settings-category-header">\n                            <div>\n                                <h3 id="preferences-label">${this.t.preferenceCookies}</h3>\n                                <p id="preferences-desc">${this.t.preferenceDescription}</p>\n                            </div>\n                            <label class="tixello-toggle">\n                                <input type="checkbox" id="tixello-toggle-preferences" ${this.consent.preferences?"checked":""} aria-labelledby="preferences-label" aria-describedby="preferences-desc">\n                                <span class="tixello-toggle-slider" aria-hidden="true"></span>\n                            </label>\n                        </div>\n                    </div>\n                </div>\n                <div class="tixello-settings-footer">\n                    <button class="tixello-consent-btn tixello-consent-btn-outline" id="tixello-settings-reject-all">\n                        ${this.t.rejectAll}\n                    </button>\n                    <button class="tixello-consent-btn tixello-consent-btn-primary" id="tixello-settings-save">\n                        ${this.t.savePreferences}\n                    </button>\n                </div>\n            </div>\n        `}getSettingsStyles(){return"\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            z-index: 100000;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-family: var(--tixello-font, system-ui, sans-serif);\n        "}bindSettingsEvents(){var e;const t=document.getElementById("tixello-settings-close"),n=document.getElementById("tixello-settings-backdrop"),i=document.getElementById("tixello-settings-save"),r=document.getElementById("tixello-settings-reject-all");null==t||t.addEventListener("click",()=>this.hideSettingsModal()),null==n||n.addEventListener("click",()=>this.hideSettingsModal()),null==i||i.addEventListener("click",()=>this.saveSettings()),null==r||r.addEventListener("click",()=>{this.rejectAll(),this.hideSettingsModal()}),null==(e=this.settingsModalElement)||e.addEventListener("keydown",e=>{var t;if("Escape"===e.key&&this.hideSettingsModal(),"Tab"===e.key){const n=null==(t=this.settingsModalElement)?void 0:t.querySelector(".tixello-settings-modal"),i=null==n?void 0:n.querySelectorAll('button, [href], input:not([disabled]), select, textarea, [tabindex]:not([tabindex="-1"])');if(i&&i.length>0){const t=i[0],n=i[i.length-1];e.shiftKey&&document.activeElement===t?(e.preventDefault(),n.focus()):e.shiftKey||document.activeElement!==n||(e.preventDefault(),t.focus())}}})}saveSettings(){const e=document.getElementById("tixello-toggle-analytics"),t=document.getElementById("tixello-toggle-marketing"),n=document.getElementById("tixello-toggle-preferences");this.consent={necessary:!0,analytics:(null==e?void 0:e.checked)||!1,marketing:(null==t?void 0:t.checked)||!1,preferences:(null==n?void 0:n.checked)||!1},this.saveConsent("customize"),this.hideSettingsModal(),this.hideBanner(),this.emitConsentUpdate(),this.updateGoogleConsentMode(),this.loadPendingScripts()}static injectStyles(){if(document.getElementById("tixello-consent-styles"))return;const e=document.createElement("style");e.id="tixello-consent-styles",e.textContent='\n            /* Light theme (default) */\n            #tixello-cookie-banner {\n                background: white;\n                box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);\n            }\n\n            .tixello-consent-content {\n                max-width: 1200px;\n                margin: 0 auto;\n                display: flex;\n                flex-wrap: wrap;\n                align-items: center;\n                justify-content: space-between;\n                gap: 1rem;\n                background: white;\n                padding: 1.5rem;\n                border-radius: 0.5rem;\n            }\n\n            .tixello-consent-text {\n                flex: 1;\n                min-width: 280px;\n            }\n\n            .tixello-consent-title {\n                font-size: 1.125rem;\n                font-weight: 600;\n                margin: 0 0 0.5rem 0;\n                color: #111827;\n            }\n\n            .tixello-consent-description {\n                font-size: 0.875rem;\n                color: #6b7280;\n                margin: 0;\n                line-height: 1.5;\n            }\n\n            .tixello-consent-description a,\n            .tixello-consent-links a {\n                color: var(--tixello-primary, #3b82f6);\n                text-decoration: underline;\n            }\n\n            .tixello-consent-links {\n                display: inline-block;\n                margin-top: 0.5rem;\n                font-size: 0.8125rem;\n            }\n\n            .tixello-consent-actions {\n                display: flex;\n                flex-wrap: wrap;\n                gap: 0.5rem;\n            }\n\n            .tixello-consent-btn {\n                padding: 0.625rem 1.25rem;\n                border-radius: 0.375rem;\n                font-size: 0.875rem;\n                font-weight: 500;\n                cursor: pointer;\n                transition: all 0.2s;\n                border: none;\n            }\n\n            .tixello-consent-btn:focus {\n                outline: 2px solid var(--tixello-primary, #3b82f6);\n                outline-offset: 2px;\n            }\n\n            .tixello-consent-btn-primary {\n                background: var(--tixello-primary, #3b82f6);\n                color: white;\n            }\n\n            .tixello-consent-btn-primary:hover {\n                background: var(--tixello-primary-dark, #2563eb);\n            }\n\n            .tixello-consent-btn-secondary {\n                background: #f3f4f6;\n                color: #374151;\n            }\n\n            .tixello-consent-btn-secondary:hover {\n                background: #e5e7eb;\n            }\n\n            .tixello-consent-btn-outline {\n                background: transparent;\n                color: #374151;\n                border: 1px solid #d1d5db;\n            }\n\n            .tixello-consent-btn-outline:hover {\n                background: #f3f4f6;\n            }\n\n            /* Settings Modal */\n            .tixello-settings-backdrop {\n                position: absolute;\n                top: 0;\n                left: 0;\n                right: 0;\n                bottom: 0;\n                background: rgba(0, 0, 0, 0.5);\n            }\n\n            .tixello-settings-modal {\n                position: relative;\n                background: white;\n                border-radius: 0.75rem;\n                max-width: 500px;\n                width: 90%;\n                max-height: 90vh;\n                overflow-y: auto;\n                box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n            }\n\n            .tixello-settings-header {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n                padding: 1.25rem 1.5rem;\n                border-bottom: 1px solid #e5e7eb;\n            }\n\n            .tixello-settings-header h2 {\n                margin: 0;\n                font-size: 1.25rem;\n                font-weight: 600;\n                color: #111827;\n            }\n\n            .tixello-settings-close {\n                background: none;\n                border: none;\n                font-size: 1.5rem;\n                color: #6b7280;\n                cursor: pointer;\n                padding: 0.25rem;\n                line-height: 1;\n                border-radius: 0.25rem;\n            }\n\n            .tixello-settings-close:hover {\n                color: #111827;\n            }\n\n            .tixello-settings-close:focus {\n                outline: 2px solid var(--tixello-primary, #3b82f6);\n                outline-offset: 2px;\n            }\n\n            .tixello-settings-body {\n                padding: 1rem 1.5rem;\n            }\n\n            .tixello-settings-category {\n                padding: 1rem 0;\n                border-bottom: 1px solid #e5e7eb;\n            }\n\n            .tixello-settings-category:last-child {\n                border-bottom: none;\n            }\n\n            .tixello-settings-category-header {\n                display: flex;\n                justify-content: space-between;\n                align-items: flex-start;\n                gap: 1rem;\n            }\n\n            .tixello-settings-category h3 {\n                margin: 0 0 0.25rem 0;\n                font-size: 0.9375rem;\n                font-weight: 600;\n                color: #111827;\n            }\n\n            .tixello-settings-category p {\n                margin: 0;\n                font-size: 0.8125rem;\n                color: #6b7280;\n                line-height: 1.4;\n            }\n\n            .tixello-settings-footer {\n                display: flex;\n                justify-content: flex-end;\n                gap: 0.75rem;\n                padding: 1.25rem 1.5rem;\n                border-top: 1px solid #e5e7eb;\n            }\n\n            /* Toggle Switch */\n            .tixello-toggle {\n                position: relative;\n                display: inline-block;\n                width: 48px;\n                height: 26px;\n                flex-shrink: 0;\n            }\n\n            .tixello-toggle input {\n                opacity: 0;\n                width: 0;\n                height: 0;\n            }\n\n            .tixello-toggle input:focus + .tixello-toggle-slider {\n                box-shadow: 0 0 0 2px var(--tixello-primary, #3b82f6);\n            }\n\n            .tixello-toggle-slider {\n                position: absolute;\n                cursor: pointer;\n                top: 0;\n                left: 0;\n                right: 0;\n                bottom: 0;\n                background-color: #d1d5db;\n                transition: 0.3s;\n                border-radius: 26px;\n            }\n\n            .tixello-toggle-slider:before {\n                position: absolute;\n                content: "";\n                height: 20px;\n                width: 20px;\n                left: 3px;\n                bottom: 3px;\n                background-color: white;\n                transition: 0.3s;\n                border-radius: 50%;\n            }\n\n            .tixello-toggle input:checked + .tixello-toggle-slider {\n                background-color: var(--tixello-primary, #3b82f6);\n            }\n\n            .tixello-toggle input:checked + .tixello-toggle-slider:before {\n                transform: translateX(22px);\n            }\n\n            .tixello-toggle-disabled .tixello-toggle-slider {\n                cursor: not-allowed;\n                opacity: 0.6;\n            }\n\n            .tixello-toggle-disabled input:checked + .tixello-toggle-slider {\n                background-color: #9ca3af;\n            }\n\n            /* Footer Link */\n            .tixello-footer-link {\n                background: none;\n                border: none;\n                color: #6b7280;\n                font-size: 0.75rem;\n                cursor: pointer;\n                padding: 0.5rem;\n                text-decoration: underline;\n            }\n\n            .tixello-footer-link:hover {\n                color: var(--tixello-primary, #3b82f6);\n            }\n\n            .tixello-footer-link:focus {\n                outline: 2px solid var(--tixello-primary, #3b82f6);\n                outline-offset: 2px;\n            }\n\n            .tixello-footer-link-fixed {\n                position: fixed;\n                bottom: 1rem;\n                left: 1rem;\n                z-index: 99998;\n                background: white;\n                padding: 0.5rem 1rem;\n                border-radius: 0.25rem;\n                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n            }\n\n            /* Dark Mode */\n            #tixello-cookie-banner.tixello-dark {\n                background: #1f2937;\n                box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3);\n            }\n\n            .tixello-dark .tixello-consent-content {\n                background: #1f2937;\n            }\n\n            .tixello-dark .tixello-consent-title {\n                color: #f9fafb;\n            }\n\n            .tixello-dark .tixello-consent-description {\n                color: #9ca3af;\n            }\n\n            .tixello-dark .tixello-consent-btn-secondary {\n                background: #374151;\n                color: #f3f4f6;\n            }\n\n            .tixello-dark .tixello-consent-btn-secondary:hover {\n                background: #4b5563;\n            }\n\n            .tixello-dark .tixello-consent-btn-outline {\n                color: #f3f4f6;\n                border-color: #4b5563;\n            }\n\n            .tixello-dark .tixello-consent-btn-outline:hover {\n                background: #374151;\n            }\n\n            .tixello-dark .tixello-settings-modal {\n                background: #1f2937;\n            }\n\n            .tixello-dark .tixello-settings-header {\n                border-bottom-color: #374151;\n            }\n\n            .tixello-dark .tixello-settings-header h2 {\n                color: #f9fafb;\n            }\n\n            .tixello-dark .tixello-settings-close {\n                color: #9ca3af;\n            }\n\n            .tixello-dark .tixello-settings-close:hover {\n                color: #f9fafb;\n            }\n\n            .tixello-dark .tixello-settings-category {\n                border-bottom-color: #374151;\n            }\n\n            .tixello-dark .tixello-settings-category h3 {\n                color: #f9fafb;\n            }\n\n            .tixello-dark .tixello-settings-category p {\n                color: #9ca3af;\n            }\n\n            .tixello-dark .tixello-settings-footer {\n                border-top-color: #374151;\n            }\n\n            .tixello-dark .tixello-toggle-slider {\n                background-color: #4b5563;\n            }\n\n            .tixello-dark .tixello-footer-link {\n                color: #9ca3af;\n            }\n\n            .tixello-dark .tixello-footer-link-fixed {\n                background: #1f2937;\n            }\n\n            /* Renewal Banner */\n            .tixello-renewal-content {\n                max-width: 1200px;\n                margin: 0 auto;\n                display: flex;\n                flex-wrap: wrap;\n                align-items: center;\n                justify-content: space-between;\n                gap: 1rem;\n            }\n\n            .tixello-renewal-text {\n                flex: 1;\n                min-width: 280px;\n            }\n\n            .tixello-renewal-title {\n                font-size: 0.9375rem;\n                font-weight: 600;\n                margin: 0 0 0.25rem 0;\n                color: #1f2937;\n            }\n\n            .tixello-renewal-description {\n                font-size: 0.8125rem;\n                color: #4b5563;\n                margin: 0;\n            }\n\n            .tixello-renewal-days {\n                font-weight: 500;\n            }\n\n            .tixello-renewal-actions {\n                display: flex;\n                gap: 0.5rem;\n            }\n\n            .tixello-renewal-urgent .tixello-renewal-title {\n                color: #92400e;\n            }\n\n            .tixello-renewal-urgent .tixello-renewal-description {\n                color: #78350f;\n            }\n\n            .tixello-dark #tixello-renewal-banner {\n                background: #1e3a5f;\n                border-bottom-color: #3b82f6;\n            }\n\n            .tixello-dark .tixello-renewal-title {\n                color: #f3f4f6;\n            }\n\n            .tixello-dark .tixello-renewal-description {\n                color: #d1d5db;\n            }\n\n            /* Responsive */\n            @media (max-width: 640px) {\n                .tixello-consent-content {\n                    flex-direction: column;\n                    align-items: stretch;\n                }\n\n                .tixello-consent-actions {\n                    flex-direction: column;\n                }\n\n                .tixello-consent-btn {\n                    width: 100%;\n                    text-align: center;\n                }\n\n                .tixello-renewal-content {\n                    flex-direction: column;\n                    align-items: stretch;\n                    text-align: center;\n                }\n\n                .tixello-renewal-actions {\n                    flex-direction: column;\n                    width: 100%;\n                }\n            }\n\n            /* Reduced motion */\n            @media (prefers-reduced-motion: reduce) {\n                .tixello-toggle-slider,\n                .tixello-toggle-slider:before,\n                .tixello-consent-btn {\n                    transition: none;\n                }\n            }\n        ',document.head.appendChild(e)}};__publicField(b,"instance");let f=b;"undefined"!=typeof document&&f.injectStyles(),f.getInstance();const y=class e{constructor(){__publicField(this,"config"),__publicField(this,"userData"),__publicField(this,"deviceInfo"),__publicField(this,"eventQueue",[]),__publicField(this,"pageEntryTime",Date.now()),__publicField(this,"maxScrollDepth",0),__publicField(this,"heartbeatTimer"),__publicField(this,"flushTimer"),__publicField(this,"isInitialized",!1),__publicField(this,"consentModule",null),__publicField(this,"consentPreferences",{necessary:!0,analytics:!1,marketing:!1,preferences:!1}),this.config={enabled:!0,endpoint:"",tenantId:"",sessionTimeout:18e5,heartbeatInterval:3e4,batchSize:10,flushInterval:5e3},this.userData={visitorId:this.getOrCreateVisitorId(),sessionId:this.getOrCreateSessionId()},this.deviceInfo=this.collectDeviceInfo()}static getInstance(){return e.instance||(e.instance=new e),e.instance}init(e){var t;if(this.isInitialized)return;const n=e.apiEndpoint||"";try{const e=new URL(n);this.config.endpoint=e.origin}catch{this.config.endpoint=n.replace(/\/api\/tenant-client\/?$/,"")}this.config.tenantId=String(e.tenantId||""),this.config.enabled=!1!==(null==(t=e.tracking)?void 0:t.enabled),this.config.enabled&&(this.initConsentIntegration(),this.extractUrlParameters(),this.hasAnalyticsConsent()&&this.trackPageView(),this.setupEventListeners(),this.startHeartbeat(),this.startFlushTimer(),this.isInitialized=!0)}initConsentIntegration(){try{this.consentModule=f.getInstance(),this.consentPreferences=this.consentModule.getConsent(),window.addEventListener("tixello:consent",e=>{this.consentPreferences=e.detail,this.consentPreferences.analytics&&!this.isInitialized&&this.trackPageView()})}catch(e){this.consentPreferences={necessary:!0,analytics:!1,marketing:!1,preferences:!1}}}hasAnalyticsConsent(){return!0===this.consentPreferences.analytics}hasMarketingConsent(){return!0===this.consentPreferences.marketing}hasConsent(e){return!0===this.consentPreferences[e]}trackPageView(e){this.pageEntryTime=Date.now(),this.maxScrollDepth=0,this.queueEvent({eventType:"page_view",eventCategory:"navigation",timestamp:Date.now(),pageUrl:window.location.href,pageTitle:document.title,referrer:document.referrer,eventData:e,...this.getAttributionParams()})}trackAddToCart(e){this.queueEvent({eventType:"add_to_cart",eventCategory:"ecommerce",timestamp:Date.now(),pageUrl:window.location.href,pageTitle:document.title,referrer:document.referrer,value:e.price,currency:e.currency||"USD",eventData:e,...this.getAttributionParams()}),this.flushEvents()}trackBeginCheckout(e){this.queueEvent({eventType:"begin_checkout",eventCategory:"ecommerce",timestamp:Date.now(),pageUrl:window.location.href,pageTitle:document.title,referrer:document.referrer,value:e.cartTotal,currency:e.currency||"USD",eventData:e,...this.getAttributionParams()}),this.flushEvents()}trackPurchase(e){e.email&&(this.userData.email=e.email),e.phone&&(this.userData.phone=e.phone),e.firstName&&(this.userData.firstName=e.firstName),e.lastName&&(this.userData.lastName=e.lastName),this.queueEvent({eventType:"purchase",eventCategory:"ecommerce",timestamp:Date.now(),pageUrl:window.location.href,pageTitle:document.title,referrer:document.referrer,orderId:e.orderId,value:e.orderTotal,currency:e.currency||"USD",eventData:{ticketCount:e.ticketCount,eventId:e.eventId,items:e.items},...this.getAttributionParams()}),this.flushEvents()}trackSignUp(e){e.email&&(this.userData.email=e.email),e.phone&&(this.userData.phone=e.phone),e.firstName&&(this.userData.firstName=e.firstName),e.lastName&&(this.userData.lastName=e.lastName),this.queueEvent({eventType:"sign_up",eventCategory:"user",timestamp:Date.now(),pageUrl:window.location.href,pageTitle:document.title,referrer:document.referrer,eventData:{method:e.method},...this.getAttributionParams()}),this.flushEvents()}trackLogin(e){e.email&&(this.userData.email=e.email),this.queueEvent({eventType:"login",eventCategory:"user",timestamp:Date.now(),pageUrl:window.location.href,pageTitle:document.title,referrer:document.referrer,eventData:{method:e.method},...this.getAttributionParams()})}trackViewEvent(e){this.queueEvent({eventType:"view_item",eventCategory:"engagement",timestamp:Date.now(),pageUrl:window.location.href,pageTitle:document.title,referrer:document.referrer,value:e.lowestPrice,currency:e.currency||"USD",eventData:e,...this.getAttributionParams()})}trackSearch(e){this.queueEvent({eventType:"search",eventCategory:"engagement",timestamp:Date.now(),pageUrl:window.location.href,pageTitle:document.title,referrer:document.referrer,eventData:e,...this.getAttributionParams()})}trackCustomEvent(e,t){this.queueEvent({eventType:e,eventCategory:"custom",timestamp:Date.now(),pageUrl:window.location.href,pageTitle:document.title,referrer:document.referrer,eventData:t,...this.getAttributionParams()})}setUserIdentity(e){e.email&&(this.userData.email=e.email),e.phone&&(this.userData.phone=e.phone),e.firstName&&(this.userData.firstName=e.firstName),e.lastName&&(this.userData.lastName=e.lastName),this.queueEvent({eventType:"identify",eventCategory:"user",timestamp:Date.now(),pageUrl:window.location.href,pageTitle:document.title,referrer:document.referrer,eventData:{userId:e.userId},...this.getAttributionParams()}),this.flushEvents()}getOrCreateVisitorId(){const e="tixello_visitor_id";let t=localStorage.getItem(e);return t||(t=this.generateUUID(),localStorage.setItem(e,t)),t}getOrCreateSessionId(){const e="tixello_session",t=sessionStorage.getItem(e);if(t){const n=JSON.parse(t);if(Date.now()-n.lastActivity<this.config.sessionTimeout)return n.lastActivity=Date.now(),sessionStorage.setItem(e,JSON.stringify(n)),n.id}const n=this.generateUUID();return sessionStorage.setItem(e,JSON.stringify({id:n,startTime:Date.now(),lastActivity:Date.now()})),n}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}collectDeviceInfo(){var e,t,n,i,r,a,s,o,l,d;const c=navigator.userAgent,p=/Mobile|Android|iPhone|iPad|iPod/i.test(c),m=/Tablet|iPad/i.test(c);let u="Unknown",g="";c.includes("Chrome")?(u="Chrome",g=(null==(e=c.match(/Chrome\/(\d+)/))?void 0:e[1])||""):c.includes("Firefox")?(u="Firefox",g=(null==(t=c.match(/Firefox\/(\d+)/))?void 0:t[1])||""):c.includes("Safari")?(u="Safari",g=(null==(n=c.match(/Version\/(\d+)/))?void 0:n[1])||""):c.includes("Edge")&&(u="Edge",g=(null==(i=c.match(/Edge\/(\d+)/))?void 0:i[1])||"");let h="Unknown",v="";return c.includes("Windows")?(h="Windows",v=(null==(r=c.match(/Windows NT (\d+\.\d+)/))?void 0:r[1])||""):c.includes("Mac OS")?(h="macOS",v=(null==(s=null==(a=c.match(/Mac OS X (\d+[_\.]\d+)/))?void 0:a[1])?void 0:s.replace("_","."))||""):c.includes("Linux")?h="Linux":c.includes("Android")?(h="Android",v=(null==(o=c.match(/Android (\d+\.?\d*)/))?void 0:o[1])||""):(c.includes("iOS")||c.includes("iPhone")||c.includes("iPad"))&&(h="iOS",v=(null==(d=null==(l=c.match(/OS (\d+[_\.]\d+)/))?void 0:l[1])?void 0:d.replace("_","."))||""),{deviceType:m?"tablet":p?"mobile":"desktop",browser:u,browserVersion:g,os:h,osVersion:v,screenWidth:window.screen.width,screenHeight:window.screen.height,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight,isMobile:p,isTablet:m,isDesktop:!p&&!m}}extractUrlParameters(){const e=new URLSearchParams(window.location.search),t=e.get("gclid"),n=e.get("fbclid"),i=e.get("ttclid"),r=e.get("li_fat_id");t&&localStorage.setItem("tixello_gclid",t),n&&localStorage.setItem("tixello_fbclid",n),i&&localStorage.setItem("tixello_ttclid",i),r&&localStorage.setItem("tixello_li_fat_id",r);["utm_source","utm_medium","utm_campaign","utm_term","utm_content"].forEach(t=>{const n=e.get(t);n&&localStorage.setItem(`tixello_${t}`,n)})}getAttributionParams(){return{utmSource:localStorage.getItem("tixello_utm_source")||void 0,utmMedium:localStorage.getItem("tixello_utm_medium")||void 0,utmCampaign:localStorage.getItem("tixello_utm_campaign")||void 0,utmTerm:localStorage.getItem("tixello_utm_term")||void 0,utmContent:localStorage.getItem("tixello_utm_content")||void 0,gclid:localStorage.getItem("tixello_gclid")||void 0,fbclid:localStorage.getItem("tixello_fbclid")||void 0,ttclid:localStorage.getItem("tixello_ttclid")||void 0,liFatId:localStorage.getItem("tixello_li_fat_id")||void 0}}setupEventListeners(){let e;window.addEventListener("scroll",()=>{clearTimeout(e),e=window.setTimeout(()=>{const e=window.scrollY,t=document.documentElement.scrollHeight-window.innerHeight,n=Math.round(e/t*100);this.maxScrollDepth=Math.max(this.maxScrollDepth,n)},100)}),window.addEventListener("beforeunload",()=>{this.trackEngagement(),this.trackSessionEnd(),this.flushEvents(!0)}),document.addEventListener("visibilitychange",()=>{document.hidden&&(this.trackEngagement(),this.flushEvents())}),document.addEventListener("click",e=>{var t;const n=e.target.closest("a");n&&n.hostname!==window.location.hostname&&this.queueEvent({eventType:"outbound_click",eventCategory:"engagement",timestamp:Date.now(),pageUrl:window.location.href,pageTitle:document.title,referrer:document.referrer,eventData:{targetUrl:n.href,linkText:null==(t=n.textContent)?void 0:t.substring(0,100)},...this.getAttributionParams()})});const t=history.pushState;history.pushState=(...e)=>{t.apply(history,e),this.handleNavigation()},window.addEventListener("popstate",()=>{this.handleNavigation()})}handleNavigation(){this.trackEngagement(),setTimeout(()=>{this.trackPageView()},100)}trackEngagement(){const e=Math.round((Date.now()-this.pageEntryTime)/1e3);e>0&&this.queueEvent({eventType:"engagement",eventCategory:"engagement",timestamp:Date.now(),pageUrl:window.location.href,pageTitle:document.title,referrer:document.referrer,timeOnPage:e,scrollDepth:this.maxScrollDepth,...this.getAttributionParams()})}trackSessionEnd(){const e=sessionStorage.getItem("tixello_session");if(!e)return;const t=JSON.parse(e),n=Math.round((Date.now()-t.startTime)/1e3);this.queueEvent({eventType:"session_end",eventCategory:"session",timestamp:Date.now(),pageUrl:window.location.href,pageTitle:document.title,referrer:document.referrer,eventData:{sessionDuration:n,sessionStartTime:t.startTime},...this.getAttributionParams()})}startHeartbeat(){this.heartbeatTimer=window.setInterval(()=>{const e="tixello_session",t=sessionStorage.getItem(e);if(t){const n=JSON.parse(t);n.lastActivity=Date.now(),sessionStorage.setItem(e,JSON.stringify(n))}},this.config.heartbeatInterval)}startFlushTimer(){this.flushTimer=window.setInterval(()=>{this.eventQueue.length>0&&this.flushEvents()},this.config.flushInterval)}queueEvent(e){const t=["outbound_click"];if(!["error","session_start"].includes(e.eventType)){if(t.includes(e.eventType)&&!this.hasMarketingConsent())return;if(!t.includes(e.eventType)&&!this.hasAnalyticsConsent())return}this.eventQueue.push(e),this.eventQueue.length>=this.config.batchSize&&this.flushEvents()}flushEvents(e=!1){if(0===this.eventQueue.length||!this.config.endpoint)return;const t=[...this.eventQueue];this.eventQueue=[];const n={tenantId:this.config.tenantId,userData:this.userData,deviceInfo:this.deviceInfo,events:t,timestamp:Date.now(),consent:{analytics:this.consentPreferences.analytics,marketing:this.consentPreferences.marketing,preferences:this.consentPreferences.preferences}};if(e&&navigator.sendBeacon){const e=new Blob([JSON.stringify(n)],{type:"application/json"});navigator.sendBeacon(`${this.config.endpoint}/api/tracking/events`,e)}else fetch(`${this.config.endpoint}/api/tracking/events`,{method:"POST",mode:"cors",credentials:"omit",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(n)}).catch(e=>{this.eventQueue=[...t,...this.eventQueue]})}destroy(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.flushTimer&&clearInterval(this.flushTimer),this.flushEvents(!0)}};__publicField(y,"instance");const k=y.getInstance();class w{static getCart(){const e=localStorage.getItem(this.STORAGE_KEY);return e?JSON.parse(e):[]}static addItem(e){const t=this.getCart(),n=t.findIndex(t=>t.eventId===e.eventId&&t.ticketTypeId===e.ticketTypeId);n>=0?t[n].quantity+=e.quantity:t.push(e),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t))}static updateQuantity(e,t,n){const i=this.getCart(),r=i.find(n=>n.eventId===e&&n.ticketTypeId===t);r&&(r.quantity=n,r.quantity<=0?this.removeItem(e,t):localStorage.setItem(this.STORAGE_KEY,JSON.stringify(i)))}static removeItem(e,t){let n=this.getCart();n=n.filter(n=>!(n.eventId===e&&n.ticketTypeId===t)),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(n))}static clearCart(){localStorage.removeItem(this.STORAGE_KEY)}static getItemCount(){return this.getCart().reduce((e,t)=>e+t.quantity,0)}static calculateBulkDiscount(e,t,n){let i=e*t,r=0;for(const a of n){let n=e*t,s=0;if("buy_x_get_y"===a.rule_type&&e>=a.buy_qty){const i=Math.floor(e/a.buy_qty)*a.get_qty;n=(e-i)*t,s=i*t}else if("amount_off_per_ticket"===a.rule_type&&e>=a.min_qty){s=e*(a.amount_off/100),n=e*t-s}else"percent_off"===a.rule_type&&e>=a.min_qty&&(s=e*t*(a.percent_off/100),n=e*t-s);n<i&&(i=n,r=s)}return{total:i,discount:r}}static getTotal(){const e=this.getCart();let t=0,n=0,i=0,r=!1,a="RON";for(const d of e){const e=d.salePrice||d.price,s=this.calculateBulkDiscount(d.quantity,e,d.bulkDiscounts);if(t+=s.total,n+=s.discount,a=d.currency,d.hasCommissionOnTop&&d.commissionRate>0){i+=d.quantity*d.price*(d.commissionRate/100),r=!0}}const s=this.getDiscount();let o=0,l=null;return s&&(l=s.name,o="percentage"===s.type?t*(s.value/100):s.discountAmount),{subtotal:t+n,bulkDiscount:n,couponDiscount:o,couponName:l,discount:n+o,commission:i,total:Math.max(0,t+i-o),currency:a,hasCommission:r}}static setDiscount(e){localStorage.setItem(this.DISCOUNT_KEY,JSON.stringify(e))}static getDiscount(){const e=localStorage.getItem(this.DISCOUNT_KEY);return e?JSON.parse(e):null}static removeDiscount(){localStorage.removeItem(this.DISCOUNT_KEY)}}__publicField(w,"STORAGE_KEY","tixello_cart"),__publicField(w,"DISCOUNT_KEY","tixello_discount");class ${static show(e,t="success"){const n=document.createElement("div");n.className="fixed bottom-4 right-4 px-6 py-3 rounded-lg shadow-lg text-white font-medium z-50 transform transition-all duration-300 translate-y-0 opacity-100";n.classList.add({success:"bg-green-600",error:"bg-red-600",info:"bg-blue-600"}[t]),n.textContent=e,document.body.appendChild(n),setTimeout(()=>{n.classList.add("translate-y-2","opacity-0"),setTimeout(()=>n.remove(),300)},3e3)}}class _{constructor(t){__publicField(this,"routes",[]),__publicField(this,"config"),__publicField(this,"currentPath",""),__publicField(this,"authToken",null),__publicField(this,"currentUser",null),__publicField(this,"eventBus"),this.config=t,this.eventBus=new e,i.init(t),this.loadAuthState(),this.setupDefaultRoutes()}loadAuthState(){this.authToken=localStorage.getItem("tixello_auth_token");const e=localStorage.getItem("tixello_user");if(e)try{this.currentUser=JSON.parse(e)}catch{this.currentUser=null}}saveAuthState(e,t){e&&t&&(this.authToken=e,this.currentUser=t,localStorage.setItem("tixello_auth_token",e),localStorage.setItem("tixello_user",JSON.stringify(t)))}clearAuthState(){this.authToken=null,this.currentUser=null,localStorage.removeItem("tixello_auth_token"),localStorage.removeItem("tixello_user")}isAuthenticated(){return!!this.authToken}getUser(){return this.currentUser}updateCartBadge(){const e=document.getElementById("cart-badge");if(e){const t=w.getItemCount();e.textContent=t.toString(),t>0?e.classList.remove("hidden"):e.classList.add("hidden")}}updateHeaderForUser(){var e;const t=document.getElementById("account-link");if(t&&this.currentUser){const n=(null==(e=this.currentUser.name)?void 0:e.split(" ")[0])||this.currentUser.email;t.textContent=`Buna, ${n}`,t.href="/account"}}async fetchApi(e,t={},n={}){const i=new URL(`${this.config.apiEndpoint}${e}`);i.searchParams.set("hostname",window.location.hostname),Object.entries(t).forEach(([e,t])=>{i.searchParams.set(e,t)});const r={"Content-Type":"application/json",...n.headers||{}};this.authToken&&(r.Authorization=`Bearer ${this.authToken}`);const a=await fetch(i.toString(),{...n,headers:r});if(!a.ok){const e=await a.json().catch(()=>({message:"Request failed"}));throw new Error(e.message||`API error: ${a.status}`)}return a.json()}async postApi(e,t){const n=new URL(`${this.config.apiEndpoint}${e}`);n.searchParams.set("hostname",window.location.hostname);const i={"Content-Type":"application/json"};this.authToken&&(i.Authorization=`Bearer ${this.authToken}`);const r=await fetch(n.toString(),{method:"POST",headers:i,body:JSON.stringify(t)}),a=await r.json();if(!r.ok)throw new Error(a.message||a.error||"Request failed");return a}async deleteApi(e){const t=new URL(`${this.config.apiEndpoint}${e}`);t.searchParams.set("hostname",window.location.hostname);const n={"Content-Type":"application/json"};this.authToken&&(n.Authorization=`Bearer ${this.authToken}`);const i=await fetch(t.toString(),{method:"DELETE",headers:n}),r=await i.json();if(!i.ok)throw new Error(r.message||r.error||"Request failed");return r}renderEventCard(e){const t=e.is_postponed&&e.postponed_date?e.postponed_date:e.start_date,n=t?new Date(t).toLocaleDateString("ro-RO",{day:"numeric",month:"short",year:"numeric"}):"",i=e.poster_url||e.hero_image_url;return`\n            <a href="/event/${e.slug}" class="block bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition group">\n                <div class="aspect-[16/9] bg-gray-200 relative overflow-hidden">\n                    ${i?`<img src="${i}" alt="${e.title}" class="w-full h-full object-cover group-hover:scale-105 transition duration-300">`:'<div class="w-full h-full flex items-center justify-center text-gray-400">\n                            <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>\n                            </svg>\n                          </div>'}\n                    ${e.is_sold_out?'<span class="absolute top-2 right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded">SOLD OUT</span>':""}\n                    ${e.is_cancelled?'<span class="absolute top-2 right-2 bg-gray-800 text-white text-xs font-bold px-2 py-1 rounded">ANULAT</span>':""}\n                    ${e.is_postponed&&!e.is_cancelled?'<span class="absolute top-2 right-2 bg-yellow-500 text-white text-xs font-bold px-2 py-1 rounded">AMÂNAT</span>':""}\n                </div>\n                <div class="p-4">\n                    <h3 class="font-semibold text-gray-900 mb-1 line-clamp-2">${e.title}</h3>\n                    <p class="text-sm text-gray-500 mb-2">${n}</p>\n                    ${e.venue?`<p class="text-sm text-gray-600 mb-2">${e.venue.name}${e.venue.city?`, ${e.venue.city}`:""}</p>`:""}\n                    ${e.price_from?`<p class="text-sm font-semibold text-primary">de la ${e.price_from} ${e.currency||"RON"}</p>`:""}\n                </div>\n            </a>\n        `}init(){window.addEventListener("popstate",()=>this.handleRoute()),document.addEventListener("click",e=>{const t=e.target.closest("a");if(t&&t.href&&t.href.startsWith(window.location.origin)){const n=new URL(t.href);t.hasAttribute("data-external")||(e.preventDefault(),this.navigate(n.pathname))}}),this.handleRoute(),this.updateCartBadge()}setupDefaultRoutes(){this.addRoute("/",this.renderHome.bind(this)),this.addRoute("/events",this.renderEvents.bind(this)),this.addRoute("/event/:slug",this.renderEventDetail.bind(this)),this.addRoute("/cart",this.renderCart.bind(this)),this.addRoute("/checkout",this.renderCheckout.bind(this)),this.addRoute("/order-success/:orderId",this.renderOrderSuccess.bind(this)),this.addRoute("/thank-you/:orderNumber",this.renderThankYou.bind(this)),this.addRoute("/login",this.renderLogin.bind(this)),this.addRoute("/register",this.renderRegister.bind(this)),this.addRoute("/forgot-password",this.renderForgotPassword.bind(this)),this.addRoute("/reset-password",this.renderResetPassword.bind(this)),this.addRoute("/account",this.renderAccount.bind(this)),this.addRoute("/account/orders",this.renderOrders.bind(this)),this.addRoute("/account/orders/:id",this.renderOrderDetail.bind(this)),this.addRoute("/account/tickets",this.renderTickets.bind(this)),this.addRoute("/account/events",this.renderMyEvents.bind(this)),this.addRoute("/account/profile",this.renderProfile.bind(this)),this.addRoute("/account/watchlist",this.renderWatchlist.bind(this)),this.addRoute("/terms",this.renderTerms.bind(this)),this.addRoute("/privacy",this.renderPrivacy.bind(this)),this.addRoute("/past-events",this.renderPastEvents.bind(this)),this.addRoute("/page/:slug",this.renderPage.bind(this)),this.addRoute("/blog",this.renderBlog.bind(this)),this.addRoute("/blog/:slug",this.renderBlogArticle.bind(this)),this.addRoute("/shop",this.renderShop.bind(this)),this.addRoute("/shop/category/:slug",this.renderShopCategory.bind(this)),this.addRoute("/shop/product/:slug",this.renderShopProduct.bind(this)),this.addRoute("/shop/cart",this.renderShopCart.bind(this)),this.addRoute("/shop/checkout",this.renderShopCheckout.bind(this)),this.addRoute("/shop/thank-you/:orderNumber",this.renderShopThankYou.bind(this)),this.addRoute("/account/shop-orders",this.renderAccountShopOrders.bind(this)),this.addRoute("/account/shop-orders/:id",this.renderAccountShopOrderDetail.bind(this)),this.addRoute("/account/wishlist",this.renderAccountWishlist.bind(this)),this.addRoute("/account/stock-alerts",this.renderAccountStockAlerts.bind(this)),this.addRoute("/account/points",this.renderAccountPoints.bind(this)),this.addRoute("/account/points-history",this.renderAccountPointsHistory.bind(this)),this.addRoute("/account/referral",this.renderAccountReferral.bind(this))}addRoute(e,t){const n=[],i=e.replace(/:([^/]+)/g,(e,t)=>(n.push(t),"([^/]+)"));this.routes.push({pattern:new RegExp(`^${i}$`),handler:t,paramNames:n})}navigate(e){window.history.pushState({},"",e),this.handleRoute()}getEventBus(){return this.eventBus}handleRoute(){const e=window.location.pathname||"/";this.currentPath=e,this.resetMetaTags(),k.trackPageView();for(const t of this.routes){const n=e.match(t.pattern);if(n){const e={};return t.paramNames.forEach((t,i)=>{e[t]=n[i+1]}),void t.handler(e)}}this.render404()}getContentElement(){return document.getElementById("tixello-content")}resetMetaTags(){var e,t,n,i;const r=(null==(e=this.config.site)?void 0:e.title)||"Tixello",a=null==(t=this.config.site)?void 0:t.tagline,s=(null==(n=this.config.site)?void 0:n.description)||`Events and tickets by ${r}`;document.title=a?`${r} - ${a}`:r;const o=document.querySelector('meta[name="description"]');o&&o.setAttribute("content",s);const l=document.querySelector('meta[property="og:title"]');l&&l.setAttribute("content",r);const d=document.querySelector('meta[property="og:description"]');d&&d.setAttribute("content",s);const c=document.querySelector('meta[property="og:type"]');c&&c.setAttribute("content","website");const p=document.querySelector('meta[property="og:image"]');p&&(null==(i=this.config.theme)?void 0:i.logo)&&p.setAttribute("content",this.config.theme.logo);const m=document.querySelector('meta[name="twitter:title"]');m&&m.setAttribute("content",r);const u=document.querySelector('meta[name="twitter:description"]');u&&u.setAttribute("content",s);const g=document.querySelector('meta[name="twitter:card"]');g&&g.setAttribute("content","summary");const h=document.querySelector('link[rel="canonical"]');h&&h.setAttribute("href",window.location.origin)}async renderHome(){var e,t,n;const i=this.getContentElement();if(i){try{const r=await this.fetchApi("/pages/home");if(r.success&&"builder"===(null==(e=r.data)?void 0:e.page_type)&&(null==(n=null==(t=r.data)?void 0:t.layout)?void 0:n.blocks))return i.innerHTML='<div id="page-content"></div>',m.updateLayout(r.data.layout,"page-content"),void(u.isActive()&&u.onLayoutUpdate(e=>{m.updateLayout(e,"page-content")}))}catch{}i.innerHTML='\n            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">\n                \x3c!-- Hero Section --\x3e\n                <div class="text-center mb-16">\n                    <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">\n                        Descoperă evenimente unice\n                    </h1>\n                    <p class="text-xl text-gray-600 mb-8 max-w-2xl mx-auto">\n                        Găsește și cumpără bilete pentru cele mai bune concerte, spectacole și experiențe\n                    </p>\n                    <a href="/events" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-primary hover:bg-primary-dark transition">\n                        Vezi toate evenimentele\n                        <svg class="ml-2 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>\n                        </svg>\n                    </a>\n                </div>\n\n                \x3c!-- Featured Events --\x3e\n                <div class="mb-16">\n                    <h2 class="text-2xl font-bold text-gray-900 mb-6">Evenimente recomandate</h2>\n                    <div id="featured-events" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">\n                        <div class="animate-pulse bg-gray-200 rounded-lg h-64"></div>\n                        <div class="animate-pulse bg-gray-200 rounded-lg h-64"></div>\n                        <div class="animate-pulse bg-gray-200 rounded-lg h-64"></div>\n                    </div>\n                </div>\n\n                \x3c!-- Categories --\x3e\n                <div>\n                    <h2 class="text-2xl font-bold text-gray-900 mb-6">Explorează pe categorii</h2>\n                    <div id="categories" class="grid grid-cols-2 md:grid-cols-4 gap-4">\n                        <div class="animate-pulse bg-gray-200 rounded-lg h-24"></div>\n                        <div class="animate-pulse bg-gray-200 rounded-lg h-24"></div>\n                        <div class="animate-pulse bg-gray-200 rounded-lg h-24"></div>\n                        <div class="animate-pulse bg-gray-200 rounded-lg h-24"></div>\n                    </div>\n                </div>\n            </div>\n        ';try{const[e,t]=await Promise.all([this.fetchApi("/events/featured"),this.fetchApi("/categories")]),n=document.getElementById("featured-events");if(n&&e.data){const t=e.data.events||e.data||[];0===t.length?n.innerHTML='<p class="col-span-3 text-center text-gray-500">Nu există evenimente recomandate momentan.</p>':n.innerHTML=t.map(e=>this.renderEventCard(e)).join("")}const i=document.getElementById("categories");if(i&&t.data){const e=t.data.categories||t.data||[];0===e.length?i.innerHTML='<p class="col-span-4 text-center text-gray-500">Nu există categorii disponibile.</p>':i.innerHTML=e.map(e=>`\n                        <a href="/events?category=${e.slug}" class="block p-4 bg-white rounded-lg shadow hover:shadow-md transition text-center">\n                            <div class="text-primary mb-2">\n                                <svg class="w-8 h-8 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>\n                                </svg>\n                            </div>\n                            <span class="font-medium text-gray-900">${e.name}</span>\n                        </a>\n                    `).join("")}}catch(r){}}}async renderEvents(){var e;const t=this.getContentElement();if(t){t.innerHTML=`\n            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <h1 class="text-3xl font-bold text-gray-900 mb-6">Evenimente</h1>\n\n                \x3c!-- Calendar Timeline (Sticky) --\x3e\n                <div id="events-calendar" class="space-y-4 mb-8 sticky top-4 z-20 bg-gray-50 pt-4 px-2 pb-2 -mt-4 border-b border-gray-200">\n                    \x3c!-- Year/Month Navigator --\x3e\n                    <div id="month-navigator" class="flex items-center gap-x-8 flex-wrap">\n                        <div class="animate-pulse bg-gray-200 h-8 w-full rounded"></div>\n                    </div>\n\n                    \x3c!-- Days Strip (hidden scrollbar, drag to scroll) --\x3e\n                    <div class="relative">\n                        <div id="days-scroller" class="days-scroller flex items-stretch gap-6 overflow-x-scroll pb-2 whitespace-nowrap cursor-grab active:cursor-grabbing" style="scrollbar-width: none; -ms-overflow-style: none;">\n                            <div class="animate-pulse flex gap-2">\n                                ${Array(14).fill(0).map(()=>'<div class="w-14 h-16 bg-white/70 rounded-xl shrink-0"></div>').join("")}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                \x3c!-- Events List --\x3e\n                <div id="events-container" class="min-h-[80px]">\n                    <div class="animate-pulse space-y-3">\n                        <div class="bg-gray-400 h-20 rounded-xl"></div>\n                        <div class="bg-gray-300 h-20 rounded-xl"></div>\n                        <div class="bg-gray-200 h-20 rounded-xl"></div>\n                    </div>\n                </div>\n            </div>\n        `;try{const t=await this.fetchApi("/events"),n=(null==(e=t.data)?void 0:e.events)||t.data||[];this.initEventsCalendar(n)}catch(n){const e=document.getElementById("events-container");e&&(e.innerHTML='<p class="text-center text-red-500 py-4">Eroare la încărcarea evenimentelor.</p>')}}}initEventsCalendar(e){const t=new Date;t.setHours(0,0,0,0);let n="all",i=null,r=null,a=null;const s=["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],o=["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],l=["Dum","Lun","Mar","Mie","Joi","Vin","Sâm"],d=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,c=d(t),p={},m=e.map(e=>{var n,i;const r=(e=>{const n=e.is_postponed&&e.postponed_date,i=n?e.postponed_date:e.start_date,r=n?e.postponed_start_time:e.start_time;if(!i)return t;const a=String(i).split("T")[0].split("-").map(Number);if(3!==a.length)return t;const[s,o,l]=a;let d=0,c=0;if(r){const e=String(r).split(":");e.length>=2&&(d=parseInt(e[0])||0,c=parseInt(e[1])||0)}return new Date(s,o-1,l,d,c)})(e),a=d(r),s=r.toLocaleDateString("ro-RO",{day:"numeric",month:"short",year:"numeric"}),o=r.toLocaleTimeString("ro-RO",{hour:"2-digit",minute:"2-digit"}),l={id:e.id,title:e.title||e.name||"Untitled",slug:e.slug,venue:(null==(n=e.venue)?void 0:n.name)||"",city:(null==(i=e.venue)?void 0:i.city)||"",posterUrl:e.poster_url||e.hero_image_url,date:r,dateStr:a,dateLabel:s,timeLabel:o,isPostponed:!!e.is_postponed,isCancelled:!!e.is_cancelled,isSoldOut:!!e.is_sold_out,doorSalesOnly:!!e.door_sales_only,priceFrom:e.price_from||null};return p[a]||(p[a]=[]),p[a].push(l),l}),u=[],g=new Date(t);g.setMonth(g.getMonth()+3);for(let C=new Date(t);C<=g;C.setDate(C.getDate()+1)){const e=new Date(C),t=d(e),n=p[t]||[];u.push({date:e,dateStr:t,year:e.getFullYear(),monthIndex:e.getMonth(),weekdayShort:l[e.getDay()],day:e.getDate(),isToday:t===c,hasEvents:n.length>0,hasPostponed:n.some(e=>e.isPostponed),hasCancelled:n.some(e=>e.isCancelled)})}const h={};u.forEach(e=>{h[e.year]||(h[e.year]={}),h[e.year][e.monthIndex]||(h[e.year][e.monthIndex]={index:e.monthIndex,label:s[e.monthIndex],eventCount:0}),p[e.dateStr]&&(h[e.year][e.monthIndex].eventCount+=p[e.dateStr].length)});const v=Object.keys(h).sort().map(e=>{const t=Number(e);return{year:t,months:Object.values(h[t]).sort((e,t)=>e.index-t.index)}}),x=[],b={};u.forEach(e=>{const t=`${e.year}-${e.monthIndex}`;b[t]||(b[t]={year:e.year,monthIndex:e.monthIndex,label:o[e.monthIndex],days:[]},x.push(b[t])),b[t].days.push(e)});const f=()=>{const e=document.getElementById("month-navigator");e&&(e.innerHTML=v.map(e=>`\n                <div class="flex items-center">\n                    <div class="w-10 text-xs font-bold text-gray-800">${e.year}</div>\n                    <div class="flex flex-wrap gap-2">\n                        ${e.months.map(t=>{const i="month"===n&&r===e.year&&a===t.index;return`\n                                <button type="button" data-year="${e.year}" data-month="${t.index}"\n                                    class="month-btn px-2 py-1 rounded-md text-[11px] uppercase font-semibold transition\n                                    ${i?"bg-gray-900 text-white border border-gray-900":"border bg-white/70 border-gray-200 text-gray-800 hover:border-gray-400 hover:bg-gray-50"}">\n                                    <span>${t.label}</span>\n                                    ${t.eventCount?`<span class="ml-1 text-[11px] font-bold ${i?"text-gray-400":"text-gray-800"}">${t.eventCount}</span>`:""}\n                                </button>\n                            `}).join("")}\n                    </div>\n                </div>\n            `).join(""),e.querySelectorAll(".month-btn").forEach(e=>{e.addEventListener("click",()=>{const t=parseInt(e.dataset.year||"0"),n=parseInt(e.dataset.month||"0");$(t,n)})}))},y=()=>{const e=document.getElementById("days-scroller");e&&(e.innerHTML=x.map(e=>`\n                <div class="flex flex-col items-start gap-1 shrink-0">\n                    <div class="text-xs font-semibold text-gray-800 uppercase">${e.label}</div>\n                    <div class="flex items-stretch gap-2">\n                        ${e.days.map(e=>{const t="day"===n&&i===e.dateStr;return`\n                                <button type="button" data-date="${e.dateStr}"\n                                    class="day-btn flex flex-col items-center justify-between w-14 h-16 ${e.isToday?"py-1 px-3":"p-3"} rounded-xl border text-xs leading-tight shrink-0 transition ${(e=>"day"===n&&i===e.dateStr?"border-gray-900 bg-gray-900 text-white":e.hasCancelled?"border-red-300 bg-red-50 text-red-900":e.hasPostponed?"border-amber-300 bg-amber-50 text-amber-900":e.hasEvents?"border-emerald-300 bg-emerald-50 text-gray-900":"border-gray-200 text-gray-700 hover:border-gray-400")(e)}">\n                                    <span class="text-xl font-bold">${e.day}</span>\n                                    <span class="text-[11px] capitalize">${e.weekdayShort}</span>\n                                    ${e.isToday?`<span class="mt-0.5 text-[9px] uppercase tracking-wide ${t?"text-white":"text-blue-600"}">Azi</span>`:""}\n                                    <span class="mt-0.5 h-1.5 w-1.5 rounded-full ${(e=>e.hasCancelled?"bg-red-500":e.hasPostponed?"bg-amber-500":e.hasEvents?"bg-emerald-500":"bg-transparent")(e)}"></span>\n                                </button>\n                            `}).join("")}\n                    </div>\n                </div>\n            `).join(""),e.querySelectorAll(".day-btn").forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.date||"";w(t)})}))},k=()=>{const e=document.getElementById("events-container");if(!e)return;let t=[...m];"day"===n&&i?t=p[i]||[]:"month"===n&&null!==r&&null!==a&&(t=m.filter(e=>e.date.getFullYear()===r&&e.date.getMonth()===a)),t.sort((e,t)=>e.date.getTime()-t.date.getTime()),0!==t.length?e.innerHTML=`\n                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">\n                    ${t.map(e=>`\n                        <a href="/event/${e.slug}" class="group block rounded-xl border border-gray-200 bg-white overflow-hidden hover:border-gray-400 hover:shadow-md transition">\n                            ${e.posterUrl?`\n                                <div class="aspect-[3/4] w-full overflow-hidden bg-gray-100">\n                                    <img src="${e.posterUrl}" alt="${e.title}" class="h-full w-full object-cover group-hover:scale-105 transition-transform duration-300" loading="lazy">\n                                </div>\n                            `:'\n                                <div class="aspect-[3/4] w-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center">\n                                    <svg class="w-12 h-12 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>\n                                </div>\n                            '}\n                            <div class="p-3">\n                                <p class="font-semibold text-gray-900 text-sm line-clamp-2 leading-tight">${e.title}</p>\n                                <p class="mt-1 text-xs text-gray-500 truncate">${e.venue}${e.city?` · ${e.city}`:""}</p>\n                                <div class="mt-2 flex items-center justify-between">\n                                    <div class="text-xs text-gray-600">\n                                        <span class="font-medium">${e.dateLabel}</span>\n                                        <span class="text-gray-400 ml-1">${e.timeLabel}</span>\n                                    </div>\n                                    ${e.priceFrom?`<span class="text-xs font-semibold text-gray-900">${e.priceFrom} RON</span>`:""}\n                                </div>\n                                <div class="mt-2 flex flex-wrap gap-1">\n                                    ${e.isCancelled?'<span class="inline-flex items-center rounded-full bg-red-100 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wide text-red-700">Anulat</span>':""}\n                                    ${!e.isCancelled&&e.isPostponed?'<span class="inline-flex items-center rounded-full bg-amber-100 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wide text-amber-700">Amânat</span>':""}\n                                    ${e.isSoldOut?'<span class="inline-flex items-center rounded-full bg-gray-200 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wide text-gray-800">Sold-out</span>':""}\n                                    ${e.doorSalesOnly?'<span class="inline-flex items-center rounded-full bg-blue-50 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wide text-blue-700">Doar la intrare</span>':""}\n                                </div>\n                            </div>\n                        </a>\n                    `).join("")}\n                </div>\n            `:e.innerHTML='<p class="text-sm text-gray-500 py-4">Nu există evenimente care să corespundă filtrelor selectate.</p>'},w=e=>{const t=u.find(t=>t.dateStr===e);t&&(n="day",i=e,r=t.year,a=t.monthIndex,f(),y(),k())},$=(e,t)=>{n="month",r=e,a=t,i=null,f(),y(),k();const s=u.find(n=>n.year===e&&n.monthIndex===t);if(s){const e=document.getElementById("days-scroller"),t=null==e?void 0:e.querySelector(`[data-date="${s.dateStr}"]`);null==t||t.scrollIntoView({behavior:"smooth",inline:"start",block:"nearest"})}};f(),y(),k(),setTimeout(()=>{const e=document.getElementById("days-scroller"),t=null==e?void 0:e.querySelector(`[data-date="${c}"]`);t&&e&&(e.scrollLeft=t.offsetLeft-24)},100);const _=document.getElementById("days-scroller");if(_){const e="days-scroller-style";if(!document.getElementById(e)){const t=document.createElement("style");t.id=e,t.textContent=".days-scroller::-webkit-scrollbar { display: none; }",document.head.appendChild(t)}let t=!1,n=0,i=0;_.addEventListener("mousedown",e=>{t=!0,_.classList.add("active"),n=e.pageX-_.offsetLeft,i=_.scrollLeft}),_.addEventListener("mouseleave",()=>{t=!1,_.classList.remove("active")}),_.addEventListener("mouseup",()=>{t=!1,_.classList.remove("active")}),_.addEventListener("mousemove",e=>{if(!t)return;e.preventDefault();const r=2*(e.pageX-_.offsetLeft-n);_.scrollLeft=i-r}),_.addEventListener("touchstart",e=>{n=e.touches[0].pageX-_.offsetLeft,i=_.scrollLeft},{passive:!0}),_.addEventListener("touchmove",e=>{const t=2*(e.touches[0].pageX-_.offsetLeft-n);_.scrollLeft=i-t},{passive:!0})}}async renderEventDetail(e){const t=this.getContentElement();if(t){t.innerHTML='\n            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <a href="/events" class="inline-flex items-center text-gray-600 hover:text-gray-900 mb-6">\n                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>\n                    </svg>\n                    Înapoi la evenimente\n                </a>\n                <div id="event-detail" class="grid grid-cols-1 lg:grid-cols-3 gap-8">\n                    <div class="lg:col-span-2">\n                        <div class="animate-pulse bg-gray-200 rounded-lg h-96 mb-6"></div>\n                        <div class="animate-pulse bg-gray-200 h-8 w-3/4 mb-4 rounded"></div>\n                        <div class="animate-pulse bg-gray-200 h-4 w-full mb-2 rounded"></div>\n                        <div class="animate-pulse bg-gray-200 h-4 w-full mb-2 rounded"></div>\n                        <div class="animate-pulse bg-gray-200 h-4 w-2/3 rounded"></div>\n                    </div>\n                    <div class="lg:col-span-1">\n                        <div class="bg-white rounded-lg shadow-lg p-6 sticky top-24">\n                            <div class="animate-pulse bg-gray-200 h-6 w-1/2 mb-4 rounded"></div>\n                            <div class="animate-pulse bg-gray-200 h-10 w-full mb-4 rounded"></div>\n                            <div class="animate-pulse bg-gray-200 h-12 w-full rounded"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ';try{const t=(await this.fetchApi(`/events/${e.slug}`)).data;if(!t)return void this.render404();window.currentEventData=t;const n=!0===t.is_postponed,i=n&&t.postponed_date?t.postponed_date:t.start_date,r=n&&t.postponed_start_time?t.postponed_start_time:t.start_time,a=(n&&t.postponed_door_time?t.postponed_door_time:t.door_time,n&&t.postponed_end_time?t.postponed_end_time:t.end_time,i?new Date(i).toLocaleDateString("ro-RO",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):""),s=r||(i?new Date(i).toLocaleTimeString("ro-RO",{hour:"2-digit",minute:"2-digit"}):""),o=t.poster_url||t.hero_image_url||t.image,l=i?new Date(i):null,d=!!l&&l<new Date,c=document.getElementById("event-detail");if(c){if(c.innerHTML=`\n                    <div class="${d?"lg:col-span-3":"lg:col-span-2"}">\n                        ${o?`<img src="${o}" alt="${t.title}" class="w-full h-96 object-cover rounded-lg mb-6">`:'<div class="w-full h-96 bg-gray-200 rounded-lg mb-6 flex items-center justify-center">\n                                <svg class="w-24 h-24 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>\n                                </svg>\n                              </div>'}\n\n                        ${d?"":`<div id="countdown-container" data-event-date="${i||""}" data-event-time="${r||""}" data-is-cancelled="${t.is_cancelled||!1}" data-is-postponed="${t.is_postponed||!1}"></div>`}\n\n                        ${t.is_cancelled?`\n                        <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4">\n                            <strong>Eveniment anulat:</strong> ${t.cancel_reason||"Acest eveniment a fost anulat."}\n                        </div>\n                        `:""}\n\n                        ${n?`\n                        <div class="bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded mb-4">\n                            <strong>Eveniment amânat${t.postponed_date?` pentru ${a}${r?` ora ${r}`:""}`:""}:</strong> ${t.postponed_reason||"Acest eveniment a fost amânat."}\n                        </div>\n                        `:""}\n\n                        ${d&&!t.is_cancelled?`\n                        <div class="bg-gray-100 border border-gray-300 text-gray-700 px-4 py-3 rounded mb-4">\n                            <strong>Eveniment încheiat</strong> - Acest eveniment a avut loc în ${a}.\n                        </div>\n                        `:""}\n\n                        <h1 class="text-3xl font-bold text-gray-900 mb-4">${t.title}</h1>\n\n                        <div class="flex flex-wrap gap-4 mb-6 text-gray-600">\n                            <div class="flex items-center">\n                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>\n                                </svg>\n                                ${a}\n                            </div>\n                            ${s?`\n                            <div class="flex items-center">\n                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>\n                                </svg>\n                                ${s}\n                            </div>\n                            `:""}\n                            ${t.venue?`\n                            <div class="flex items-center flex-wrap gap-2">\n                                <div class="flex items-center">\n                                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>\n                                    </svg>\n                                    <a href="https://core.tixello.com/venue/${t.venue.slug}?locale=en" target="_blank" class="hover:underline text-blue-600">${t.venue.name}</a>\n                                    ${t.venue.city?`, ${t.venue.city}`:""}\n                                </div>\n                                ${t.venue.latitude&&t.venue.longitude?`\n                                <a href="https://www.google.com/maps?q=${t.venue.latitude},${t.venue.longitude}" target="_blank" class="text-sm text-blue-600 hover:underline">\n                                    Vezi pe Google Maps\n                                </a>\n                                `:t.venue.address?`\n                                <a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(t.venue.address)}" target="_blank" class="text-sm text-blue-600 hover:underline">\n                                    Vezi pe Google Maps\n                                </a>\n                                `:""}\n                            </div>\n                            `:""}\n                        </div>\n\n                        ${t.description?`\n                        <div class="mb-8">\n                            <h2 class="text-xl font-semibold text-gray-900 mb-4">Descriere</h2>\n                            <div class="prose prose-gray max-w-none text-gray-700 [&>p]:mb-4 [&>ul]:mb-4 [&>ol]:mb-4 [&>p:last-child]:mb-0">${t.description}</div>\n                        </div>\n                        `:""}\n\n                        ${t.ticket_terms?`\n                        <div class="prose max-w-none mb-8">\n                            <h2 class="text-xl font-semibold text-gray-900 mb-4">Termeni și condiții bilete</h2>\n                            <div class="text-gray-700 text-sm">${t.ticket_terms}</div>\n                        </div>\n                        `:""}\n\n                        ${t.event_website_url||t.facebook_url?`\n                        <div class="mb-8">\n                            <h2 class="text-xl font-semibold text-gray-900 mb-4">Link-uri</h2>\n                            <div class="flex flex-wrap gap-4">\n                                ${t.event_website_url?`<a href="${t.event_website_url}" target="_blank" class="text-blue-600 hover:underline">Website eveniment</a>`:""}\n                                ${t.facebook_url?`<a href="${t.facebook_url}" target="_blank" class="text-blue-600 hover:underline">Facebook</a>`:""}\n                                ${t.website_url?`<a href="${t.website_url}" target="_blank" class="text-blue-600 hover:underline">Website</a>`:""}\n                            </div>\n                        </div>\n                        `:""}\n\n                        ${t.artists&&t.artists.length>0?`\n                        <div class="mb-8 collapsible-section" data-section="artists">\n                            <h2 class="text-xl font-semibold text-gray-900 mb-6 collapsible-header cursor-pointer lg:cursor-default flex items-center justify-between" data-target="artists">\n                                <span>Artiști</span>\n                                <svg class="w-5 h-5 collapsible-icon lg:hidden transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>\n                                </svg>\n                            </h2>\n                            <div class="space-y-8 collapsible-content" data-content="artists">\n                                ${t.artists.map(e=>{const t=e=>e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString():"",n=e.youtube_subscribers||e.youtube_total_views||e.spotify_followers||e.facebook_followers||e.instagram_followers||e.tiktok_followers,i=e.facebook_url||e.instagram_url||e.youtube_url||e.spotify_url||e.tiktok_url||e.website,r=e.youtube_videos&&e.youtube_videos.length>0?e.youtube_videos[0]:null;return`\n                                    <div class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl overflow-hidden shadow-sm">\n                                        <div class="p-6">\n                                            \x3c!-- Header: Image, Name, Types/Genres --\x3e\n                                            <div class="flex flex-col md:flex-row gap-6">\n                                                <a href="https://core.tixello.com/artist/${e.slug}?locale=en" target="_blank" class="flex-shrink-0 group">\n                                                    ${e.image||e.portrait?`<img src="${e.portrait||e.image}" alt="${e.name}" class="w-32 h-32 md:w-40 md:h-40 rounded-xl object-cover shadow-md group-hover:shadow-lg transition">`:`<div class="w-32 h-32 md:w-40 md:h-40 rounded-xl bg-gradient-to-br from-primary to-purple-600 flex items-center justify-center">\n                                                            <span class="text-4xl text-white font-bold">${e.name.charAt(0)}</span>\n                                                           </div>`}\n                                                </a>\n                                                <div class="flex-1">\n                                                    <a href="https://core.tixello.com/artist/${e.slug}?locale=en" target="_blank" class="hover:text-primary transition">\n                                                        <h3 class="text-2xl font-bold text-gray-900 mb-2">${e.name}</h3>\n                                                    </a>\n                                                    ${e.city||e.country?`\n                                                        <p class="text-gray-500 mb-3">📍 ${[e.city,e.country].filter(Boolean).join(", ")}</p>\n                                                    `:""}\n\n                                                    ${e.artist_types&&e.artist_types.length>0?`\n                                                        <div class="flex flex-wrap gap-2 mb-2">\n                                                            ${e.artist_types.map(e=>`\n                                                                <span class="px-3 py-1 bg-primary/10 text-primary text-sm font-medium rounded-full">${e.name}</span>\n                                                            `).join("")}\n                                                        </div>\n                                                    `:""}\n\n                                                    ${e.artist_genres&&e.artist_genres.length>0?`\n                                                        <div class="flex flex-wrap gap-2">\n                                                            ${e.artist_genres.map(e=>`\n                                                                <span class="px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded-full">${e.name}</span>\n                                                            `).join("")}\n                                                        </div>\n                                                    `:""}\n\n                                                    ${i?`\n                                                        <div class="flex flex-wrap gap-3 mt-4">\n                                                            ${e.spotify_url?`<a href="${e.spotify_url}" target="_blank" class="w-10 h-10 flex items-center justify-center bg-[#1DB954] text-white rounded-full hover:scale-110 transition" title="Spotify"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"/></svg></a>`:""}\n                                                            ${e.youtube_url?`<a href="${e.youtube_url}" target="_blank" class="w-10 h-10 flex items-center justify-center bg-[#FF0000] text-white rounded-full hover:scale-110 transition" title="YouTube"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg></a>`:""}\n                                                            ${e.instagram_url?`<a href="${e.instagram_url}" target="_blank" class="w-10 h-10 flex items-center justify-center bg-gradient-to-br from-[#833AB4] via-[#FD1D1D] to-[#FCAF45] text-white rounded-full hover:scale-110 transition" title="Instagram"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg></a>`:""}\n                                                            ${e.facebook_url?`<a href="${e.facebook_url}" target="_blank" class="w-10 h-10 flex items-center justify-center bg-[#1877F2] text-white rounded-full hover:scale-110 transition" title="Facebook"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg></a>`:""}\n                                                            ${e.tiktok_url?`<a href="${e.tiktok_url}" target="_blank" class="w-10 h-10 flex items-center justify-center bg-black text-white rounded-full hover:scale-110 transition" title="TikTok"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"/></svg></a>`:""}\n                                                            ${e.website?`<a href="${e.website}" target="_blank" class="w-10 h-10 flex items-center justify-center bg-gray-700 text-white rounded-full hover:scale-110 transition" title="Website"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"/></svg></a>`:""}\n                                                        </div>\n                                                    `:""}\n                                                </div>\n                                            </div>\n\n                                            ${n?`\n                                            \x3c!-- Social Stats --\x3e\n                                            <div class="mt-6 pt-6 border-t border-gray-200">\n                                                <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-4">\n                                                    ${e.spotify_followers?`\n                                                        <div class="text-center p-3 bg-white rounded-xl shadow-sm">\n                                                            <div class="text-[#1DB954] mb-1"><svg class="w-6 h-6 mx-auto" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"/></svg></div>\n                                                            <div class="text-xl font-bold text-gray-900">${t(e.spotify_followers)}</div>\n                                                            <div class="text-xs text-gray-500">Followers</div>\n                                                        </div>\n                                                    `:""}\n                                                    ${e.spotify_monthly_listeners?`\n                                                        <div class="text-center p-3 bg-white rounded-xl shadow-sm">\n                                                            <div class="text-[#1DB954] mb-1"><svg class="w-6 h-6 mx-auto" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"/></svg></div>\n                                                            <div class="text-xl font-bold text-gray-900">${t(e.spotify_monthly_listeners)}</div>\n                                                            <div class="text-xs text-gray-500">Monthly</div>\n                                                        </div>\n                                                    `:""}\n                                                    ${e.youtube_subscribers?`\n                                                        <div class="text-center p-3 bg-white rounded-xl shadow-sm">\n                                                            <div class="text-[#FF0000] mb-1"><svg class="w-6 h-6 mx-auto" fill="currentColor" viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg></div>\n                                                            <div class="text-xl font-bold text-gray-900">${t(e.youtube_subscribers)}</div>\n                                                            <div class="text-xs text-gray-500">Subscribers</div>\n                                                        </div>\n                                                    `:""}\n                                                    ${e.youtube_total_views?`\n                                                        <div class="text-center p-3 bg-white rounded-xl shadow-sm">\n                                                            <div class="text-[#FF0000] mb-1"><svg class="w-6 h-6 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/></svg></div>\n                                                            <div class="text-xl font-bold text-gray-900">${t(e.youtube_total_views)}</div>\n                                                            <div class="text-xs text-gray-500">Views</div>\n                                                        </div>\n                                                    `:""}\n                                                    ${e.instagram_followers?`\n                                                        <div class="text-center p-3 bg-white rounded-xl shadow-sm">\n                                                            <div class="text-[#E4405F] mb-1"><svg class="w-6 h-6 mx-auto" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg></div>\n                                                            <div class="text-xl font-bold text-gray-900">${t(e.instagram_followers)}</div>\n                                                            <div class="text-xs text-gray-500">Followers</div>\n                                                        </div>\n                                                    `:""}\n                                                    ${e.facebook_followers?`\n                                                        <div class="text-center p-3 bg-white rounded-xl shadow-sm">\n                                                            <div class="text-[#1877F2] mb-1"><svg class="w-6 h-6 mx-auto" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg></div>\n                                                            <div class="text-xl font-bold text-gray-900">${t(e.facebook_followers)}</div>\n                                                            <div class="text-xs text-gray-500">Followers</div>\n                                                        </div>\n                                                    `:""}\n                                                    ${e.tiktok_followers?`\n                                                        <div class="text-center p-3 bg-white rounded-xl shadow-sm">\n                                                            <div class="text-black mb-1"><svg class="w-6 h-6 mx-auto" fill="currentColor" viewBox="0 0 24 24"><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"/></svg></div>\n                                                            <div class="text-xl font-bold text-gray-900">${t(e.tiktok_followers)}</div>\n                                                            <div class="text-xs text-gray-500">Followers</div>\n                                                        </div>\n                                                    `:""}\n                                                </div>\n                                            </div>\n                                            `:""}\n\n                                            ${e.bio?`\n                                            \x3c!-- Bio --\x3e\n                                            <div class="mt-6 pt-6 border-t border-gray-200">\n                                                <div class="prose prose-sm max-w-none text-gray-600">${e.bio}</div>\n                                            </div>\n                                            `:""}\n\n                                            ${r&&r.video_id?`\n                                            \x3c!-- YouTube Video Embed --\x3e\n                                            <div class="mt-6 pt-6 border-t border-gray-200">\n                                                <h4 class="text-lg font-semibold text-gray-900 mb-4">Ultimul videoclip</h4>\n                                                <div class="relative pb-[56.25%] h-0 rounded-xl overflow-hidden shadow-lg">\n                                                    <iframe\n                                                        class="absolute top-0 left-0 w-full h-full"\n                                                        src="https://www.youtube.com/embed/${r.video_id}"\n                                                        title="${r.title||"YouTube video"}"\n                                                        frameborder="0"\n                                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"\n                                                        allowfullscreen>\n                                                    </iframe>\n                                                </div>\n                                                ${r.title?`<p class="mt-2 text-sm text-gray-600">${r.title}</p>`:""}\n                                            </div>\n                                            `:""}\n                                        </div>\n                                    </div>\n                                `}).join("")}\n                            </div>\n                        </div>\n                        `:""}\n\n                        ${t.venue?`\n                        <div class="mb-8 collapsible-section" data-section="location">\n                            <h2 class="text-xl font-semibold text-gray-900 mb-4 collapsible-header cursor-pointer lg:cursor-default flex items-center justify-between" data-target="location">\n                                <span>Locație</span>\n                                <svg class="w-5 h-5 collapsible-icon lg:hidden transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>\n                                </svg>\n                            </h2>\n                            <div class="bg-gray-50 rounded-lg overflow-hidden collapsible-content" data-content="location">\n                                ${t.venue.image_url?`\n                                <img src="${t.venue.image_url}" alt="${t.venue.name}" class="w-full h-48 object-cover">\n                                `:""}\n                                <div class="p-4">\n                                    <h3 class="font-semibold text-lg text-gray-900 mb-2">${t.venue.name}</h3>\n\n                                    ${t.venue.address||t.venue.city||t.venue.state||t.venue.country?`\n                                    <div class="flex items-start mb-3">\n                                        <svg class="w-5 h-5 text-gray-400 mr-2 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>\n                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>\n                                        </svg>\n                                        <div class="text-gray-600">\n                                            ${t.venue.address?`<div>${t.venue.address}</div>`:""}\n                                            ${t.venue.city||t.venue.state||t.venue.country?`\n                                            <div>${[t.venue.city,t.venue.state,t.venue.country].filter(Boolean).join(", ")}</div>\n                                            `:""}\n                                        </div>\n                                    </div>\n                                    `:""}\n\n                                    ${t.venue.phone||t.venue.phone2?`\n                                    <div class="flex items-center mb-3">\n                                        <svg class="w-5 h-5 text-gray-400 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>\n                                        </svg>\n                                        <div class="text-gray-600">\n                                            ${t.venue.phone?`<a href="tel:${t.venue.phone}" class="hover:text-primary">${t.venue.phone}</a>`:""}\n                                            ${t.venue.phone&&t.venue.phone2?" / ":""}\n                                            ${t.venue.phone2?`<a href="tel:${t.venue.phone2}" class="hover:text-primary">${t.venue.phone2}</a>`:""}\n                                        </div>\n                                    </div>\n                                    `:""}\n\n                                    ${t.venue.email||t.venue.email2?`\n                                    <div class="flex items-center mb-3">\n                                        <svg class="w-5 h-5 text-gray-400 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>\n                                        </svg>\n                                        <div class="text-gray-600">\n                                            ${t.venue.email?`<a href="mailto:${t.venue.email}" class="hover:text-primary">${t.venue.email}</a>`:""}\n                                            ${t.venue.email&&t.venue.email2?" / ":""}\n                                            ${t.venue.email2?`<a href="mailto:${t.venue.email2}" class="hover:text-primary">${t.venue.email2}</a>`:""}\n                                        </div>\n                                    </div>\n                                    `:""}\n\n                                    <div class="flex flex-wrap gap-3 mt-4">\n                                        ${t.venue.website_url?`\n                                        <a href="${t.venue.website_url}" target="_blank" class="inline-flex items-center px-3 py-1.5 bg-gray-200 hover:bg-gray-300 rounded text-sm text-gray-700 transition">\n                                            <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"/>\n                                            </svg>\n                                            Website\n                                        </a>\n                                        `:""}\n                                        ${t.venue.google_maps_url?`\n                                        <a href="${t.venue.google_maps_url}" target="_blank" class="inline-flex items-center px-3 py-1.5 bg-blue-100 hover:bg-blue-200 rounded text-sm text-blue-700 transition">\n                                            <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"/>\n                                            </svg>\n                                            Google Maps\n                                        </a>\n                                        `:t.venue.latitude&&t.venue.longitude?`\n                                        <a href="https://www.google.com/maps?q=${t.venue.latitude},${t.venue.longitude}" target="_blank" class="inline-flex items-center px-3 py-1.5 bg-blue-100 hover:bg-blue-200 rounded text-sm text-blue-700 transition">\n                                            <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"/>\n                                            </svg>\n                                            Google Maps\n                                        </a>\n                                        `:""}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        `:""}\n                    </div>\n\n                    ${d?"":`\n                    \x3c!-- Desktop tickets sidebar - hidden on mobile --\x3e\n                    <div class="lg:col-span-1 hidden lg:block" id="desktop-tickets-sidebar">\n                        <div class="bg-white rounded-lg shadow-lg p-6 sticky top-24">\n                            <h2 class="text-xl font-semibold text-gray-900 mb-4">Bilete</h2>\n\n                            ${t.is_sold_out||t.door_sales_only||t.is_cancelled?`\n                                <div class="mb-4 p-4 rounded ${t.is_cancelled?"bg-red-50 border border-red-200":"bg-yellow-50 border border-yellow-200"}">\n                                    <p class="text-sm ${t.is_cancelled?"text-red-700":"text-yellow-700"}">\n                                        ${t.is_cancelled?"Eveniment anulat":t.is_sold_out?"Bilete epuizate":"Bilete disponibile doar la intrare"}\n                                    </p>\n                                </div>\n                            `:""}\n\n                            ${t.ticket_types&&t.ticket_types.length>0&&!t.is_cancelled&&!t.door_sales_only&&!t.is_sold_out?`\n                                <div class="space-y-4 mb-6">\n                                    ${t.ticket_types.map(e=>{const n=e.currency||t.currency||"RON",i=e.available??0,r=Math.min(10,i),a=t.commission,s=(null==a?void 0:a.is_added_on_top)&&e.commission_amount>0;return`\n                                        <div class="border border-gray-200 rounded-lg p-4 ${"active"!==e.status?"opacity-50":""}">\n                                            <div class="flex justify-between items-start mb-2">\n                                                <div class="flex items-center gap-2">\n                                                    <h3 class="font-semibold text-gray-900">${e.name}</h3>\n                                                    ${s?`\n                                                    <div class="relative group">\n                                                        <svg class="w-4 h-4 text-gray-400 cursor-help" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>\n                                                        </svg>\n                                                        <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10">\n                                                            Prețul include comision Tixello de ${e.commission_amount} ${n}\n                                                        </div>\n                                                    </div>\n                                                    `:""}\n                                                </div>\n                                            </div>\n                                            ${e.description?`<p class="text-sm text-gray-500 mb-2">${e.description}</p>`:""}\n                                            ${e.bulk_discounts&&e.bulk_discounts.length>0?`\n                                            <div class="mt-2 space-y-1">\n                                                ${e.bulk_discounts.map(e=>"buy_x_get_y"===e.rule_type?`<div class="text-xs text-green-600 bg-green-50 px-2 py-1 rounded">\n                                                            🎁 Cumpără ${e.buy_qty}, primești ${e.get_qty} GRATUIT\n                                                        </div>`:"amount_off_per_ticket"===e.rule_type?`<div class="text-xs text-green-600 bg-green-50 px-2 py-1 rounded">\n                                                            💰 ${e.amount_off/100} ${n} reducere/bilet pentru ${e.min_qty}+ bilete\n                                                        </div>`:"percent_off"===e.rule_type?`<div class="text-xs text-green-600 bg-green-50 px-2 py-1 rounded">\n                                                            📊 ${e.percent_off}% reducere pentru ${e.min_qty}+ bilete\n                                                        </div>`:"").join("")}\n                                            </div>\n                                            `:""}\n                                            <div class="flex justify-between items-start">\n                                                <div></div>\n                                                <div class="text-right">\n                                                    ${s?`\n                                                        <div>\n                                                            ${e.sale_price?`\n                                                                <span class="line-through text-gray-400 text-sm">${e.price} ${n}</span>\n                                                                <span class="font-bold text-primary block">${(parseFloat(e.sale_price)+parseFloat(e.commission_amount||0)).toFixed(2)} ${n}</span>\n                                                                <span class="text-xs text-gray-500">(${e.sale_price} + ${e.commission_amount} comision)</span>\n                                                            `:`\n                                                                <span class="font-bold text-primary">${(parseFloat(e.price)+parseFloat(e.commission_amount||0)).toFixed(2)} ${n}</span>\n                                                                <span class="text-xs text-gray-500 block">(${e.price} + ${e.commission_amount} comision)</span>\n                                                            `}\n                                                        </div>\n                                                    `:e.sale_price?`\n                                                        <div>\n                                                            <span class="line-through text-gray-400 text-sm">${e.price} ${n}</span>\n                                                            <span class="font-bold text-red-600 block">${e.sale_price} ${n}</span>\n                                                            ${e.discount_percent?`<span class="text-xs text-red-600">-${e.discount_percent}%</span>`:""}\n                                                        </div>\n                                                    `:`\n                                                        <span class="font-bold text-primary">${e.price} ${n}</span>\n                                                    `}\n                                                </div>\n                                            </div>\n                                            ${"active"===e.status&&i>0?`\n                                            <div class="flex items-center justify-between mt-3">\n                                                <div class="flex items-center gap-2">\n                                                    <button class="ticket-minus w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100" data-ticket-id="${e.id}">\n                                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"/>\n                                                        </svg>\n                                                    </button>\n                                                    <span class="ticket-qty-display w-12 text-center font-semibold" data-ticket-id="${e.id}" data-price="${e.sale_price||e.price}" data-base-price="${e.price}" data-currency="${n}" data-bulk-discounts='${JSON.stringify(e.bulk_discounts||[])}' data-commission-rate="${(null==a?void 0:a.rate)||0}" data-has-commission-on-top="${s}">0</span>\n                                                    <button class="ticket-plus w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100" data-ticket-id="${e.id}" data-max="${r}">\n                                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>\n                                                        </svg>\n                                                    </button>\n                                                </div>\n                                                <span class="text-sm text-gray-500">${i} disponibile</span>\n                                            </div>\n                                            `:`\n                                                <p class="text-sm text-gray-500 mt-2">${"active"!==e.status?"Indisponibil":"Stoc epuizat"}</p>\n                                            `}\n                                        </div>\n                                    `}).join("")}\n                                </div>\n\n                                <div class="border-t pt-4 mb-4">\n                                    <div class="flex justify-between items-center text-lg font-bold">\n                                        <span>Total</span>\n                                        <span id="cart-total-price">0 ${t.currency||"RON"}</span>\n                                    </div>\n                                </div>\n\n                                <button id="add-to-cart-btn" class="w-full py-3 bg-primary text-white font-semibold rounded-lg hover:bg-primary-dark transition disabled:bg-gray-300 disabled:cursor-not-allowed" disabled>\n                                    Adaugă în coș\n                                </button>\n                                <button id="watchlist-btn" class="w-full mt-3 py-3 border-2 border-primary text-primary font-semibold rounded-lg hover:bg-primary hover:text-white transition flex items-center justify-center gap-2" data-event-id="${t.id}">\n                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>\n                                    </svg>\n                                    <span id="watchlist-btn-text">Adaugă la favorite</span>\n                                </button>\n                                <p class="text-center text-xs text-gray-400 mt-4">\n                                    Ticketing system powered by <a href="https://tixello.com" target="_blank" class="text-primary hover:underline">Tixello</a>\n                                </p>\n                            `:'\n                                <p class="text-gray-500 text-center py-4">Nu sunt bilete disponibile pentru achiziție online.</p>\n                            '}\n                        </div>\n                    </div>\n                    `}\n                `,!d&&t.ticket_types&&t.ticket_types.length>0&&!t.is_cancelled&&!t.door_sales_only&&!t.is_sold_out){const e=t.ticket_types.reduce((e,t)=>{const n=parseFloat(t.sale_price||t.price)||0;return n>0&&(0===e||n<e)?n:e},0),n=t.currency||"RON",i=`\n                        <style>\n                            .mobile-tickets-btn {\n                                display: none;\n                                position: fixed;\n                                bottom: 0;\n                                left: 0;\n                                right: 0;\n                                z-index: 40;\n                                background: linear-gradient(135deg, var(--tixello-primary, #6366f1) 0%, var(--tixello-primary-dark, #4f46e5) 100%);\n                                color: white;\n                                padding: 1rem 1.5rem;\n                                justify-content: space-between;\n                                align-items: center;\n                                cursor: pointer;\n                                box-shadow: 0 -4px 20px rgba(0,0,0,0.15);\n                            }\n                            @media (max-width: 1023px) {\n                                .mobile-tickets-btn { display: flex; }\n                                .event-detail-container { padding-bottom: 80px; }\n                            }\n                            .mobile-tickets-overlay {\n                                position: fixed;\n                                inset: 0;\n                                background: rgba(0,0,0,0.5);\n                                z-index: 45;\n                                opacity: 0;\n                                pointer-events: none;\n                                transition: opacity 0.3s ease;\n                            }\n                            .mobile-tickets-overlay.open {\n                                opacity: 1;\n                                pointer-events: auto;\n                            }\n                            .mobile-tickets-panel {\n                                position: fixed;\n                                bottom: 0;\n                                left: 0;\n                                right: 0;\n                                z-index: 50;\n                                background: white;\n                                border-radius: 1.5rem 1.5rem 0 0;\n                                box-shadow: 0 -8px 30px rgba(0,0,0,0.2);\n                                transform: translateY(100%);\n                                transition: transform 0.3s ease-out;\n                                max-height: 85vh;\n                                overflow-y: auto;\n                            }\n                            .mobile-tickets-panel.open {\n                                transform: translateY(0);\n                            }\n                            @media (min-width: 1024px) {\n                                .mobile-tickets-btn, .mobile-tickets-overlay, .mobile-tickets-panel { display: none !important; }\n                            }\n                        </style>\n\n                        \x3c!-- Mobile: Sticky bottom button --\x3e\n                        <div class="mobile-tickets-btn" id="mobile-tickets-btn">\n                            <div>\n                                <div style="font-weight: 700; font-size: 1.1rem;">Bilete</div>\n                                <div style="font-size: 0.875rem; opacity: 0.9;">Începând de la ${e} ${n}</div>\n                            </div>\n                            <svg style="width: 24px; height: 24px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"/>\n                            </svg>\n                        </div>\n\n                        \x3c!-- Mobile: Overlay --\x3e\n                        <div class="mobile-tickets-overlay" id="mobile-tickets-overlay"></div>\n\n                        \x3c!-- Mobile: Tickets panel --\x3e\n                        <div class="mobile-tickets-panel" id="mobile-tickets-panel">\n                            <div style="padding: 1rem 1.5rem; border-bottom: 1px solid #e5e7eb; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; background: white; z-index: 10; border-radius: 1.5rem 1.5rem 0 0;">\n                                <h2 style="font-size: 1.25rem; font-weight: 600; margin: 0;">Selectează bilete</h2>\n                                <button id="mobile-tickets-close" style="padding: 0.5rem; border-radius: 0.5rem; border: none; background: #f3f4f6; cursor: pointer;">\n                                    <svg style="width: 24px; height: 24px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>\n                                    </svg>\n                                </button>\n                            </div>\n                            <div style="padding: 1rem 1.5rem;">\n                                <div id="mobile-ticket-types" class="space-y-4">\n                                    ${t.ticket_types.map(e=>{const n=e.currency||t.currency||"RON",i=e.available??0,r=Math.min(10,i),a=t.commission,s=(null==a?void 0:a.is_added_on_top)&&e.commission_amount>0;return`\n                                        <div class="border border-gray-200 rounded-lg p-4 ${"active"!==e.status?"opacity-50":""}">\n                                            <div class="flex justify-between items-start mb-2">\n                                                <div class="flex items-center gap-2">\n                                                    <h3 class="font-semibold text-gray-900">${e.name}</h3>\n                                                    ${s?`\n                                                    <div class="relative group">\n                                                        <svg class="w-4 h-4 text-gray-400 cursor-help" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>\n                                                        </svg>\n                                                        <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10">\n                                                            Prețul include comision Tixello de ${e.commission_amount} ${n}\n                                                        </div>\n                                                    </div>\n                                                    `:""}\n                                                </div>\n                                            </div>\n                                            ${e.description?`<p class="text-sm text-gray-500 mb-2">${e.description}</p>`:""}\n                                            ${e.bulk_discounts&&e.bulk_discounts.length>0?`\n                                            <div class="mt-2 space-y-1">\n                                                ${e.bulk_discounts.map(e=>"buy_x_get_y"===e.rule_type?`<div class="text-xs text-green-600 bg-green-50 px-2 py-1 rounded">\n                                                            🎁 Cumpără ${e.buy_qty}, primești ${e.get_qty} GRATUIT\n                                                        </div>`:"amount_off_per_ticket"===e.rule_type?`<div class="text-xs text-green-600 bg-green-50 px-2 py-1 rounded">\n                                                            💰 ${e.amount_off/100} ${n} reducere/bilet pentru ${e.min_qty}+ bilete\n                                                        </div>`:"percent_off"===e.rule_type?`<div class="text-xs text-green-600 bg-green-50 px-2 py-1 rounded">\n                                                            📊 ${e.percent_off}% reducere pentru ${e.min_qty}+ bilete\n                                                        </div>`:"").join("")}\n                                            </div>\n                                            `:""}\n                                            <div class="flex justify-between items-start">\n                                                <div></div>\n                                                <div class="text-right">\n                                                    ${s?`\n                                                        <div>\n                                                            ${e.sale_price?`\n                                                                <span class="line-through text-gray-400 text-sm">${e.price} ${n}</span>\n                                                                <span class="font-bold text-primary block">${(parseFloat(e.sale_price)+parseFloat(e.commission_amount||0)).toFixed(2)} ${n}</span>\n                                                                <span class="text-xs text-gray-500">(${e.sale_price} + ${e.commission_amount} comision)</span>\n                                                            `:`\n                                                                <span class="font-bold text-primary">${(parseFloat(e.price)+parseFloat(e.commission_amount||0)).toFixed(2)} ${n}</span>\n                                                                <span class="text-xs text-gray-500 block">(${e.price} + ${e.commission_amount} comision)</span>\n                                                            `}\n                                                        </div>\n                                                    `:e.sale_price?`\n                                                        <div>\n                                                            <span class="line-through text-gray-400 text-sm">${e.price} ${n}</span>\n                                                            <span class="font-bold text-red-600 block">${e.sale_price} ${n}</span>\n                                                            ${e.discount_percent?`<span class="text-xs text-red-600">-${e.discount_percent}%</span>`:""}\n                                                        </div>\n                                                    `:`\n                                                        <span class="font-bold text-primary">${e.price} ${n}</span>\n                                                    `}\n                                                </div>\n                                            </div>\n                                            ${"active"===e.status&&i>0?`\n                                            <div class="flex items-center justify-between mt-3">\n                                                <div class="flex items-center gap-2">\n                                                    <button class="mobile-ticket-minus w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100" data-ticket-id="${e.id}">\n                                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"/>\n                                                        </svg>\n                                                    </button>\n                                                    <span class="mobile-ticket-qty w-12 text-center font-semibold" data-ticket-id="${e.id}" data-price="${e.sale_price||e.price}" data-base-price="${e.price}" data-currency="${n}" data-bulk-discounts='${JSON.stringify(e.bulk_discounts||[])}' data-commission-rate="${(null==a?void 0:a.rate)||0}" data-has-commission-on-top="${s}">0</span>\n                                                    <button class="mobile-ticket-plus w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100" data-ticket-id="${e.id}" data-max="${r}">\n                                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>\n                                                        </svg>\n                                                    </button>\n                                                </div>\n                                                <span class="text-sm text-gray-500">${i} disponibile</span>\n                                            </div>\n                                            `:`\n                                                <p class="text-sm text-gray-500 mt-2">${"active"!==e.status?"Indisponibil":"Stoc epuizat"}</p>\n                                            `}\n                                        </div>\n                                    `}).join("")}\n                                </div>\n                                <div class="border-t pt-4 mt-4">\n                                    <div class="flex justify-between items-center text-lg font-bold mb-4">\n                                        <span>Total</span>\n                                        <span id="mobile-cart-total">0 ${n}</span>\n                                    </div>\n                                    <button id="mobile-add-to-cart-btn" class="w-full py-3 bg-primary text-white font-semibold rounded-lg hover:bg-primary-dark transition disabled:bg-gray-300 disabled:cursor-not-allowed" disabled>\n                                        Adaugă în coș\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    `,r=document.createElement("div");r.id="mobile-tickets-container",r.innerHTML=i,document.body.appendChild(r),this.setupMobileTicketsPanel()}d||this.setupTicketHandlers(),this.setupCollapsibleSections(),this.initCountdown()}}catch(n){this.render404()}}}setupTicketHandlers(){const e=document.querySelectorAll(".ticket-qty-display"),t=document.getElementById("cart-total-price"),n=document.getElementById("add-to-cart-btn"),i={},r={};document.querySelectorAll(".ticket-qty-display").forEach(e=>{const t=e.dataset.ticketId||"",n=e.dataset.bulkDiscounts;if(n)try{r[t]=JSON.parse(n)}catch(i){r[t]=[]}else r[t]=[]});const a=()=>{let a=0,s=0,o=0,l=!1,d="RON",c=!1;e.forEach(e=>{const t=e.dataset.ticketId||"",n=i[t]||0,p=parseFloat(e.dataset.price||"0"),m=parseFloat(e.dataset.basePrice||"0"),u=e.dataset.currency||"RON",g=parseFloat(e.dataset.commissionRate||"0"),h="true"===e.dataset.hasCommissionOnTop,v=r[t]||[];if(n>0){const e=((e,t,n)=>{let i=e*t,r=0,a="";for(const s of n){let n=e*t,o=0,l="";if("buy_x_get_y"===s.rule_type&&e>=s.buy_qty){const i=Math.floor(e/s.buy_qty)*s.get_qty;n=(e-i)*t,o=i*t,l=`Buy ${s.buy_qty} get ${s.get_qty} free`}else if("amount_off_per_ticket"===s.rule_type&&e>=s.min_qty){const i=s.amount_off/100;o=e*i,n=e*t-o,l=`${i} off per ticket`}else"percent_off"===s.rule_type&&e>=s.min_qty&&(o=e*t*(s.percent_off/100),n=e*t-o,l=`${s.percent_off}% off`);n<i&&(i=n,r=o,a=l)}return{total:i,discount:r,info:a}})(n,p,v);if(a+=e.total,s+=e.discount,l=!0,d=u,h&&g>0){o+=n*m*(g/100),c=!0}}});const p=a+o;if(t)if(s>0&&c){const e=a+s;t.innerHTML=`\n                        <div class="text-sm text-gray-500 line-through">${e.toFixed(2)} ${d}</div>\n                        <div class="text-sm text-green-600">-${s.toFixed(2)} ${d} reducere</div>\n                        <div class="text-sm text-gray-500">+${o.toFixed(2)} ${d} comision</div>\n                        <div class="text-lg font-bold text-primary">${p.toFixed(2)} ${d}</div>\n                    `}else if(s>0){const e=a+s;t.innerHTML=`\n                        <div class="text-sm text-gray-500 line-through">${e.toFixed(2)} ${d}</div>\n                        <div class="text-lg font-bold text-green-600">${a.toFixed(2)} ${d}</div>\n                        <div class="text-xs text-green-600">Economisești ${s.toFixed(2)} ${d}</div>\n                    `}else c?t.innerHTML=`\n                        <div class="text-sm text-gray-500">${a.toFixed(2)} + ${o.toFixed(2)} comision</div>\n                        <div class="text-lg font-bold text-primary">${p.toFixed(2)} ${d}</div>\n                    `:t.textContent=`${a.toFixed(2)} ${d}`;n&&(n.disabled=!l)};document.querySelectorAll(".ticket-plus").forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.ticketId||"",n=parseInt(e.dataset.max||"10"),r=i[t]||0;if(r<n){i[t]=r+1;const e=document.querySelector(`.ticket-qty-display[data-ticket-id="${t}"]`);e&&(e.textContent=i[t].toString()),a()}})}),document.querySelectorAll(".ticket-minus").forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.ticketId||"",n=i[t]||0;if(n>0){i[t]=n-1;const e=document.querySelector(`.ticket-qty-display[data-ticket-id="${t}"]`);e&&(e.textContent=i[t].toString()),a()}})}),n&&n.addEventListener("click",()=>{var t;null==(t=document.querySelector("#event-detail h1"))||t.textContent;const n=window.currentEventData;let r=!1;e.forEach(e=>{const t=parseInt(e.dataset.ticketId||"0"),a=i[t]||0;if(a>0&&n){const e=n.ticket_types.find(e=>e.id===t),i=n.commission,s=(null==i?void 0:i.is_added_on_top)&&e.commission_amount>0;e&&(w.addItem({eventId:n.id,eventTitle:n.title,eventSlug:n.slug,eventDate:n.start_date,ticketTypeId:e.id,ticketTypeName:e.name,price:e.price,salePrice:e.sale_price,finalPrice:e.final_price||e.sale_price||e.price,commissionAmount:e.commission_amount||0,commissionRate:(null==i?void 0:i.rate)||0,hasCommissionOnTop:s,quantity:a,currency:e.currency||"RON",bulkDiscounts:e.bulk_discounts||[]}),r=!0)}}),r?($.show("✓ Biletele au fost adăugate în coș!","success"),this.updateCartBadge(),this.navigate("/cart")):$.show("Te rog selectează cel puțin un bilet.","error")});const s=document.getElementById("watchlist-btn");if(s){(async()=>{if(this.isAuthenticated())try{const e=s.dataset.eventId,t=await this.fetchApi(`/account/watchlist/${e}/check`),n=document.getElementById("watchlist-btn-text");t.in_watchlist?(n&&(n.textContent="În watchlist"),s.classList.add("bg-primary","text-white"),s.classList.remove("text-primary")):(n&&(n.textContent="Adaugă la favorite"),s.classList.remove("bg-primary","text-white"),s.classList.add("text-primary"))}catch(e){}})(),s.addEventListener("click",async()=>{var e;if(!this.isAuthenticated())return void this.navigate("/login");const t=s.dataset.eventId,n=document.getElementById("watchlist-btn-text");try{(await this.fetchApi(`/account/watchlist/${t}/check`)).in_watchlist?(await this.deleteApi(`/account/watchlist/${t}`),n&&(n.textContent="Adaugă la favorite"),s.classList.remove("bg-primary","text-white"),s.classList.add("text-primary"),$.show("✓ Eveniment șters din watchlist","success")):(await this.postApi(`/account/watchlist/${t}`,{}),n&&(n.textContent="În watchlist"),s.classList.add("bg-primary","text-white"),s.classList.remove("text-primary"),$.show("✓ Eveniment adăugat la watchlist","success"))}catch(i){(null==(e=i.message)?void 0:e.includes("deja în watchlist"))?$.show("Evenimentul este deja în watchlist","info"):$.show("Eroare la actualizarea watchlist-ului","error")}})}}setupMobileTicketsPanel(){const e=document.getElementById("mobile-tickets-btn"),t=document.getElementById("mobile-tickets-close"),n=document.getElementById("mobile-tickets-overlay"),i=document.getElementById("mobile-tickets-panel"),r=document.getElementById("mobile-add-to-cart-btn"),a=document.getElementById("mobile-cart-total");if(!e||!i||!n)return;const s=()=>{n.classList.remove("open"),i.classList.remove("open"),document.body.style.overflow=""};e.addEventListener("click",()=>{n.classList.add("open"),i.classList.add("open"),document.body.style.overflow="hidden"}),t&&t.addEventListener("click",s),n.addEventListener("click",s);const o={},l=window.currentEventData,d=(null==l?void 0:l.currency)||"RON",c=()=>{let e=0,t=!1;document.querySelectorAll(".mobile-ticket-qty").forEach(n=>{var i;const r=n.dataset.ticketId||"",a=o[r]||0;if(a>0){t=!0;const n=null==(i=null==l?void 0:l.ticket_types)?void 0:i.find(e=>e.id==r);if(n){const t=parseFloat(n.sale_price||n.price)||0;e+=t*a}}}),a&&(a.textContent=`${e.toFixed(2)} ${d}`),r&&(r.disabled=!t),Object.keys(o).forEach(e=>{const t=document.querySelector(`.ticket-qty-display[data-ticket-id="${e}"]`);t&&(t.textContent=o[e].toString())})};document.querySelectorAll(".mobile-ticket-plus").forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.ticketId||"",n=parseInt(e.dataset.max||"10"),i=o[t]||0;if(i<n){o[t]=i+1;const e=document.querySelector(`.mobile-ticket-qty[data-ticket-id="${t}"]`);e&&(e.textContent=o[t].toString()),c()}})}),document.querySelectorAll(".mobile-ticket-minus").forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.ticketId||"",n=o[t]||0;if(n>0){o[t]=n-1;const e=document.querySelector(`.mobile-ticket-qty[data-ticket-id="${t}"]`);e&&(e.textContent=o[t].toString()),c()}})}),r&&r.addEventListener("click",()=>{let e=!1;Object.keys(o).forEach(t=>{var n,i;const r=o[t]||0;if(r>0&&l){const a=l.ticket_types.find(e=>e.id==t);a&&(w.addItem({eventId:l.id,eventTitle:l.title,eventSlug:l.slug,eventDate:l.start_date,ticketTypeId:a.id,ticketTypeName:a.name,price:a.price,salePrice:a.sale_price,finalPrice:a.final_price||a.sale_price||a.price,commissionAmount:a.commission_amount||0,commissionRate:(null==(n=l.commission)?void 0:n.rate)||0,hasCommissionOnTop:(null==(i=l.commission)?void 0:i.is_added_on_top)&&a.commission_amount>0,quantity:r,currency:a.currency||"RON",bulkDiscounts:a.bulk_discounts||[]}),e=!0)}}),e?(s(),$.show("✓ Biletele au fost adăugate în coș!","success"),this.updateCartBadge(),this.navigate("/cart")):$.show("Te rog selectează cel puțin un bilet.","error")}),window.addEventListener("popstate",()=>{const e=document.getElementById("mobile-tickets-container");e&&e.remove()},{once:!0})}setupCollapsibleSections(){const e=window.innerWidth<1024;if(!document.getElementById("collapsible-styles")){const e=document.createElement("style");e.id="collapsible-styles",e.textContent="\n                @media (max-width: 1023px) {\n                    .collapsible-section .collapsible-content {\n                        max-height: 0;\n                        overflow: hidden;\n                        transition: max-height 0.3s ease-out, opacity 0.3s ease-out;\n                        opacity: 0;\n                    }\n                    .collapsible-section.expanded .collapsible-content {\n                        max-height: 2000px;\n                        opacity: 1;\n                    }\n                    .collapsible-section .collapsible-icon {\n                        transition: transform 0.3s ease;\n                    }\n                    .collapsible-section.expanded .collapsible-icon {\n                        transform: rotate(180deg);\n                    }\n                    .collapsible-header {\n                        padding: 0.75rem 0;\n                        border-bottom: 1px solid #e5e7eb;\n                        margin-bottom: 0 !important;\n                    }\n                    .collapsible-section.expanded .collapsible-header {\n                        border-bottom-color: transparent;\n                        margin-bottom: 1rem !important;\n                    }\n                }\n                @media (min-width: 1024px) {\n                    .collapsible-section .collapsible-content {\n                        max-height: none !important;\n                        opacity: 1 !important;\n                        overflow: visible !important;\n                    }\n                }\n            ",document.head.appendChild(e)}document.querySelectorAll(".collapsible-header").forEach(e=>{e.addEventListener("click",()=>{if(window.innerWidth>=1024)return;const t=e.dataset.target,n=document.querySelector(`[data-section="${t}"]`);n&&n.classList.toggle("expanded")})}),e||document.querySelectorAll(".collapsible-section").forEach(e=>{e.classList.add("expanded")})}renderCart(){const e=this.getContentElement();if(!e)return;const t=w.getCart(),n=w.getTotal();if(0===t.length)return void(e.innerHTML='\n                <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16 text-center">\n                    <svg class="w-24 h-24 mx-auto text-gray-300 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>\n                    </svg>\n                    <h1 class="text-2xl font-bold text-gray-900 mb-4">Coșul tău este gol</h1>\n                    <p class="text-gray-600 mb-8">Explorează evenimentele noastre și adaugă bilete în coș.</p>\n                    <a href="/events" class="px-6 py-3 bg-primary text-white font-semibold rounded-lg hover:bg-primary-dark transition inline-block">\n                        Vezi evenimente\n                    </a>\n                </div>\n            ');const i=t.map((e,t)=>{const n=e.salePrice||e.price,i=w.calculateBulkDiscount(e.quantity,n,e.bulkDiscounts);let r=i.total;const a=i.discount;let s=e.quantity*n,o=0;e.hasCommissionOnTop&&e.commissionRate>0&&(o=e.quantity*e.price*(e.commissionRate/100),r+=o,s+=o);const l=new Date(e.eventDate).toLocaleDateString("ro-RO",{weekday:"long",day:"numeric",month:"long",year:"numeric"});return`\n            <div class="bg-white rounded-lg shadow p-6">\n                <div class="flex justify-between items-start mb-4">\n                    <div class="flex-1">\n                        <h3 class="font-semibold text-lg text-gray-900 mb-1">${e.eventTitle}</h3>\n                        <p class="text-sm text-gray-600">${e.ticketTypeName}</p>\n                        <p class="text-sm text-gray-500">${l}</p>\n                    </div>\n                    <button class="remove-item-btn text-red-600 hover:text-red-700" data-event-id="${e.eventId}" data-ticket-id="${e.ticketTypeId}">\n                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>\n                        </svg>\n                    </button>\n                </div>\n\n                <div class="flex justify-between items-center">\n                    <div class="flex items-center gap-3">\n                        <button class="cart-qty-minus w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100" data-event-id="${e.eventId}" data-ticket-id="${e.ticketTypeId}">\n                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"/>\n                            </svg>\n                        </button>\n                        <span class="cart-qty-display w-12 text-center font-semibold">${e.quantity}</span>\n                        <button class="cart-qty-plus w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100" data-event-id="${e.eventId}" data-ticket-id="${e.ticketTypeId}">\n                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>\n                            </svg>\n                        </button>\n                    </div>\n                    <div class="text-right">\n                        ${a>0?`\n                            <div class="text-sm text-gray-500 line-through">${s.toFixed(2)} ${e.currency}</div>\n                            <div class="font-bold text-green-600">${r.toFixed(2)} ${e.currency}</div>\n                            <div class="text-xs text-green-600">-${a.toFixed(2)} ${e.currency}</div>\n                        `:`\n                            <div class="font-bold text-gray-900">${r.toFixed(2)} ${e.currency}</div>\n                        `}\n                    </div>\n                </div>\n            </div>\n        `}).join("");e.innerHTML=`\n            <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <div class="flex justify-between items-center mb-8">\n                    <h1 class="text-3xl font-bold text-gray-900">Coșul meu</h1>\n                    <button id="clear-cart-btn" class="text-sm text-red-600 hover:text-red-700">Golește coșul</button>\n                </div>\n\n                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">\n                    <div class="lg:col-span-2 space-y-4">\n                        ${i}\n                    </div>\n\n                    <div class="lg:col-span-1">\n                        <div class="bg-white rounded-lg shadow p-6 sticky top-4">\n                            <h2 class="text-xl font-semibold text-gray-900 mb-4">Sumar comandă</h2>\n\n                            <div class="space-y-2 mb-4 pb-4 border-b">\n                                <div class="flex justify-between text-gray-600">\n                                    <span>Subtotal bilete</span>\n                                    <span>${n.subtotal.toFixed(2)} ${n.currency}</span>\n                                </div>\n                                ${n.bulkDiscount>0?`\n                                <div class="flex justify-between text-green-600">\n                                    <span>Discount bulk</span>\n                                    <span>-${n.bulkDiscount.toFixed(2)} ${n.currency}</span>\n                                </div>\n                                `:""}\n                                ${n.couponDiscount>0?`\n                                <div class="flex justify-between text-green-600">\n                                    <span>Cod promoțional${n.couponName?` (${n.couponName})`:""}</span>\n                                    <span>-${n.couponDiscount.toFixed(2)} ${n.currency}</span>\n                                </div>\n                                `:""}\n                                ${n.hasCommission?`\n                                <div class="flex justify-between text-gray-600">\n                                    <span>Comision Tixello</span>\n                                    <span>+${n.commission.toFixed(2)} ${n.currency}</span>\n                                </div>\n                                `:""}\n                            </div>\n\n                            \x3c!-- Discount Code Section --\x3e\n                            <div class="mb-4 pb-4 border-b">\n                                <label class="block text-sm font-medium text-gray-700 mb-2">Cod de reducere</label>\n                                <div class="flex gap-2">\n                                    <input type="text" id="discount-code-input" placeholder="Introdu codul"\n                                           class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary text-sm">\n                                    <button id="apply-discount-btn" class="px-4 py-2 bg-gray-800 text-white text-sm font-medium rounded-lg hover:bg-gray-700 transition">\n                                        Aplică\n                                    </button>\n                                </div>\n                                <div id="discount-code-message" class="mt-2 text-sm hidden"></div>\n                                <div id="applied-discount-display" class="hidden mt-3 p-3 bg-green-50 border border-green-200 rounded-lg">\n                                    <div class="flex justify-between items-center">\n                                        <div>\n                                            <span class="text-sm font-medium text-green-800" id="applied-discount-name"></span>\n                                            <span class="text-sm text-green-600 ml-2" id="applied-discount-value"></span>\n                                        </div>\n                                        <button id="remove-discount-btn" class="text-red-600 hover:text-red-700 text-sm">Elimină</button>\n                                    </div>\n                                </div>\n                            </div>\n\n                            ${this.isGamificationEnabled()?this.renderPointsSection(n.total,n.currency):""}\n\n                            <div class="flex justify-between items-center mb-6">\n                                <span class="text-lg font-semibold">Total</span>\n                                <span class="text-2xl font-bold text-primary" id="cart-total-amount">${n.total.toFixed(2)} ${n.currency}</span>\n                            </div>\n\n                            <button id="checkout-btn" class="w-full py-3 bg-primary text-white font-semibold rounded-lg hover:bg-primary-dark transition">\n                                Finalizează comanda\n                            </button>\n\n                            <a href="/events" class="w-full mt-3 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition block text-center">\n                                Continuă cumpărăturile\n                            </a>\n\n                            <p class="text-center text-xs text-gray-400 mt-4">\n                                Ticketing system powered by <a href="https://tixello.com" target="_blank" class="text-primary hover:underline">Tixello</a>\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `,this.setupCartHandlers()}setupCartHandlers(){document.querySelectorAll(".remove-item-btn").forEach(e=>{e.addEventListener("click",e=>{const t=e.currentTarget,n=parseInt(t.dataset.eventId||"0"),i=parseInt(t.dataset.ticketId||"0");w.removeItem(n,i),this.updateCartBadge(),this.renderCart()})}),document.querySelectorAll(".cart-qty-plus").forEach(e=>{e.addEventListener("click",e=>{const t=e.currentTarget,n=parseInt(t.dataset.eventId||"0"),i=parseInt(t.dataset.ticketId||"0"),r=w.getCart().find(e=>e.eventId===n&&e.ticketTypeId===i);r&&(w.updateQuantity(n,i,r.quantity+1),this.updateCartBadge(),this.renderCart())})}),document.querySelectorAll(".cart-qty-minus").forEach(e=>{e.addEventListener("click",e=>{const t=e.currentTarget,n=parseInt(t.dataset.eventId||"0"),i=parseInt(t.dataset.ticketId||"0"),r=w.getCart().find(e=>e.eventId===n&&e.ticketTypeId===i);r&&r.quantity>1&&(w.updateQuantity(n,i,r.quantity-1),this.updateCartBadge(),this.renderCart())})});const e=document.getElementById("clear-cart-btn");e&&e.addEventListener("click",()=>{confirm("Sigur vrei să golești coșul?")&&(w.clearCart(),this.updateCartBadge(),this.renderCart())});const t=document.getElementById("checkout-btn");t&&t.addEventListener("click",()=>{this.navigate("/checkout")}),this.setupDiscountCodeHandlers(),this.setupPointsHandlers()}setupDiscountCodeHandlers(){const e=document.getElementById("apply-discount-btn"),t=document.getElementById("discount-code-input"),n=document.getElementById("discount-code-message"),i=document.getElementById("applied-discount-display"),r=document.getElementById("remove-discount-btn");e&&t&&(e.addEventListener("click",async()=>{const r=t.value.trim();if(r){e.textContent="Se verifică...",e.disabled=!0;try{const e=await this.fetchApi("/cart/promo-code",{},{method:"POST",body:JSON.stringify({code:r,cart:w.getCart()})});if(e.success&&e.data){w.setDiscount({code:r,name:e.data.name||r,type:e.data.discount_type,value:e.data.discount_value,discountAmount:e.data.discount_amount});const a=document.getElementById("applied-discount-name"),s=document.getElementById("applied-discount-value");a&&(a.textContent=e.data.name||r),s&&(s.textContent="percentage"===e.data.discount_type?`(-${e.data.discount_value}%)`:`(-${e.data.discount_amount} ${w.getTotal().currency})`),i&&i.classList.remove("hidden"),n&&n.classList.add("hidden"),t.value="",t.disabled=!0,this.updateCartTotal()}else this.showDiscountMessage(e.message||"Cod invalid sau expirat.","error")}catch(a){this.showDiscountMessage("A apărut o eroare. Te rugăm să încerci din nou.","error")}finally{e.textContent="Aplică",e.disabled=!1}}else this.showDiscountMessage("Te rugăm să introduci un cod de reducere.","error")}),t.addEventListener("keypress",t=>{"Enter"===t.key&&(t.preventDefault(),e.click())})),r&&r.addEventListener("click",()=>{w.removeDiscount(),i&&i.classList.add("hidden"),t&&(t.disabled=!1,t.value=""),this.updateCartTotal()});const a=w.getDiscount();if(a&&i){const e=document.getElementById("applied-discount-name"),n=document.getElementById("applied-discount-value");e&&(e.textContent=a.name),n&&(n.textContent="percentage"===a.type?`(-${a.value}%)`:`(-${a.discountAmount} ${w.getTotal().currency})`),i.classList.remove("hidden"),t&&(t.disabled=!0)}}showDiscountMessage(e,t){const n=document.getElementById("discount-code-message");n&&(n.textContent=e,n.className="mt-2 text-sm "+("error"===t?"text-red-600":"text-green-600"),n.classList.remove("hidden"))}updateCartTotal(){const e=w.getTotal(),t=document.getElementById("cart-total-amount");t&&(t.textContent=`${e.total.toFixed(2)} ${e.currency}`)}isGamificationEnabled(){var e,t,n;try{const i=null==(e=window.TIXELLO)?void 0:e.config;return(null==(t=null==i?void 0:i.modules)?void 0:t.includes("gamification"))||!0===(null==(n=null==i?void 0:i.features)?void 0:n.gamification)}catch{return!1}}renderPointsSection(e,t){return`\n            \x3c!-- Gamification Points Section --\x3e\n            <div class="mb-4 pb-4 border-b" id="points-section">\n                <div class="flex items-center gap-2 mb-3">\n                    <svg class="w-5 h-5 text-amber-500" fill="currentColor" viewBox="0 0 20 20">\n                        <path d="M10 2a1 1 0 011 1v1.323l3.954 1.582 1.599-.8a1 1 0 01.894 1.79l-1.233.616 1.738 5.42a1 1 0 01-.285 1.05A3.989 3.989 0 0115 15a3.989 3.989 0 01-2.667-1.019 1 1 0 01-.285-1.05l1.715-5.349L11 6.477V16h2a1 1 0 110 2H7a1 1 0 110-2h2V6.477L6.237 7.582l1.715 5.349a1 1 0 01-.285 1.05A3.989 3.989 0 015 15a3.989 3.989 0 01-2.667-1.019 1 1 0 01-.285-1.05l1.738-5.42-1.233-.617a1 1 0 01.894-1.788l1.599.799L9 4.323V3a1 1 0 011-1z"/>\n                    </svg>\n                    <span class="text-sm font-medium text-gray-700">Puncte de fidelitate</span>\n                </div>\n\n                \x3c!-- Points you'll earn --\x3e\n                <div class="bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200 rounded-lg p-3 mb-3">\n                    <div class="flex items-center justify-between">\n                        <span class="text-sm text-amber-800">Vei câștiga cu această comandă</span>\n                        <span class="font-bold text-amber-600">+${Math.floor(e)} puncte</span>\n                    </div>\n                </div>\n\n                \x3c!-- Current balance and redemption (loaded dynamically) --\x3e\n                <div id="points-balance-section" class="hidden">\n                    <div class="flex items-center justify-between mb-2">\n                        <span class="text-sm text-gray-600">Punctele tale disponibile:</span>\n                        <span class="font-semibold text-gray-900" id="available-points">0</span>\n                    </div>\n\n                    <div id="points-redemption-form" class="hidden">\n                        <div class="flex gap-2 mb-2">\n                            <input type="number" id="points-to-redeem" min="0" max="0" value="0" placeholder="Puncte de folosit"\n                                   class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 text-sm">\n                            <button id="apply-points-btn" class="px-4 py-2 bg-amber-500 text-white text-sm font-medium rounded-lg hover:bg-amber-600 transition">\n                                Folosește\n                            </button>\n                        </div>\n                        <p class="text-xs text-gray-500">\n                            <span id="points-value-info">100 puncte = 1 ${t}</span>\n                            <span class="mx-1">•</span>\n                            Max: <span id="max-redeemable-points">0</span> puncte\n                        </p>\n                    </div>\n\n                    <div id="points-applied-display" class="hidden mt-2 p-3 bg-amber-50 border border-amber-200 rounded-lg">\n                        <div class="flex justify-between items-center">\n                            <div>\n                                <span class="text-sm font-medium text-amber-800">Puncte aplicate:</span>\n                                <span class="text-sm text-amber-600 ml-2" id="applied-points-count">0</span>\n                            </div>\n                            <button id="remove-points-btn" class="text-red-600 hover:text-red-700 text-sm">Elimină</button>\n                        </div>\n                        <div class="text-sm text-amber-700 mt-1">\n                            Reducere: -<span id="points-discount-amount">0</span> ${t}\n                        </div>\n                    </div>\n                </div>\n\n                \x3c!-- Login prompt for non-logged-in users --\x3e\n                <div id="points-login-prompt" class="hidden text-center py-2">\n                    <a href="/login" class="text-sm text-primary hover:underline">Conectează-te pentru a folosi punctele tale</a>\n                </div>\n            </div>\n        `}async setupPointsHandlers(){if(!this.isGamificationEnabled())return;const e=document.getElementById("points-balance-section"),t=document.getElementById("points-login-prompt"),n=document.getElementById("points-redemption-form"),i=document.getElementById("points-to-redeem"),r=document.getElementById("apply-points-btn"),a=document.getElementById("remove-points-btn");if(!this.authToken)return void(t&&t.classList.remove("hidden"));try{const t=await this.fetchApi("/account/points");if(t.success&&t.data){const r=t.data.balance||0,a=t.data.points_per_currency||100;if(e){e.classList.remove("hidden");const t=document.getElementById("available-points");t&&(t.textContent=String(r))}if(r>0&&n&&i){n.classList.remove("hidden");const e=w.getTotal().total*a,t=Math.min(r,Math.floor(e));i.max=String(t);const s=document.getElementById("max-redeemable-points");s&&(s.textContent=String(t)),window.TIXELLO_POINTS_CONFIG={balance:r,pointsPerCurrency:a,maxRedeemable:t}}}}catch(o){}r&&i&&r.addEventListener("click",()=>{const e=parseInt(i.value)||0,t=window.TIXELLO_POINTS_CONFIG;if(!t||e<=0)return;if(e>t.maxRedeemable)return void alert(`Poți folosi maxim ${t.maxRedeemable} puncte.`);const r=e/t.pointsPerCurrency;localStorage.setItem("tixello_points_applied",JSON.stringify({points:e,discountValue:r}));const a=document.getElementById("points-applied-display"),s=document.getElementById("applied-points-count"),o=document.getElementById("points-discount-amount");a&&a.classList.remove("hidden"),s&&(s.textContent=String(e)),o&&(o.textContent=r.toFixed(2)),n&&n.classList.add("hidden"),this.updateCartTotalWithPoints()}),a&&a.addEventListener("click",()=>{localStorage.removeItem("tixello_points_applied");const e=document.getElementById("points-applied-display");e&&e.classList.add("hidden"),n&&n.classList.remove("hidden"),this.updateCartTotalWithPoints()});const s=localStorage.getItem("tixello_points_applied");if(s){const{points:e,discountValue:t}=JSON.parse(s),i=document.getElementById("points-applied-display"),r=document.getElementById("applied-points-count"),a=document.getElementById("points-discount-amount");i&&i.classList.remove("hidden"),r&&(r.textContent=String(e)),a&&(a.textContent=t.toFixed(2)),n&&n.classList.add("hidden")}}updateCartTotalWithPoints(){const e=w.getTotal();let t=e.total;const n=localStorage.getItem("tixello_points_applied");if(n){const{discountValue:e}=JSON.parse(n);t=Math.max(0,t-e)}const i=document.getElementById("cart-total-amount");i&&(i.textContent=`${t.toFixed(2)} ${e.currency}`)}renderCheckoutPointsSection(e,t){if(!this.isGamificationEnabled())return"";const n=Math.floor(e),i=localStorage.getItem("tixello_points_applied");let r="";if(i){const{points:e,discountValue:n}=JSON.parse(i);r=`\n                <div class="flex justify-between text-amber-600">\n                    <span>Puncte folosite (${e})</span>\n                    <span>-${n.toFixed(2)} ${t}</span>\n                </div>\n            `}return`\n            ${r}\n            <div class="flex justify-between text-amber-600 text-sm mt-2">\n                <span class="flex items-center gap-1">\n                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">\n                        <path d="M10 2a1 1 0 011 1v1.323l3.954 1.582 1.599-.8a1 1 0 01.894 1.79l-1.233.616 1.738 5.42a1 1 0 01-.285 1.05A3.989 3.989 0 0115 15a3.989 3.989 0 01-2.667-1.019 1 1 0 01-.285-1.05l1.715-5.349L11 6.477V16h2a1 1 0 110 2H7a1 1 0 110-2h2V6.477L6.237 7.582l1.715 5.349a1 1 0 01-.285 1.05A3.989 3.989 0 015 15a3.989 3.989 0 01-2.667-1.019 1 1 0 01-.285-1.05l1.738-5.42-1.233-.617a1 1 0 01.894-1.788l1.599.799L9 4.323V3a1 1 0 011-1z"/>\n                    </svg>\n                    Vei câștiga\n                </span>\n                <span class="font-semibold">+${n} puncte</span>\n            </div>\n        `}getCheckoutFinalTotal(e,t){let n=e;const i=localStorage.getItem("tixello_points_applied");if(i){const{discountValue:e}=JSON.parse(i);n=Math.max(0,n-e)}return`${n.toFixed(2)} ${t}`}async renderCheckout(){const e=this.getContentElement();if(!e)return;const t=w.getCart(),n=w.getTotal();if(0===t.length)return void this.navigate("/cart");let i=null;if(this.authToken)try{const e=await this.fetchApi("/account/profile");e.success&&(i=e.data)}catch(o){}const r=i?`${i.first_name||""} ${i.last_name||""}`.trim():"",a=(null==i?void 0:i.email)||"",s=(null==i?void 0:i.phone)||"";e.innerHTML=`\n            <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <h1 class="text-3xl font-bold text-gray-900 mb-8">Finalizare comandă</h1>\n\n                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">\n                    <div class="lg:col-span-2">\n                        <form id="checkout-form" class="space-y-6">\n                            <div class="bg-white rounded-lg shadow p-6">\n                                <h2 class="text-xl font-semibold text-gray-900 mb-4">Date personale</h2>\n                                <div class="space-y-4">\n                                    <div>\n                                        <label for="customer_name" class="block text-sm font-medium text-gray-700 mb-1">\n                                            Nume complet *\n                                        </label>\n                                        <input\n                                            type="text"\n                                            id="customer_name"\n                                            name="customer_name"\n                                            required\n                                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"\n                                            placeholder="Ion Popescu"\n                                            value="${r}"\n                                            value="${r}"\n                                        >\n                                    </div>\n                                    <div>\n                                        <label for="customer_email" class="block text-sm font-medium text-gray-700 mb-1">\n                                            Email *\n                                        </label>\n                                        <input\n                                            type="email"\n                                            id="customer_email"\n                                            name="customer_email"\n                                            required\n                                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"\n                                            placeholder="ion@example.com"\n                                            value="${a}"\n                                            value="${a}"\n                                        >\n                                    </div>\n                                    <div>\n                                        <label for="customer_phone" class="block text-sm font-medium text-gray-700 mb-1">\n                                            Telefon\n                                        </label>\n                                        <input\n                                            type="tel"\n                                            id="customer_phone"\n                                            name="customer_phone"\n                                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"\n                                            placeholder="0722123456"\n                                            value="${s}"\n                                            value="${s}"\n                                        >\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div class="bg-white rounded-lg shadow p-6">\n                                <h2 class="text-xl font-semibold text-gray-900 mb-4">Beneficiari bilete</h2>\n                                <p class="text-sm text-gray-600 mb-4">\n                                    Implicit, toate biletele vor fi pe numele tău. Poți specifica beneficiari diferiți pentru fiecare bilet.\n                                </p>\n                                <div class="flex items-start mb-4">\n                                    <input\n                                        type="checkbox"\n                                        id="different_beneficiaries"\n                                        name="different_beneficiaries"\n                                        class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"\n                                    >\n                                    <label for="different_beneficiaries" class="ml-2 text-sm text-gray-700">\n                                        Doresc să specific beneficiari diferiți pentru fiecare bilet\n                                    </label>\n                                </div>\n                                <div id="beneficiaries-section" class="hidden">\n                                    <div class="border-t pt-4">\n                                        <p class="text-sm text-gray-600 mb-4">\n                                            Completează datele pentru fiecare bilet. Primul bilet va fi pre-completat cu datele tale.\n                                        </p>\n                                        <div id="beneficiaries-container" class="space-y-4">\n                                            \x3c!-- Beneficiary fields will be generated dynamically --\x3e\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div class="bg-white rounded-lg shadow p-6">\n                                <h2 class="text-xl font-semibold text-gray-900 mb-4">Acorduri</h2>\n                                <div class="space-y-3 mb-6">\n                                    <div class="flex items-start">\n                                        <input\n                                            type="checkbox"\n                                            id="agree_terms"\n                                            name="agree_terms"\n                                            required\n                                            class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"\n                                        >\n                                        <label for="agree_terms" class="ml-2 text-sm text-gray-700">\n                                            Sunt de acord cu <a href="/terms" target="_blank" class="text-primary hover:underline">Termenii și Condițiile</a> *\n                                        </label>\n                                    </div>\n                                    <div class="flex items-start">\n                                        <input\n                                            type="checkbox"\n                                            id="agree_privacy"\n                                            name="agree_privacy"\n                                            required\n                                            class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"\n                                        >\n                                        <label for="agree_privacy" class="ml-2 text-sm text-gray-700">\n                                            Sunt de acord cu <a href="/privacy" target="_blank" class="text-primary hover:underline">Politica de Confidențialitate</a> a organizatorului, <a href="https://tixello.com/data-privacy-client" target="_blank" class="text-primary hover:underline">Politica Tixello</a> și procesarea datelor personale *\n                                        </label>\n                                    </div>\n                                    ${this.authToken?"":'\n                                    <div class="flex items-start">\n                                        <input\n                                            type="checkbox"\n                                            id="create_account"\n                                            name="create_account"\n                                            class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"\n                                        >\n                                        <label for="create_account" class="ml-2 text-sm text-gray-700">\n                                            Doresc să îmi creez un cont automat pentru comenzi viitoare\n                                        </label>\n                                    </div>\n                                    '}\n                                </div>\n                            </div>\n\n                            <div class="bg-white rounded-lg shadow p-6">\n                                <h2 class="text-xl font-semibold text-gray-900 mb-4">Preferințe notificări</h2>\n                                <p class="text-sm text-gray-600 mb-4">Alegeți cum doriți să primiți actualizări despre comandă:</p>\n                                <div class="space-y-3">\n                                    <div class="flex items-start">\n                                        <input\n                                            type="checkbox"\n                                            id="notification_email"\n                                            name="notification_email"\n                                            checked\n                                            class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"\n                                        >\n                                        <label for="notification_email" class="ml-2 text-sm text-gray-700">\n                                            Primește notificări pe email (confirmare comandă, bilete, reamintiri)\n                                        </label>\n                                    </div>\n                                    <div id="whatsapp-notification-option" class="hidden">\n                                        <div class="flex items-start">\n                                            <input\n                                                type="checkbox"\n                                                id="notification_whatsapp"\n                                                name="notification_whatsapp"\n                                                class="mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"\n                                            >\n                                            <label for="notification_whatsapp" class="ml-2 text-sm text-gray-700">\n                                                Primește notificări pe WhatsApp (necesită număr de telefon valid)\n                                            </label>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div class="bg-white rounded-lg shadow p-6">\n                                <h2 class="text-xl font-semibold text-gray-900 mb-4">Metodă de plată</h2>\n                                <p class="text-sm text-gray-600 mb-4">Acceptăm carduri de credit/debit, Apple Pay și Google Pay.</p>\n\n                                \x3c!-- Payment Element container --\x3e\n                                <div id="payment-element-container" class="mb-4">\n                                    <div id="payment-element" class="min-h-[150px]">\n                                        \x3c!-- Stripe Payment Element will be mounted here --\x3e\n                                        <div class="animate-pulse flex flex-col space-y-3">\n                                            <div class="h-10 bg-gray-200 rounded"></div>\n                                            <div class="flex space-x-3">\n                                                <div class="h-10 bg-gray-200 rounded flex-1"></div>\n                                                <div class="h-10 bg-gray-200 rounded flex-1"></div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div id="payment-message" class="hidden text-red-600 text-sm mt-2"></div>\n                                </div>\n\n                                <p class="text-gray-500 text-sm mb-4">\n                                    <svg class="w-4 h-4 inline mr-1 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>\n                                    </svg>\n                                    Plată securizată prin Stripe. Vei primi biletele pe email imediat după finalizare.\n                                </p>\n\n                                <button\n                                    type="submit"\n                                    id="submit-order-btn"\n                                    class="w-full py-3 bg-primary text-white font-semibold rounded-lg hover:bg-primary-dark transition disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2"\n                                    disabled\n                                >\n                                    <span id="submit-btn-text">Plasează comanda - ${n.total.toFixed(2)} ${n.currency}</span>\n                                    <svg id="submit-btn-spinner" class="hidden animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">\n                                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\n                                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\n                                    </svg>\n                                </button>\n                                <p class="text-center text-xs text-gray-400 mt-4">\n                                    Ticketing system powered by <a href="https://tixello.com" target="_blank" class="text-primary hover:underline">Tixello</a>\n                                </p>\n                            </div>\n                        </form>\n                    </div>\n\n                    <div class="lg:col-span-1">\n                        <div class="bg-white rounded-lg shadow p-6 sticky top-4">\n                            <h2 class="text-xl font-semibold text-gray-900 mb-4">Sumar comandă</h2>\n\n                            <div class="space-y-3 mb-4 pb-4 border-b">\n                                ${t.map(e=>{const t=e.salePrice||e.price;let n=w.calculateBulkDiscount(e.quantity,t,e.bulkDiscounts).total;if(e.hasCommissionOnTop&&e.commissionRate>0){n+=e.quantity*e.price*(e.commissionRate/100)}return`\n                                    <div class="flex justify-between text-sm">\n                                        <div>\n                                            <div class="font-medium">${e.eventTitle}</div>\n                                            <div class="text-gray-500">${e.ticketTypeName} × ${e.quantity}</div>\n                                        </div>\n                                        <div class="font-medium">${n.toFixed(2)} ${e.currency}</div>\n                                    </div>\n                                `}).join("")}\n                            </div>\n\n                            <div class="space-y-2 mb-4 pb-4 border-b">\n                                <div class="flex justify-between text-gray-600">\n                                    <span>Subtotal bilete</span>\n                                    <span>${n.subtotal.toFixed(2)} ${n.currency}</span>\n                                </div>\n                                ${n.bulkDiscount>0?`\n                                <div class="flex justify-between text-green-600">\n                                    <span>Discount bulk</span>\n                                    <span>-${n.bulkDiscount.toFixed(2)} ${n.currency}</span>\n                                </div>\n                                `:""}\n                                ${n.couponDiscount>0?`\n                                <div class="flex justify-between text-green-600">\n                                    <span>Cod promoțional${n.couponName?` (${n.couponName})`:""}</span>\n                                    <span>-${n.couponDiscount.toFixed(2)} ${n.currency}</span>\n                                </div>\n                                `:""}\n                                ${n.hasCommission?`\n                                <div class="flex justify-between text-gray-600">\n                                    <span>Comision Tixello</span>\n                                    <span>+${n.commission.toFixed(2)} ${n.currency}</span>\n                                </div>\n                                `:""}\n                                ${this.renderCheckoutPointsSection(n.total,n.currency)}\n                            </div>\n\n                            <div class="flex justify-between items-center">\n                                <span class="text-lg font-semibold">Total</span>\n                                <span class="text-2xl font-bold text-primary" id="checkout-total-amount">${this.getCheckoutFinalTotal(n.total,n.currency)}</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `,this.setupCheckoutHandlers()}setupCheckoutHandlers(){const e=document.getElementById("checkout-form"),t=document.getElementById("submit-order-btn"),n=document.getElementById("submit-btn-text"),i=document.getElementById("submit-btn-spinner"),r=document.getElementById("payment-message");let a=null,s=null,o="";this.initializeStripePayment().then(e=>{e&&(a=e.stripe,s=e.elements,o=e.clientSecret,t&&(t.disabled=!1))}).catch(e=>{r&&(r.textContent="Nu s-a putut încărca sistemul de plată. Încercați din nou.",r.classList.remove("hidden"))}),this.fetchApi("/checkout/init").then(e=>{var t;if(e.success&&(null==(t=e.data)?void 0:t.has_whatsapp)){const e=document.getElementById("whatsapp-notification-option");e&&e.classList.remove("hidden")}}).catch(()=>{});const l=document.getElementById("different_beneficiaries"),d=document.getElementById("beneficiaries-section"),c=document.getElementById("beneficiaries-container"),p=w.getCart().reduce((e,t)=>e+t.quantity,0);l&&d&&c&&l.addEventListener("change",()=>{var e,t,n;if(l.checked){d.classList.remove("hidden");const i=(null==(e=document.getElementById("customer_name"))?void 0:e.value)||"",r=(null==(t=document.getElementById("customer_email"))?void 0:t.value)||"",a=(null==(n=document.getElementById("customer_phone"))?void 0:n.value)||"";let s="";for(let e=0;e<p;e++){const t=0===e;s+=`\n                            <div class="bg-gray-50 p-4 rounded-lg">\n                                <h4 class="font-medium text-gray-900 mb-3">Bilet ${e+1}</h4>\n                                <div class="space-y-3">\n                                    <div>\n                                        <label class="block text-sm font-medium text-gray-700 mb-1">\n                                            Nume complet *\n                                        </label>\n                                        <input\n                                            type="text"\n                                            name="beneficiary_${e}_name"\n                                            required\n                                            value="${t?i:""}"\n                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-sm"\n                                            placeholder="Nume complet"\n                                        >\n                                    </div>\n                                    <div>\n                                        <label class="block text-sm font-medium text-gray-700 mb-1">\n                                            Email (optional)\n                                        </label>\n                                        <input\n                                            type="email"\n                                            name="beneficiary_${e}_email"\n                                            value="${t?r:""}"\n                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-sm"\n                                            placeholder="email@example.com"\n                                        >\n                                    </div>\n                                    <div>\n                                        <label class="block text-sm font-medium text-gray-700 mb-1">\n                                            Telefon (optional)\n                                        </label>\n                                        <input\n                                            type="tel"\n                                            name="beneficiary_${e}_phone"\n                                            value="${t?a:""}"\n                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-sm"\n                                            placeholder="0722123456"\n                                        >\n                                    </div>\n                                </div>\n                            </div>\n                        `}c.innerHTML=s}else d.classList.add("hidden"),c.innerHTML=""}),e&&e.addEventListener("submit",async l=>{var d,c,p,m,u;l.preventDefault(),t&&(t.disabled=!0),n&&(n.textContent="Se procesează..."),i&&i.classList.remove("hidden");const g=new FormData(e),h=w.getCart(),v=[],x=document.getElementById("different_beneficiaries");if(null==x?void 0:x.checked){const e=h.reduce((e,t)=>e+t.quantity,0);for(let t=0;t<e;t++)v.push({name:g.get(`beneficiary_${t}_name`),email:g.get(`beneficiary_${t}_email`)||null,phone:g.get(`beneficiary_${t}_phone`)||null})}const b=(null==(d=document.getElementById("agree_terms"))?void 0:d.checked)??!1,f=(null==(c=document.getElementById("agree_privacy"))?void 0:c.checked)??!1,y=(null==(p=document.getElementById("create_account"))?void 0:p.checked)??!1,k=(null==(m=document.getElementById("notification_email"))?void 0:m.checked)??!0,_=(null==(u=document.getElementById("notification_whatsapp"))?void 0:u.checked)??!1;try{if(a&&s&&o){const{error:e}=await a.confirmPayment({elements:s,confirmParams:{return_url:window.location.origin+"/checkout/complete",payment_method_data:{billing_details:{name:g.get("customer_name"),email:g.get("customer_email"),phone:g.get("customer_phone")||void 0}}},redirect:"if_required"});if(e)throw r&&(r.textContent=e.message||"Eroare la procesarea plății",r.classList.remove("hidden")),new Error(e.message||"Plata nu a putut fi procesată")}const e=await this.postApi("/orders",{customer_name:g.get("customer_name"),customer_email:g.get("customer_email"),customer_phone:g.get("customer_phone"),agree_terms:b,agree_privacy:f,create_account:y,notification_email:k,notification_whatsapp:_,payment_intent_id:o?o.split("_secret_")[0]:null,cart:h.map(e=>({eventId:e.eventId,ticketTypeId:e.ticketTypeId,quantity:e.quantity})),beneficiaries:v.length>0?v:null});if(!e.success)throw new Error(e.error||"Eroare la plasarea comenzii");w.clearCart(),this.updateCartBadge(),$.show("✓ Comanda a fost plasată cu succes!","success"),this.navigate(`/order-success/${e.data.order_id}`)}catch(C){$.show(C.message||"Eroare la plasarea comenzii","error"),t&&(t.disabled=!1),n&&(n.textContent="Plasează comanda"),i&&i.classList.add("hidden")}})}async initializeStripePayment(){var e,t;const n=document.getElementById("payment-element");if(!n)return null;try{const i=await this.fetchApi("/payment/config");if(!i.success||!(null==(e=i.data)?void 0:e.publishable_key))return n.innerHTML='\n                    <div class="text-center py-4 text-gray-600">\n                        <svg class="w-12 h-12 mx-auto text-green-500 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>\n                        </svg>\n                        <p>Comanda nu necesită plată online.</p>\n                    </div>\n                ',null;const r=i.data.publishable_key;window.Stripe||await this.loadStripeScript();const a=window.Stripe(r),s=w.getCart(),o=w.getTotal(),l=await this.postApi("/payment/create-intent",{amount:Math.round(100*o.total),currency:o.currency.toLowerCase(),cart:s.map(e=>({eventId:e.eventId,ticketTypeId:e.ticketTypeId,quantity:e.quantity}))});if(!l.success||!(null==(t=l.data)?void 0:t.client_secret))throw new Error("Nu s-a putut crea sesiunea de plată");const d=l.data.client_secret,c=a.elements({clientSecret:d,appearance:{theme:"stripe",variables:{colorPrimary:getComputedStyle(document.documentElement).getPropertyValue("--tixello-primary").trim()||"#6366f1",fontFamily:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'}}}),p=c.create("payment",{layout:"tabs",wallets:{applePay:"auto",googlePay:"auto"}});return n.innerHTML="",p.mount(n),{stripe:a,elements:c,paymentElement:p,clientSecret:d}}catch(i){throw n.innerHTML=`\n                <div class="text-center py-4 text-red-600">\n                    <svg class="w-12 h-12 mx-auto text-red-400 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>\n                    </svg>\n                    <p>${i.message||"Eroare la încărcarea sistemului de plată"}</p>\n                    <button onclick="location.reload()" class="mt-2 text-primary hover:underline">Reîncarcă pagina</button>\n                </div>\n            `,i}}loadStripeScript(){return new Promise((e,t)=>{if(window.Stripe)return void e();const n=document.createElement("script");n.src="https://js.stripe.com/v3/",n.async=!0,n.onload=()=>e(),n.onerror=()=>t(new Error("Failed to load Stripe.js")),document.head.appendChild(n)})}async renderOrderSuccess(e){const t=this.getContentElement();if(!t)return;const n=e.orderId;t.innerHTML=`\n            <div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-16 text-center">\n                <div class="mb-8">\n                    <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">\n                        <svg class="w-10 h-10 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>\n                        </svg>\n                    </div>\n                    <h1 class="text-3xl font-bold text-gray-900 mb-2">Comanda plasată cu succes!</h1>\n                    <p class="text-gray-600 mb-4">\n                        Comanda ta <strong>#${n}</strong> a fost înregistrată.\n                    </p>\n                    <p class="text-gray-600">\n                        Vei primi biletele pe email în câteva minute.\n                    </p>\n                </div>\n\n                <div class="space-y-3">\n                    <a href="/events" class="w-full max-w-xs mx-auto block px-6 py-3 bg-primary text-white font-semibold rounded-lg hover:bg-primary-dark transition text-center">\n                        Înapoi la evenimente\n                    </a>\n                </div>\n            </div>\n        `}renderLogin(){if(this.isAuthenticated())return void this.navigate("/account");const e=this.getContentElement();if(!e)return;e.innerHTML='\n            <div class="min-h-[60vh] flex items-center justify-center px-4">\n                <div class="max-w-md w-full space-y-8">\n                    <div class="text-center">\n                        <h1 class="text-3xl font-bold text-gray-900">Bine ai revenit</h1>\n                        <p class="mt-2 text-gray-600">Conectează-te la contul tău</p>\n                    </div>\n                    <div id="login-error" class="hidden bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg"></div>\n                    <form id="login-form" class="space-y-6">\n                        <div>\n                            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>\n                            <input type="email" id="email" required\n                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">\n                        </div>\n                        <div>\n                            <div class="flex justify-between items-center mb-1">\n                                <label for="password" class="block text-sm font-medium text-gray-700">Parolă</label>\n                                <a href="/forgot-password" class="text-xs text-primary hover:text-blue-700">Ai uitat parola?</a>\n                            </div>\n                            <input type="password" id="password" required\n                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">\n                        </div>\n                        <button type="submit" id="login-btn" class="w-full px-4 py-2 bg-primary text-white font-medium rounded-lg hover:bg-primary-dark transition">\n                            Conectare\n                        </button>\n                    </form>\n                    <p class="text-center text-gray-600">\n                        Nu ai cont? <a href="/register" class="text-primary hover:text-blue-700 font-medium">Înregistrează-te</a>\n                    </p>\n                </div>\n            </div>\n        ';const t=document.getElementById("login-form");null==t||t.addEventListener("submit",async e=>{e.preventDefault();const t=document.getElementById("email").value,n=document.getElementById("password").value,i=document.getElementById("login-error"),r=document.getElementById("login-btn");r.disabled=!0,r.textContent="Se conectează...",null==i||i.classList.add("hidden");try{const e=await this.postApi("/auth/login",{email:t,password:n});if(!e.success||!e.data)throw new Error(e.message||"Invalid response from server");this.saveAuthState(e.data.token,e.data.user),this.navigate("/account")}catch(a){i&&(i.textContent=a.message||"Eroare la autentificare",i.classList.remove("hidden")),r.disabled=!1,r.textContent="Conectare"}})}renderRegister(){var e,t;if(this.isAuthenticated())return void this.navigate("/account");const n=this.getContentElement();if(!n)return;n.innerHTML=`\n            <div class="min-h-[60vh] flex items-center justify-center px-4">\n                <div class="max-w-md w-full space-y-8">\n                    <div class="text-center">\n                        <h1 class="text-3xl font-bold text-gray-900">Creează cont</h1>\n                        <p class="mt-2 text-gray-600">Înregistrează-te pentru a cumpăra bilete</p>\n                    </div>\n                    <div id="register-error" class="hidden bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg"></div>\n                    <form id="register-form" class="space-y-6">\n                        <div class="grid grid-cols-2 gap-4">\n                            <div>\n                                <label for="first_name" class="block text-sm font-medium text-gray-700 mb-1">Prenume</label>\n                                <input type="text" id="first_name" required\n                                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary">\n                            </div>\n                            <div>\n                                <label for="last_name" class="block text-sm font-medium text-gray-700 mb-1">Nume</label>\n                                <input type="text" id="last_name" required\n                                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary">\n                            </div>\n                        </div>\n                        <div>\n                            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>\n                            <input type="email" id="email" required\n                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary">\n                        </div>\n                        <div>\n                            <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Telefon (opțional)</label>\n                            <input type="tel" id="phone"\n                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary">\n                        </div>\n                        <div>\n                            <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Parolă</label>\n                            <input type="password" id="password" required minlength="8"\n                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary">\n                            \x3c!-- Password Strength Meter --\x3e\n                            <div id="password-strength" class="mt-2">\n                                <div class="flex gap-1 mb-1">\n                                    <div id="strength-bar-1" class="h-1 flex-1 rounded bg-gray-200"></div>\n                                    <div id="strength-bar-2" class="h-1 flex-1 rounded bg-gray-200"></div>\n                                    <div id="strength-bar-3" class="h-1 flex-1 rounded bg-gray-200"></div>\n                                    <div id="strength-bar-4" class="h-1 flex-1 rounded bg-gray-200"></div>\n                                </div>\n                                <p id="strength-text" class="text-xs text-gray-500"></p>\n                            </div>\n                        </div>\n                        <div>\n                            <label for="password_confirmation" class="block text-sm font-medium text-gray-700 mb-1">Confirmă parola</label>\n                            <input type="password" id="password_confirmation" required\n                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary">\n                            <p id="password-match" class="mt-1 text-xs hidden"></p>\n                        </div>\n                        <div class="border-t pt-4">\n                            <p class="text-sm font-medium text-gray-700 mb-3">Preferințe notificări</p>\n                            <div class="space-y-2">\n                                <div class="flex items-center">\n                                    <input type="checkbox" id="reg_notification_email" checked\n                                           class="h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary">\n                                    <label for="reg_notification_email" class="ml-2 text-sm text-gray-700">\n                                        Primește notificări pe email\n                                    </label>\n                                </div>\n                                ${(null==(t=null==(e=this.config)?void 0:e.modules)?void 0:t.includes("whatsapp"))?'\n                                <div class="flex items-center">\n                                    <input type="checkbox" id="reg_notification_whatsapp"\n                                           class="h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary">\n                                    <label for="reg_notification_whatsapp" class="ml-2 text-sm text-gray-700">\n                                        Primește notificări pe WhatsApp\n                                    </label>\n                                </div>\n                                ':""}\n                            </div>\n                        </div>\n                        <button type="submit" id="register-btn" class="w-full px-4 py-2 bg-primary text-white font-medium rounded-lg hover:bg-primary-dark transition">\n                            Creează cont\n                        </button>\n                    </form>\n                    <p class="text-center text-gray-600">\n                        Ai deja cont? <a href="/login" class="text-primary hover:text-blue-700 font-medium">Conectează-te</a>\n                    </p>\n                </div>\n            </div>\n        `;const i=document.getElementById("password"),r=document.getElementById("password_confirmation"),a=document.getElementById("strength-text"),s=document.getElementById("password-match"),o=[document.getElementById("strength-bar-1"),document.getElementById("strength-bar-2"),document.getElementById("strength-bar-3"),document.getElementById("strength-bar-4")],l=()=>{const e=(null==i?void 0:i.value)||"",t=(null==r?void 0:r.value)||"";if(!t)return null==s||s.classList.add("hidden"),void(null==r||r.classList.remove("border-red-300","border-green-300"));null==s||s.classList.remove("hidden"),e===t?(s&&(s.textContent="✓ Parolele coincid",s.className="mt-1 text-xs text-green-600"),null==r||r.classList.remove("border-red-300"),null==r||r.classList.add("border-green-300")):(s&&(s.textContent="✗ Parolele nu coincid",s.className="mt-1 text-xs text-red-600"),null==r||r.classList.remove("border-green-300"),null==r||r.classList.add("border-red-300"))};null==i||i.addEventListener("input",()=>{(()=>{const e=(null==i?void 0:i.value)||"";if(!e)return o.forEach(e=>null==e?void 0:e.classList.replace(e.className.split(" ").find(e=>e.startsWith("bg-"))||"bg-gray-200","bg-gray-200")),void(a&&(a.textContent=""));const{score:t,text:n,color:r}=(e=>{let t=0;return e.length>=8&&t++,e.length>=12&&t++,/[A-Z]/.test(e)&&t++,/[a-z]/.test(e)&&t++,/[0-9]/.test(e)&&t++,/[^A-Za-z0-9]/.test(e)&&t++,t<=2?{score:1,text:"Foarte slabă",color:"bg-red-500"}:t<=3?{score:2,text:"Slabă",color:"bg-orange-500"}:t<=4?{score:3,text:"Medie",color:"bg-yellow-500"}:t<=5?{score:4,text:"Puternică",color:"bg-green-500"}:{score:4,text:"Foarte puternică",color:"bg-green-600"}})(e);o.forEach((e,n)=>{if(e){const i=Array.from(e.classList).find(e=>e.startsWith("bg-"));i&&e.classList.remove(i),e.classList.add(n<t?r:"bg-gray-200")}}),a&&(a.textContent=n,a.className=`text-xs ${r.replace("bg-","text-")}`)})(),l()}),null==r||r.addEventListener("input",l);const d=document.getElementById("register-form");null==d||d.addEventListener("submit",async e=>{var t,n;e.preventDefault();const i=document.getElementById("first_name").value,r=document.getElementById("last_name").value,a=document.getElementById("email").value,s=document.getElementById("phone").value,o=document.getElementById("password").value,l=document.getElementById("password_confirmation").value,d=document.getElementById("register-error"),c=document.getElementById("register-btn");if(o!==l)return void(d&&(d.textContent="Parolele nu coincid",d.classList.remove("hidden")));c.disabled=!0,c.textContent="Se creează contul...",null==d||d.classList.add("hidden");const p=(null==(t=document.getElementById("reg_notification_email"))?void 0:t.checked)??!0,m=(null==(n=document.getElementById("reg_notification_whatsapp"))?void 0:n.checked)??!1;try{const e=await this.postApi("/auth/register",{first_name:i,last_name:r,email:a,phone:s||null,password:o,notification_email:p,notification_whatsapp:m});if(!e.success||!e.data)throw new Error(e.message||"Invalid response from server");this.saveAuthState(e.data.token,e.data.user),$.show("✓ Cont creat cu succes!","success"),this.navigate("/account")}catch(u){d&&(d.textContent=u.message||"Eroare la înregistrare",d.classList.remove("hidden")),c.disabled=!1,c.textContent="Creează cont"}})}renderForgotPassword(){if(this.isAuthenticated())return void this.navigate("/account");const e=this.getContentElement();if(!e)return;e.innerHTML='\n            <div class="min-h-[60vh] flex items-center justify-center px-4">\n                <div class="max-w-md w-full space-y-8">\n                    <div class="text-center">\n                        <h1 class="text-3xl font-bold text-gray-900">Resetează parola</h1>\n                        <p class="mt-2 text-gray-600">Introdu adresa de email pentru a primi un link de resetare</p>\n                    </div>\n                    <div id="forgot-success" class="hidden bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg"></div>\n                    <div id="forgot-error" class="hidden bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg"></div>\n                    <form id="forgot-form" class="space-y-6">\n                        <div>\n                            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>\n                            <input type="email" id="email" required\n                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">\n                        </div>\n                        <button type="submit" id="forgot-btn" class="w-full px-4 py-2 bg-primary text-white font-medium rounded-lg hover:bg-primary-dark transition">\n                            Trimite link de resetare\n                        </button>\n                    </form>\n                    <p class="text-center text-gray-600">\n                        <a href="/login" class="text-primary hover:text-blue-700 font-medium">← Înapoi la conectare</a>\n                    </p>\n                </div>\n            </div>\n        ';const t=document.getElementById("forgot-form");null==t||t.addEventListener("submit",async e=>{e.preventDefault();const t=document.getElementById("email").value,n=document.getElementById("forgot-error"),i=document.getElementById("forgot-success"),r=document.getElementById("forgot-btn");r.disabled=!0,r.textContent="Se trimite...",null==n||n.classList.add("hidden"),null==i||i.classList.add("hidden");try{const e=await this.postApi("/auth/forgot-password",{email:t});if(!e.success)throw new Error(e.message||"Eroare la trimitere");i&&(i.textContent="Dacă adresa de email există în sistem, vei primi un link de resetare.",i.classList.remove("hidden")),document.getElementById("email").value=""}catch(a){n&&(n.textContent=a.message||"Eroare la trimiterea emailului",n.classList.remove("hidden"))}finally{r.disabled=!1,r.textContent="Trimite link de resetare"}})}renderResetPassword(){if(this.isAuthenticated())return void this.navigate("/account");const e=this.getContentElement();if(!e)return;const t=new URLSearchParams(window.location.search),n=t.get("token"),i=t.get("email");if(!n||!i)return void(e.innerHTML='\n                <div class="min-h-[60vh] flex items-center justify-center px-4">\n                    <div class="text-center">\n                        <h1 class="text-2xl font-bold text-red-600 mb-4">Link invalid</h1>\n                        <p class="text-gray-600 mb-4">Linkul de resetare este invalid sau a expirat.</p>\n                        <a href="/forgot-password" class="text-primary hover:text-blue-700">Solicită un nou link</a>\n                    </div>\n                </div>\n            ');e.innerHTML='\n            <div class="min-h-[60vh] flex items-center justify-center px-4">\n                <div class="max-w-md w-full space-y-8">\n                    <div class="text-center">\n                        <h1 class="text-3xl font-bold text-gray-900">Setează parola nouă</h1>\n                        <p class="mt-2 text-gray-600">Introdu noua parolă pentru contul tău</p>\n                    </div>\n                    <div id="reset-error" class="hidden bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg"></div>\n                    <form id="reset-form" class="space-y-6">\n                        <div>\n                            <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Parolă nouă</label>\n                            <input type="password" id="password" required minlength="8"\n                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary">\n                            <div id="password-strength" class="mt-2">\n                                <div class="flex gap-1 mb-1">\n                                    <div id="strength-bar-1" class="h-1 flex-1 rounded bg-gray-200"></div>\n                                    <div id="strength-bar-2" class="h-1 flex-1 rounded bg-gray-200"></div>\n                                    <div id="strength-bar-3" class="h-1 flex-1 rounded bg-gray-200"></div>\n                                    <div id="strength-bar-4" class="h-1 flex-1 rounded bg-gray-200"></div>\n                                </div>\n                                <p id="strength-text" class="text-xs text-gray-500"></p>\n                            </div>\n                        </div>\n                        <div>\n                            <label for="password_confirmation" class="block text-sm font-medium text-gray-700 mb-1">Confirmă parola</label>\n                            <input type="password" id="password_confirmation" required\n                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary">\n                            <p id="password-match" class="mt-1 text-xs hidden"></p>\n                        </div>\n                        <button type="submit" id="reset-btn" class="w-full px-4 py-2 bg-primary text-white font-medium rounded-lg hover:bg-primary-dark transition">\n                            Resetează parola\n                        </button>\n                    </form>\n                </div>\n            </div>\n        ';const r=document.getElementById("password"),a=document.getElementById("password_confirmation"),s=document.getElementById("strength-text"),o=document.getElementById("password-match"),l=[document.getElementById("strength-bar-1"),document.getElementById("strength-bar-2"),document.getElementById("strength-bar-3"),document.getElementById("strength-bar-4")],d=()=>{const e=(null==r?void 0:r.value)||"",t=(null==a?void 0:a.value)||"";if(!t)return null==o||o.classList.add("hidden"),void(null==a||a.classList.remove("border-red-300","border-green-300"));null==o||o.classList.remove("hidden"),e===t?(o&&(o.textContent="✓ Parolele coincid",o.className="mt-1 text-xs text-green-600"),null==a||a.classList.remove("border-red-300"),null==a||a.classList.add("border-green-300")):(o&&(o.textContent="✗ Parolele nu coincid",o.className="mt-1 text-xs text-red-600"),null==a||a.classList.remove("border-green-300"),null==a||a.classList.add("border-red-300"))};null==r||r.addEventListener("input",()=>{(()=>{const e=(null==r?void 0:r.value)||"";if(!e)return l.forEach(e=>{const t=Array.from((null==e?void 0:e.classList)||[]).find(e=>e.startsWith("bg-"));t&&e&&e.classList.replace(t,"bg-gray-200")}),void(s&&(s.textContent=""));const{score:t,text:n,color:i}=(e=>{let t=0;return e.length>=8&&t++,e.length>=12&&t++,/[A-Z]/.test(e)&&t++,/[a-z]/.test(e)&&t++,/[0-9]/.test(e)&&t++,/[^A-Za-z0-9]/.test(e)&&t++,t<=2?{score:1,text:"Foarte slabă",color:"bg-red-500"}:t<=3?{score:2,text:"Slabă",color:"bg-orange-500"}:t<=4?{score:3,text:"Medie",color:"bg-yellow-500"}:t<=5?{score:4,text:"Puternică",color:"bg-green-500"}:{score:4,text:"Foarte puternică",color:"bg-green-600"}})(e);l.forEach((e,n)=>{if(e){const r=Array.from(e.classList).find(e=>e.startsWith("bg-"));r&&e.classList.remove(r),e.classList.add(n<t?i:"bg-gray-200")}}),s&&(s.textContent=n,s.className=`text-xs ${i.replace("bg-","text-")}`)})(),d()}),null==a||a.addEventListener("input",d);const c=document.getElementById("reset-form");null==c||c.addEventListener("submit",async e=>{e.preventDefault();const t=r.value,s=a.value,o=document.getElementById("reset-error"),l=document.getElementById("reset-btn");if(t===s){l.disabled=!0,l.textContent="Se resetează...",null==o||o.classList.add("hidden");try{const e=await this.postApi("/auth/reset-password",{token:n,email:i,password:t,password_confirmation:s});if(!e.success)throw new Error(e.message||"Eroare la resetare");$.show("✓ Parola a fost resetată cu succes!","success"),this.navigate("/login")}catch(d){o&&(o.textContent=d.message||"Eroare la resetarea parolei",o.classList.remove("hidden")),l.disabled=!1,l.textContent="Resetează parola"}}else o&&(o.textContent="Parolele nu coincid",o.classList.remove("hidden"))})}renderAccount(){if(!this.isAuthenticated())return void this.navigate("/login");const e=this.getContentElement();if(!e)return;const t=this.getUser(),n=(null==t?void 0:t.full_name)||(null==t?void 0:t.first_name)||"Utilizator";e.innerHTML=`\n            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <div class="flex justify-between items-center mb-8">\n                    <div>\n                        <h1 class="text-3xl font-bold text-gray-900">Contul meu</h1>\n                        <p class="text-gray-600">Bun venit, ${(null==n?void 0:n.split(" ")[0])||n}!</p>\n                    </div>\n                    <button id="logout-btn" class="px-4 py-2 text-red-600 hover:text-red-700 font-medium">\n                        Deconectare\n                    </button>\n                </div>\n                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">\n                    <a href="/account/orders" class="block p-6 bg-white rounded-lg shadow hover:shadow-md transition">\n                        <div class="text-primary mb-3">\n                            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>\n                            </svg>\n                        </div>\n                        <h3 class="text-lg font-semibold text-gray-900">Comenzile mele</h3>\n                        <p class="text-gray-600 text-sm">Vezi istoricul comenzilor</p>\n                    </a>\n                    <a href="/account/tickets" class="block p-6 bg-white rounded-lg shadow hover:shadow-md transition">\n                        <div class="text-primary mb-3">\n                            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"/>\n                            </svg>\n                        </div>\n                        <h3 class="text-lg font-semibold text-gray-900">Biletele mele</h3>\n                        <p class="text-gray-600 text-sm">Accesează biletele tale</p>\n                    </a>\n                    <a href="/account/watchlist" class="block p-6 bg-white rounded-lg shadow hover:shadow-md transition">\n                        <div class="text-primary mb-3">\n                            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>\n                            </svg>\n                        </div>\n                        <h3 class="text-lg font-semibold text-gray-900">Evenimente favorite</h3>\n                        <p class="text-gray-600 text-sm">Vezi watchlist-ul tău</p>\n                    </a>\n                    <a href="/account/profile" class="block p-6 bg-white rounded-lg shadow hover:shadow-md transition">\n                        <div class="text-primary mb-3">\n                            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>\n                            </svg>\n                        </div>\n                        <h3 class="text-lg font-semibold text-gray-900">Profil</h3>\n                        <p class="text-gray-600 text-sm">Editează datele tale</p>\n                    </a>\n                </div>\n            </div>\n        `;const i=document.getElementById("logout-btn");null==i||i.addEventListener("click",async()=>{try{await this.postApi("/auth/logout",{})}catch{}this.clearAuthState(),this.navigate("/")})}async renderOrders(){const e=this.getContentElement();if(e){e.innerHTML='\n            <div class="max-w-4xl mx-auto px-4 py-6 md:py-8">\n                <a href="/account" class="inline-flex items-center text-gray-600 hover:text-gray-900 mb-4 md:mb-6 text-sm">\n                    <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>\n                    </svg>\n                    Înapoi\n                </a>\n                <h1 class="text-2xl md:text-3xl font-bold text-gray-900 mb-4 md:mb-6">Comenzile Mele</h1>\n                <div id="orders-list" class="space-y-3">\n                    <div class="animate-pulse bg-gray-200 rounded-lg h-20"></div>\n                    <div class="animate-pulse bg-gray-200 rounded-lg h-20"></div>\n                </div>\n            </div>\n        ';try{const e=(await this.fetchApi("/account/orders")).data,t=document.getElementById("orders-list");t&&(e&&e.length>0?t.innerHTML=e.map(e=>`\n                        <a href="/account/orders/${e.id}" class="block bg-white rounded-lg shadow p-4 md:p-5 hover:shadow-lg transition">\n                            <div class="flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2 mb-3">\n                                <div>\n                                    <h3 class="text-sm md:text-base font-semibold text-gray-900">${e.order_number}</h3>\n                                    <p class="text-xs md:text-sm text-gray-500">${e.date}</p>\n                                </div>\n                                <div class="flex items-center gap-2 sm:flex-col sm:items-end">\n                                    <span class="text-base md:text-lg font-bold text-gray-900">${e.total} ${e.currency}</span>\n                                    <span class="inline-block px-2 py-0.5 text-[10px] md:text-xs font-medium rounded-full ${"paid"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"cancelled"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}">\n                                        ${e.status_label}\n                                    </span>\n                                </div>\n                            </div>\n                            <div class="border-t pt-3">\n                                <p class="text-xs md:text-sm text-gray-600 mb-1.5">${e.items_count} bilet${e.items_count>1?"e":""}</p>\n                                <div class="space-y-0.5">\n                                    ${e.tickets.slice(0,2).map(e=>`\n                                        <p class="text-xs md:text-sm text-gray-600 truncate">• ${e.event_name} - ${e.ticket_type} ${e.quantity>1?`(×${e.quantity})`:""}</p>\n                                    `).join("")}\n                                    ${e.tickets.length>2?`<p class="text-xs text-gray-400">+${e.tickets.length-2} mai multe...</p>`:""}\n                                </div>\n                            </div>\n                            <div class="mt-3 pt-3 border-t flex justify-end">\n                                <span class="text-xs md:text-sm text-primary hover:text-primary-dark font-medium inline-flex items-center">\n                                    Vezi detalii\n                                    <svg class="w-3.5 h-3.5 md:w-4 md:h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>\n                                    </svg>\n                                </span>\n                            </div>\n                        </a>\n                    `).join(""):t.innerHTML='\n                        <div class="bg-white rounded-lg shadow p-8 text-center">\n                            <svg class="w-16 h-16 mx-auto text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>\n                            </svg>\n                            <p class="text-gray-600">Nu ai comenzi încă</p>\n                        </div>\n                    ')}catch(t){const e=document.getElementById("orders-list");e&&(e.innerHTML='\n                    <div class="bg-red-50 border border-red-200 rounded-lg p-6 text-center">\n                        <p class="text-red-700">Eroare la încărcarea comenzilor</p>\n                    </div>\n                ')}}}async renderTickets(){const e=this.getContentElement();if(e){e.innerHTML='\n            <div class="max-w-4xl mx-auto px-4 py-6 md:py-8">\n                <a href="/account" class="inline-flex items-center text-gray-600 hover:text-gray-900 mb-4 md:mb-6 text-sm">\n                    <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>\n                    </svg>\n                    Înapoi\n                </a>\n                <h1 class="text-2xl md:text-3xl font-bold text-gray-900 mb-4 md:mb-6">Biletele Mele</h1>\n                <div id="tickets-list" class="space-y-3">\n                    <div class="animate-pulse bg-gray-200 rounded-lg h-24"></div>\n                    <div class="animate-pulse bg-gray-200 rounded-lg h-24"></div>\n                </div>\n            </div>\n        ';try{const e=(await this.fetchApi("/account/tickets")).data,t=document.getElementById("tickets-list");t&&(e&&e.length>0?(t.innerHTML=`\n                        <div class="bg-white rounded-lg shadow overflow-hidden">\n                            <div class="divide-y divide-gray-100">\n                                ${e.map(e=>{var t,n,i;return`\n                                    <div class="p-3 md:p-4 hover:bg-gray-50 transition">\n                                        <div class="flex items-start gap-3 md:gap-4">\n                                            <img src="${e.qr_code}" alt="QR" class="w-14 h-14 md:w-16 md:h-16 border border-gray-200 rounded flex-shrink-0">\n                                            <div class="flex-1 min-w-0">\n                                                <div class="flex flex-wrap items-center gap-1.5 md:gap-2 mb-1">\n                                                    <h3 class="font-semibold text-gray-900 text-sm md:text-base line-clamp-1">${e.event_name}</h3>\n                                                    <span class="inline-block px-1.5 md:px-2 py-0.5 text-[10px] md:text-xs font-medium rounded-full whitespace-nowrap ${"valid"===e.status||"pending"===e.status?"bg-green-100 text-green-700":"used"===e.status?"bg-blue-100 text-blue-700":"cancelled"===e.status?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}">${e.status_label}</span>\n                                                </div>\n                                                <div class="text-xs md:text-sm text-gray-600 space-y-0.5">\n                                                    <p>${e.ticket_type}</p>\n                                                    ${e.date?`<p>${new Date(e.date).toLocaleDateString("ro-RO",{day:"numeric",month:"short",year:"numeric"})}</p>`:""}\n                                                    ${e.venue?`<p class="truncate">📍 ${e.venue}</p>`:""}\n                                                    ${e.seat_label?`<p>💺 ${e.seat_label}</p>`:""}\n                                                </div>\n                                                ${(null==(t=e.beneficiary)?void 0:t.name)?`\n                                                    <p class="text-xs text-gray-500 mt-1">👤 ${e.beneficiary.name}</p>\n                                                `:""}\n                                            </div>\n                                        </div>\n                                        <div class="mt-3 flex items-center justify-between">\n                                            <p class="text-[10px] md:text-xs text-gray-400 font-mono">${e.code}</p>\n                                            <button\n                                                class="view-ticket-btn bg-primary text-white px-3 md:px-4 py-1.5 md:py-2 rounded-lg hover:bg-primary-dark transition text-xs md:text-sm font-medium"\n                                            data-ticket-id="${e.id}"\n                                            data-ticket-code="${e.code}"\n                                            data-ticket-qr="${e.qr_code}"\n                                            data-event-name="${e.event_name||""}"\n                                            data-ticket-type="${e.ticket_type||""}"\n                                            data-date="${e.date||""}"\n                                            data-venue="${e.venue||""}"\n                                            data-seat="${e.seat_label||""}"\n                                            data-status="${e.status||""}"\n                                            data-status-label="${e.status_label||""}"\n                                            data-beneficiary-name="${(null==(n=e.beneficiary)?void 0:n.name)||""}"\n                                                data-beneficiary-email="${(null==(i=e.beneficiary)?void 0:i.email)||""}">\n                                                Detalii\n                                            </button>\n                                        </div>\n                                    </div>\n                                `}).join("")}\n                            </div>\n                        </div>\n                    `,document.querySelectorAll(".view-ticket-btn").forEach(e=>{e.addEventListener("click",e=>{const t=e.currentTarget,n={id:t.dataset.ticketId||"",code:t.dataset.ticketCode||"",qr_code:t.dataset.ticketQr||"",event_name:t.dataset.eventName||"",ticket_type:t.dataset.ticketType||"",date:t.dataset.date||"",venue:t.dataset.venue||"",seat_label:t.dataset.seat||"",status:t.dataset.status||"",status_label:t.dataset.statusLabel||"",beneficiary:{name:t.dataset.beneficiaryName||"",email:t.dataset.beneficiaryEmail||""}};this.showTicketDetailModal(n)})})):t.innerHTML='\n                        <div class="col-span-2 bg-white rounded-lg shadow p-8 text-center">\n                            <svg class="w-16 h-16 mx-auto text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"/>\n                            </svg>\n                            <p class="text-gray-600">Nu ai bilete încă</p>\n                        </div>\n                    ')}catch(t){const e=document.getElementById("tickets-list");e&&(e.innerHTML='\n                    <div class="col-span-2 bg-red-50 border border-red-200 rounded-lg p-6 text-center">\n                        <p class="text-red-700">Eroare la încărcarea biletelor</p>\n                    </div>\n                ')}}}async renderOrderDetail(e){var t;const n=this.getContentElement();if(n){n.innerHTML='\n            <div class="max-w-4xl mx-auto px-4 py-6 md:py-8">\n                <a href="/account/orders" class="inline-flex items-center text-gray-600 hover:text-gray-900 mb-4 md:mb-6 text-sm">\n                    <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>\n                    </svg>\n                    Înapoi\n                </a>\n                <div id="order-detail-container">\n                    <div class="animate-pulse space-y-4">\n                        <div class="bg-gray-200 h-8 w-1/3 rounded"></div>\n                        <div class="bg-gray-200 h-48 rounded-lg"></div>\n                    </div>\n                </div>\n            </div>\n        ';try{const n=(await this.fetchApi(`/account/orders/${e.id}`)).data,i=document.getElementById("order-detail-container");i&&(i.innerHTML=`\n                    <h1 class="text-xl md:text-2xl font-bold text-gray-900 mb-4 md:mb-6">Comanda ${n.order_number}</h1>\n\n                    <div class="bg-white rounded-lg shadow p-4 md:p-6 mb-4 md:mb-6">\n                        <div class="grid grid-cols-2 gap-3 md:gap-4">\n                            <div>\n                                <p class="text-xs md:text-sm text-gray-500">Status</p>\n                                <span class="inline-block mt-1 px-2 md:px-3 py-0.5 md:py-1 text-[10px] md:text-xs font-medium rounded-full ${"paid"===n.status?"bg-green-100 text-green-800":"pending"===n.status?"bg-yellow-100 text-yellow-800":"cancelled"===n.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}">\n                                    ${n.status_label||n.status}\n                                </span>\n                            </div>\n                            <div>\n                                <p class="text-xs md:text-sm text-gray-500">Data</p>\n                                <p class="text-sm md:text-base font-medium text-gray-900">${n.date}</p>\n                            </div>\n                            <div>\n                                <p class="text-xs md:text-sm text-gray-500">Plată</p>\n                                <p class="text-sm md:text-base font-medium text-gray-900">${(null==(t=n.meta)?void 0:t.payment_method)||"Card"}</p>\n                            </div>\n                            <div>\n                                <p class="text-xs md:text-sm text-gray-500">Total</p>\n                                <p class="text-base md:text-lg font-bold text-primary">${n.total} ${n.currency||"RON"}</p>\n                            </div>\n                        </div>\n                    </div>\n\n                    <h2 class="text-base md:text-lg font-semibold text-gray-900 mb-3">Bilete (${n.items_count})</h2>\n                    <div class="space-y-4">\n                        ${(n.events||[]).map(e=>{var t,i;return`\n                            <div class="bg-white rounded-lg shadow overflow-hidden">\n                                <div class="bg-gray-50 p-3 md:p-4 border-b">\n                                    <h3 class="font-semibold text-gray-900 text-sm md:text-base">${(null==(t=e.event)?void 0:t.title)||"Eveniment"}</h3>\n                                    ${e.venue?`\n                                        <p class="text-xs md:text-sm text-gray-600">${e.venue.name}${e.venue.city?`, ${e.venue.city}`:""}</p>\n                                    `:""}\n                                    ${(null==(i=e.event)?void 0:i.date)?`\n                                        <p class="text-xs md:text-sm text-gray-500">${new Date(e.event.date).toLocaleDateString("ro-RO",{day:"numeric",month:"short",year:"numeric"})}${e.event.time?` • ${e.event.time}`:""}</p>\n                                    `:""}\n                                </div>\n                                <div class="divide-y">\n                                    ${(e.tickets||[]).map(e=>`\n                                        <div class="p-3 md:p-4 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2">\n                                            <div class="flex-1">\n                                                <p class="font-medium text-gray-900">${e.ticket_type}</p>\n                                                ${e.seat_label?`<p class="text-sm text-gray-600">💺 Loc: ${e.seat_label}</p>`:""}\n                                                <p class="text-xs text-gray-500 font-mono mt-1">${e.code}</p>\n                                            </div>\n                                            <div class="text-right">\n                                                <span class="inline-block px-2 py-1 text-xs rounded-full ${"valid"===e.status?"bg-green-100 text-green-700":"used"===e.status?"bg-gray-100 text-gray-700":"bg-red-100 text-red-700"}">${e.status_label||e.status}</span>\n                                                ${e.price?`<p class="font-medium mt-1">${e.price} ${e.currency||n.currency||"RON"}</p>`:""}\n                                            </div>\n                                        </div>\n                                    `).join("")}\n                                </div>\n                            </div>\n                        `}).join("")}\n                    </div>\n\n                    ${n.meta?`\n                        <h2 class="text-xl font-semibold text-gray-900 mt-8 mb-4">Informații client</h2>\n                        <div class="bg-white rounded-lg shadow p-6">\n                            <div class="grid grid-cols-2 gap-4">\n                                <div>\n                                    <p class="text-sm text-gray-500">Nume</p>\n                                    <p class="font-medium">${n.meta.customer_name||"-"}</p>\n                                </div>\n                                <div>\n                                    <p class="text-sm text-gray-500">Email</p>\n                                    <p class="font-medium">${n.meta.customer_email||"-"}</p>\n                                </div>\n                            </div>\n                        </div>\n                    `:""}\n                `)}catch(i){const e=document.getElementById("order-detail-container");e&&(e.innerHTML='\n                    <div class="bg-red-50 border border-red-200 rounded-lg p-6 text-center">\n                        <p class="text-red-700">Eroare la încărcarea comenzii</p>\n                    </div>\n                ')}}}renderMyEvents(){const e=this.getContentElement();e&&(e.innerHTML='\n            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <a href="/account" class="inline-flex items-center text-gray-600 hover:text-gray-900 mb-6">\n                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>\n                    </svg>\n                    Back to Account\n                </a>\n                <h1 class="text-3xl font-bold text-gray-900 mb-2">My Events</h1>\n                <p class="text-gray-600 mb-8">Upcoming events you have tickets for</p>\n                <div id="my-events-list" class="space-y-4">\n                    <div class="animate-pulse bg-gray-200 rounded-lg h-32"></div>\n                    <div class="animate-pulse bg-gray-200 rounded-lg h-32"></div>\n                </div>\n            </div>\n        ')}async renderWatchlist(){const e=this.getContentElement();if(e)try{const t=await this.fetchApi("/account/watchlist"),n=t.data.length>0?t.data.map(e=>`\n                <div class="bg-white rounded-lg shadow overflow-hidden">\n                    <div class="md:flex">\n                        <div class="md:w-48 h-48 md:h-auto">\n                            ${e.poster_url?`<img src="${e.poster_url}" alt="${e.title}" class="w-full h-full object-cover">`:'<div class="w-full h-full bg-gray-200 flex items-center justify-center">\n                                    <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>\n                                    </svg>\n                                </div>'}\n                        </div>\n                        <div class="p-6 flex-1">\n                            <div class="flex justify-between items-start">\n                                <div>\n                                    <h3 class="text-xl font-bold text-gray-900 mb-2">${e.title}</h3>\n                                    <div class="space-y-1 text-sm text-gray-600">\n                                        <p>\n                                            <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>\n                                            </svg>\n                                            ${new Date(e.start_date).toLocaleDateString("ro-RO",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}\n                                            ${e.start_time?` • ${e.start_time}`:""}\n                                        </p>\n                                        ${e.venue?`\n                                            <p>\n                                                <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>\n                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>\n                                                </svg>\n                                                ${e.venue.name}${e.venue.city?`, ${e.venue.city}`:""}\n                                            </p>\n                                        `:""}\n                                        <p class="text-primary font-semibold">\n                                            ${e.is_sold_out?"Sold Out":`De la ${e.price_from} ${e.currency}`}\n                                        </p>\n                                    </div>\n                                </div>\n                                <button class="remove-watchlist-btn text-red-600 hover:text-red-700 p-2" data-event-id="${e.id}">\n                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>\n                                    </svg>\n                                </button>\n                            </div>\n                            <div class="mt-4 flex gap-3">\n                                <a href="/event/${e.slug}" class="inline-block px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition">\n                                    Vezi detalii\n                                </a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            `).join(""):'\n                <div class="text-center py-16">\n                    <svg class="w-24 h-24 mx-auto text-gray-300 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>\n                    </svg>\n                    <h2 class="text-2xl font-bold text-gray-900 mb-2">Niciun eveniment în watchlist</h2>\n                    <p class="text-gray-600 mb-6">Adaugă evenimente favorite pentru a le urmări</p>\n                    <a href="/events" class="inline-block px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition">\n                        Explorează evenimente\n                    </a>\n                </div>\n            ';e.innerHTML=`\n                <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                    <div class="flex justify-between items-center mb-8">\n                        <div>\n                            <h1 class="text-3xl font-bold text-gray-900">Evenimente favorite</h1>\n                            <p class="text-gray-600">Evenimente pe care le urmărești</p>\n                        </div>\n                        <a href="/account" class="text-primary hover:text-primary-dark font-medium">← Înapoi la cont</a>\n                    </div>\n\n                    <div class="space-y-4">\n                        ${n}\n                    </div>\n                </div>\n            `,document.querySelectorAll(".remove-watchlist-btn").forEach(e=>{e.addEventListener("click",async e=>{const t=e.currentTarget.dataset.eventId;if(confirm("Sigur vrei să ștergi acest eveniment din watchlist?"))try{await this.deleteApi(`/account/watchlist/${t}`),$.show("✓ Eveniment șters din watchlist","success"),this.renderWatchlist()}catch(n){$.show("Eroare la ștergerea evenimentului","error")}})})}catch(t){e.innerHTML='\n                <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16 text-center">\n                    <p class="text-red-600">Eroare la încărcarea watchlist-ului</p>\n                </div>\n            '}}async renderProfile(){const e=this.getContentElement();if(e){e.innerHTML='\n            <div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <a href="/account" class="inline-flex items-center text-gray-600 hover:text-gray-900 mb-6">\n                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>\n                    </svg>\n                    Înapoi la Cont\n                </a>\n                <h1 class="text-3xl font-bold text-gray-900 mb-8">Profilul Meu</h1>\n                <div id="profile-form" class="bg-white rounded-lg shadow p-6">\n                    <div class="animate-pulse space-y-4">\n                        <div class="bg-gray-200 h-10 rounded"></div>\n                        <div class="bg-gray-200 h-10 rounded"></div>\n                        <div class="bg-gray-200 h-10 rounded"></div>\n                        <div class="bg-gray-200 h-10 w-1/3 rounded"></div>\n                    </div>\n                </div>\n            </div>\n        ';try{const e=(await this.fetchApi("/account/profile")).data,t=document.getElementById("profile-form");if(t){t.innerHTML=`\n                    <form id="update-profile-form" class="space-y-6">\n                        <div id="profile-message"></div>\n\n                        <div>\n                            <label for="first_name" class="block text-sm font-medium text-gray-700 mb-2">Prenume</label>\n                            <input type="text" id="first_name" name="first_name" value="${e.first_name||""}"\n                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">\n                        </div>\n\n                        <div>\n                            <label for="last_name" class="block text-sm font-medium text-gray-700 mb-2">Nume</label>\n                            <input type="text" id="last_name" name="last_name" value="${e.last_name||""}"\n                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">\n                        </div>\n\n                        <div>\n                            <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email</label>\n                            <input type="email" id="email" value="${e.email||""}" disabled\n                                class="w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500">\n                        </div>\n\n                        <div>\n                            <label for="phone" class="block text-sm font-medium text-gray-700 mb-2">Telefon</label>\n                            <input type="tel" id="phone" name="phone" value="${e.phone||""}"\n                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">\n                        </div>\n\n                        <div>\n                            <label for="city" class="block text-sm font-medium text-gray-700 mb-2">Oraș</label>\n                            <input type="text" id="city" name="city" value="${e.city||""}"\n                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">\n                        </div>\n\n                        <div>\n                            <label for="country" class="block text-sm font-medium text-gray-700 mb-2">Țară</label>\n                            <input type="text" id="country" name="country" value="${e.country||""}"\n                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">\n                        </div>\n\n                        <div>\n                            <label for="date_of_birth" class="block text-sm font-medium text-gray-700 mb-2">Data Nașterii</label>\n                            <input type="date" id="date_of_birth" name="date_of_birth" value="${e.date_of_birth||""}"\n                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">\n                        </div>\n\n                        <div class="border-t pt-6">\n                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Schimbă Parola</h3>\n\n                            <div class="space-y-4">\n                                <div>\n                                    <label for="current_password" class="block text-sm font-medium text-gray-700 mb-2">Parola Curentă</label>\n                                    <input type="password" id="current_password" name="current_password"\n                                        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">\n                                </div>\n\n                                <div>\n                                    <label for="new_password" class="block text-sm font-medium text-gray-700 mb-2">Parola Nouă</label>\n                                    <input type="password" id="new_password" name="new_password"\n                                        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">\n                                </div>\n\n                                <div>\n                                    <label for="new_password_confirmation" class="block text-sm font-medium text-gray-700 mb-2">Confirmă Parola Nouă</label>\n                                    <input type="password" id="new_password_confirmation" name="new_password_confirmation"\n                                        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">\n                                </div>\n                            </div>\n                        </div>\n\n                        <button type="submit" class="w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-700 transition">\n                            Salvează Modificările\n                        </button>\n\n                        <div class="border-t pt-6 mt-6">\n                            <h3 class="text-lg font-semibold text-gray-900 mb-2">Zona Periculoasă</h3>\n                            <p class="text-sm text-gray-600 mb-4">Odată ce îți ștergi contul, nu mai există cale de întoarcere. Te rog fii sigur.</p>\n                            <button type="button" id="delete-account-btn" class="w-full bg-red-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-red-700 transition">\n                                Șterge Contul\n                            </button>\n                        </div>\n                    </form>\n                `;const n=document.getElementById("update-profile-form");n&&n.addEventListener("submit",async e=>{e.preventDefault();const t=document.getElementById("profile-message");try{const e=new FormData(n),i={};e.forEach((e,t)=>{e&&(i[t]=e)});const r=await this.fetchApi("/account/profile",{},{method:"PUT",body:JSON.stringify(i)});t&&(t.innerHTML=`\n                                    <div class="bg-green-50 border border-green-200 rounded-lg p-4 mb-4">\n                                        <p class="text-green-700">${r.message||"Profil actualizat cu succes!"}</p>\n                                    </div>\n                                `),document.getElementById("current_password").value="",document.getElementById("new_password").value="",document.getElementById("new_password_confirmation").value=""}catch(i){t&&(t.innerHTML=`\n                                    <div class="bg-red-50 border border-red-200 rounded-lg p-4 mb-4">\n                                        <p class="text-red-700">${i.message||"Eroare la actualizarea profilului"}</p>\n                                    </div>\n                                `)}});const i=document.getElementById("delete-account-btn");i&&i.addEventListener("click",async()=>{if(!confirm("Ești absolut sigur că vrei să îți ștergi contul? Această acțiune NU poate fi anulată!"))return;if(confirm("Confirmă din nou: Toate datele tale, comenzile și biletele vor fi șterse permanent. Vrei să continui?"))try{await this.deleteApi("/account/delete"),alert("Contul tău a fost șters cu succes."),this.clearAuthState(),this.navigate("/")}catch(e){alert(e.message||"Eroare la ștergerea contului")}})}}catch(t){const e=document.getElementById("profile-form");e&&(e.innerHTML='\n                    <div class="bg-red-50 border border-red-200 rounded-lg p-6 text-center">\n                        <p class="text-red-700">Eroare la încărcarea profilului</p>\n                    </div>\n                ')}}}renderThankYou(e){const t=this.getContentElement();t&&(t.innerHTML=`\n            <div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-16 text-center">\n                <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">\n                    <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>\n                    </svg>\n                </div>\n                <h1 class="text-3xl font-bold text-gray-900 mb-4">Thank You!</h1>\n                <p class="text-gray-600 mb-8">Your order has been confirmed. Check your email for tickets.</p>\n                <div id="order-confirmation-${e.orderNumber}" class="bg-gray-50 rounded-lg p-6 text-left mb-8">\n                    <div class="animate-pulse space-y-3">\n                        <div class="bg-gray-200 h-4 w-1/2 rounded"></div>\n                        <div class="bg-gray-200 h-4 w-3/4 rounded"></div>\n                    </div>\n                </div>\n                <a href="/account/tickets" class="inline-flex items-center px-6 py-3 bg-primary text-white font-medium rounded-lg hover:bg-primary-dark transition">\n                    View My Tickets\n                </a>\n            </div>\n        `)}async renderTerms(){const e=this.getContentElement();if(e){e.innerHTML='\n            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <div class="animate-pulse space-y-4">\n                    <div class="bg-gray-200 h-8 w-1/3 rounded"></div>\n                    <div class="bg-gray-200 h-4 w-full rounded"></div>\n                    <div class="bg-gray-200 h-4 w-full rounded"></div>\n                    <div class="bg-gray-200 h-4 w-2/3 rounded"></div>\n                </div>\n            </div>\n        ';try{const t=await this.fetchApi("/pages/terms");e.innerHTML=`\n                <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                    <h1 class="text-3xl font-bold text-gray-900 mb-8">${t.data.title}</h1>\n                    <div class="prose max-w-none">\n                        ${t.data.content}\n                    </div>\n                </div>\n            `}catch(t){e.innerHTML='\n                <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                    <h1 class="text-3xl font-bold text-gray-900 mb-8">Terms & Conditions</h1>\n                    <p class="text-gray-600">Terms page not available.</p>\n                </div>\n            '}}}async renderPrivacy(){const e=this.getContentElement();if(e){e.innerHTML='\n            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <div class="animate-pulse space-y-4">\n                    <div class="bg-gray-200 h-8 w-1/3 rounded"></div>\n                    <div class="bg-gray-200 h-4 w-full rounded"></div>\n                    <div class="bg-gray-200 h-4 w-full rounded"></div>\n                    <div class="bg-gray-200 h-4 w-2/3 rounded"></div>\n                </div>\n            </div>\n        ';try{const t=await this.fetchApi("/pages/privacy");e.innerHTML=`\n                <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                    <h1 class="text-3xl font-bold text-gray-900 mb-8">${t.data.title}</h1>\n                    <div class="prose max-w-none">\n                        ${t.data.content}\n                    </div>\n                </div>\n            `}catch(t){e.innerHTML='\n                <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                    <h1 class="text-3xl font-bold text-gray-900 mb-8">Privacy Policy</h1>\n                    <p class="text-gray-600">Privacy page not available.</p>\n                </div>\n            '}}}async renderPastEvents(){var e;const t=this.getContentElement();if(t){t.innerHTML='\n            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <div id="past-events-container">\n                    <div class="animate-pulse space-y-6">\n                        <div class="bg-gray-200 h-10 w-1/4 rounded"></div>\n                        <div class="flex gap-4 mb-8">\n                            <div class="bg-gray-200 h-10 w-32 rounded"></div>\n                            <div class="bg-gray-200 h-10 w-40 rounded"></div>\n                        </div>\n                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">\n                            <div class="bg-gray-200 h-64 rounded-lg"></div>\n                            <div class="bg-gray-200 h-64 rounded-lg"></div>\n                            <div class="bg-gray-200 h-64 rounded-lg"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ';try{const t=await this.fetchApi("/events/past"),n=(null==(e=t.data)?void 0:e.events)||t.data||[],i=document.getElementById("past-events-container");if(!i)return;if(0===n.length)return void(i.innerHTML='\n                    <h1 class="text-3xl font-bold text-gray-900 mb-8">Evenimente trecute</h1>\n                    <p class="text-gray-500">Nu există evenimente trecute.</p>\n                ');const r=this.groupEventsByMonth(n);i.innerHTML=`\n                <h1 class="text-3xl font-bold text-gray-900 mb-8">Evenimente trecute</h1>\n                ${this.renderPastEventsByMonth(r)}\n            `}catch(n){const e=document.getElementById("past-events-container");e&&(e.innerHTML='\n                    <h1 class="text-3xl font-bold text-gray-900 mb-8">Evenimente trecute</h1>\n                    <p class="text-red-500">Nu s-au putut încărca evenimentele trecute.</p>\n                ')}}}groupEventsByMonth(e){const t=new Map;return e.forEach(e=>{const n=new Date(e.start_date||e.event_date),i=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}`;t.has(i)||t.set(i,[]),t.get(i).push(e)}),new Map([...t.entries()].sort((e,t)=>t[0].localeCompare(e[0])))}renderPastEventsByMonth(e){const t=["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"];let n="";return e.forEach((e,i)=>{const[r,a]=i.split("-"),s=t[parseInt(a)-1];n+=`\n                <div class="mb-10">\n                    <h2 class="text-xl font-semibold text-gray-700 mb-4 pb-2 border-b-2 border-gray-200">\n                        ${s} ${r}\n                    </h2>\n                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">\n                        ${e.map(e=>this.renderPastEventCard(e)).join("")}\n                    </div>\n                </div>\n            `}),n}renderPastEventCard(e){var t;const n=new Date(e.start_date||e.event_date).toLocaleDateString("ro-RO",{weekday:"short",day:"numeric",month:"short",year:"numeric"}),i=e.poster_url||e.hero_image_url||e.image;return`\n            <a href="${`/event/${e.slug}`}" class="block bg-white rounded-lg shadow-sm border overflow-hidden opacity-90 hover:opacity-100 hover:shadow-md transition cursor-pointer">\n                ${i?`<div class="relative">\n                        <img src="${i}" alt="${e.title}" class="w-full h-40 object-cover" style="filter: grayscale(30%);">\n                        <span class="absolute top-2 right-2 bg-gray-700 text-white text-xs px-2 py-1 rounded">Încheiat</span>\n                       </div>`:'<div class="relative h-40 bg-gray-200 flex items-center justify-center">\n                        <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>\n                        </svg>\n                        <span class="absolute top-2 right-2 bg-gray-700 text-white text-xs px-2 py-1 rounded">Încheiat</span>\n                       </div>'}\n                <div class="p-4">\n                    <h3 class="font-semibold text-gray-900 mb-1 truncate">${e.title}</h3>\n                    <p class="text-sm text-gray-500">${n}</p>\n                    ${(null==(t=e.venue)?void 0:t.name)?`<p class="text-sm text-gray-400">${e.venue.name}</p>`:""}\n                </div>\n            </a>\n        `}async renderPage(e){var t;const n=this.getContentElement();if(n){n.innerHTML='\n            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <div class="animate-pulse space-y-4">\n                    <div class="bg-gray-200 h-8 w-1/3 rounded"></div>\n                    <div class="bg-gray-200 h-4 w-full rounded"></div>\n                    <div class="bg-gray-200 h-4 w-full rounded"></div>\n                    <div class="bg-gray-200 h-4 w-2/3 rounded"></div>\n                </div>\n            </div>\n        ';try{const i=await this.fetchApi(`/pages/${e.slug}`);if("builder"===i.data.page_type&&(null==(t=i.data.layout)?void 0:t.blocks))return n.innerHTML='<div id="page-content"></div>',m.updateLayout(i.data.layout,"page-content"),void(u.isActive()&&u.onLayoutUpdate(e=>{m.updateLayout(e,"page-content")}));n.innerHTML=`\n                <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                    <h1 class="text-3xl font-bold text-gray-900 mb-8">${i.data.title}</h1>\n                    <div class="prose max-w-none">\n                        ${i.data.content}\n                    </div>\n                </div>\n            `}catch(i){this.render404()}}}async renderBlog(){var e,t,n,i;const r=this.getContentElement();if(r){r.innerHTML=`\n            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-8">Blog</h1>\n                <div id="blog-list">\n                    <div class="animate-pulse space-y-6">\n                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">\n                            ${[1,2,3].map(()=>'\n                                <div class="bg-white dark:bg-gray-800 rounded-xl overflow-hidden">\n                                    <div class="bg-gray-200 dark:bg-gray-700 h-48"></div>\n                                    <div class="p-5 space-y-3">\n                                        <div class="bg-gray-200 dark:bg-gray-700 h-4 w-1/4 rounded"></div>\n                                        <div class="bg-gray-200 dark:bg-gray-700 h-6 w-3/4 rounded"></div>\n                                        <div class="bg-gray-200 dark:bg-gray-700 h-4 w-full rounded"></div>\n                                    </div>\n                                </div>\n                            ').join("")}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `;try{const i=await this.fetchApi("/blog"),r=(null==(e=i.data)?void 0:e.articles)||[];null==(t=i.data)||t.pagination;let s=[];try{s=(null==(n=(await this.fetchApi("/blog/categories")).data)?void 0:n.categories)||[]}catch(a){}const o=document.getElementById("blog-list");if(!o)return;if(0===r.length)return void(o.innerHTML='\n                    <div class="text-center py-12">\n                        <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/>\n                        </svg>\n                        <p class="mt-4 text-gray-500 dark:text-gray-400">No articles yet.</p>\n                    </div>\n                ');o.innerHTML=`\n                ${s.length>0?`\n                    <div class="mb-8 flex flex-wrap gap-2">\n                        <a href="/blog" class="px-4 py-2 rounded-full text-sm font-medium bg-primary-600 text-white">All</a>\n                        ${s.map(e=>`\n                            <a href="/blog?category=${e.slug}" class="px-4 py-2 rounded-full text-sm font-medium bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700">\n                                ${e.name} (${e.articles_count})\n                            </a>\n                        `).join("")}\n                    </div>\n                `:""}\n                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">\n                    ${r.map(e=>this.renderBlogCard(e)).join("")}\n                </div>\n            `}catch(s){const e=document.getElementById("blog-list");e&&(403===(null==(i=s.response)?void 0:i.status)?e.innerHTML='\n                        <div class="text-center py-12">\n                            <p class="text-gray-500 dark:text-gray-400">Blog is not available.</p>\n                        </div>\n                    ':e.innerHTML='\n                        <div class="text-center py-12">\n                            <p class="text-red-500">Failed to load blog. Please try again.</p>\n                        </div>\n                    ')}}}renderBlogCard(e){const t=e.published_at?new Date(e.published_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"";return`\n            <article class="bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-sm hover:shadow-lg transition-shadow border border-gray-100 dark:border-gray-700">\n                <a href="/blog/${e.slug}" class="block">\n                    ${e.featured_image?`<div class="aspect-[16/9] overflow-hidden">\n                            <img src="${e.featured_image}"\n                                 alt="${e.featured_image_alt||e.title}"\n                                 class="w-full h-full object-cover hover:scale-105 transition-transform duration-300">\n                           </div>`:'<div class="aspect-[16/9] bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center">\n                            <svg class="w-16 h-16 text-white/50" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/>\n                            </svg>\n                           </div>'}\n                </a>\n                <div class="p-5">\n                    ${e.category?`<span class="inline-block px-3 py-1 text-xs font-medium bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 rounded-full mb-3">${e.category}</span>`:""}\n                    <a href="/blog/${e.slug}" class="block group">\n                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors line-clamp-2 mb-2">\n                            ${e.title}\n                        </h3>\n                    </a>\n                    ${e.excerpt?`<p class="text-gray-600 dark:text-gray-400 text-sm line-clamp-2 mb-4">${e.excerpt}</p>`:""}\n                    <div class="flex items-center justify-between text-sm text-gray-500 dark:text-gray-400">\n                        <span>${t}</span>\n                        <span>${e.reading_time||1} min read</span>\n                    </div>\n                </div>\n            </article>\n        `}async renderBlogArticle(e){var t,n;const i=this.getContentElement();if(!i)return;const r=e.slug;i.innerHTML='\n            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <div class="animate-pulse space-y-6">\n                    <div class="bg-gray-200 dark:bg-gray-700 h-8 w-3/4 rounded"></div>\n                    <div class="bg-gray-200 dark:bg-gray-700 h-4 w-1/2 rounded"></div>\n                    <div class="bg-gray-200 dark:bg-gray-700 h-64 rounded-xl"></div>\n                    <div class="space-y-3">\n                        <div class="bg-gray-200 dark:bg-gray-700 h-4 w-full rounded"></div>\n                        <div class="bg-gray-200 dark:bg-gray-700 h-4 w-full rounded"></div>\n                        <div class="bg-gray-200 dark:bg-gray-700 h-4 w-2/3 rounded"></div>\n                    </div>\n                </div>\n            </div>\n        ';try{const e=await this.fetchApi(`/blog/${r}`),a=null==(t=e.data)?void 0:t.article,s=(null==(n=e.data)?void 0:n.related)||[];if(!a)return void this.render404();const o=a.published_at?new Date(a.published_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"";i.innerHTML=`\n                <article class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                    <header class="mb-8">\n                        ${a.category?`<a href="/blog?category=${a.category_slug}" class="inline-block px-3 py-1 text-sm font-medium bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 rounded-full mb-4 hover:bg-primary-200 dark:hover:bg-primary-900/50 transition-colors">${a.category}</a>`:""}\n                        <h1 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">${a.title}</h1>\n                        ${a.subtitle?`<p class="text-xl text-gray-600 dark:text-gray-400 mb-6">${a.subtitle}</p>`:""}\n                        <div class="flex flex-wrap items-center gap-4 text-sm text-gray-500 dark:text-gray-400">\n                            ${a.author?`<span>By ${a.author}</span>`:""}\n                            <span>${o}</span>\n                            <span>${a.reading_time||1} min read</span>\n                            <span>${a.view_count||0} views</span>\n                        </div>\n                    </header>\n\n                    ${a.featured_image?`<figure class="mb-8">\n                            <img src="${a.featured_image}"\n                                 alt="${a.featured_image_alt||a.title}"\n                                 class="w-full rounded-xl">\n                           </figure>`:""}\n\n                    <div class="prose prose-lg dark:prose-invert max-w-none">\n                        ${a.content_html||a.content||""}\n                    </div>\n\n                    ${a.tags&&a.tags.length>0?`<div class="mt-8 pt-6 border-t border-gray-200 dark:border-gray-700">\n                            <div class="flex flex-wrap gap-2">\n                                ${a.tags.map(e=>`\n                                    <span class="px-3 py-1 text-sm bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 rounded-full">#${e}</span>\n                                `).join("")}\n                            </div>\n                           </div>`:""}\n\n                    ${s.length>0?`\n                        <section class="mt-12 pt-8 border-t border-gray-200 dark:border-gray-700">\n                            <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6">Related Articles</h2>\n                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">\n                                ${s.map(e=>`\n                                    <a href="/blog/${e.slug}" class="block group">\n                                        <div class="bg-gray-100 dark:bg-gray-800 rounded-lg overflow-hidden">\n                                            ${e.featured_image?`<img src="${e.featured_image}" alt="${e.title}" class="w-full h-32 object-cover group-hover:scale-105 transition-transform duration-300">`:'<div class="w-full h-32 bg-gradient-to-br from-primary-500 to-primary-700"></div>'}\n                                        </div>\n                                        <h3 class="mt-3 font-medium text-gray-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors line-clamp-2">${e.title}</h3>\n                                    </a>\n                                `).join("")}\n                            </div>\n                        </section>\n                    `:""}\n\n                    <div class="mt-8 pt-6 border-t border-gray-200 dark:border-gray-700">\n                        <a href="/blog" class="inline-flex items-center gap-2 text-primary-600 dark:text-primary-400 hover:underline">\n                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>\n                            </svg>\n                            Back to Blog\n                        </a>\n                    </div>\n                </article>\n            `,this.updateArticleMetaTags(a)}catch(a){this.render404()}}updateArticleMetaTags(e){document.title=e.meta_title||e.title;const t=(e,t,n="name",i)=>{if(!t)return;let r=document.querySelector(e);r||(r=document.createElement("meta"),r.setAttribute(n,i||""),document.head.appendChild(r)),r.setAttribute("content",t)};t('meta[name="description"]',e.meta_description||e.excerpt||"","name","description"),t('meta[property="og:title"]',e.og_title||e.title,"property","og:title"),t('meta[property="og:description"]',e.og_description||e.excerpt||"","property","og:description"),t('meta[property="og:type"]',"article","property","og:type"),t('meta[property="og:url"]',window.location.href,"property","og:url"),(e.og_image||e.featured_image)&&t('meta[property="og:image"]',e.og_image||e.featured_image||"","property","og:image"),t('meta[name="twitter:card"]',"summary_large_image","name","twitter:card"),t('meta[name="twitter:title"]',e.og_title||e.title,"name","twitter:title"),t('meta[name="twitter:description"]',e.og_description||e.excerpt||"","name","twitter:description"),(e.og_image||e.featured_image)&&t('meta[name="twitter:image"]',e.og_image||e.featured_image||"","name","twitter:image")}render404(){const e=this.getContentElement();e&&(e.innerHTML='\n            <div class="min-h-[60vh] flex items-center justify-center px-4">\n                <div class="text-center">\n                    <h1 class="text-6xl font-bold text-gray-300 mb-4">404</h1>\n                    <h2 class="text-2xl font-semibold text-gray-900 mb-2">Page Not Found</h2>\n                    <p class="text-gray-600 mb-8">The page you\'re looking for doesn\'t exist.</p>\n                    <a href="/" class="inline-flex items-center px-6 py-3 bg-primary text-white font-medium rounded-lg hover:bg-primary-dark transition">\n                        Go Home\n                    </a>\n                </div>\n            </div>\n        ')}showTicketDetailModal(e){var t,n;const i=`\n            <div id="ticket-modal" class="fixed inset-0 z-50 overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true">\n                <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">\n                    \x3c!-- Backdrop --\x3e\n                    <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" aria-hidden="true"></div>\n\n                    \x3c!-- Modal Panel --\x3e\n                    <div class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full">\n                        <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">\n                            \x3c!-- Close button --\x3e\n                            <button id="close-modal" class="absolute top-4 right-4 text-gray-400 hover:text-gray-500">\n                                <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />\n                                </svg>\n                            </button>\n\n                            \x3c!-- Modal content --\x3e\n                            <div class="sm:flex sm:items-start">\n                                <div class="mt-3 text-center sm:mt-0 sm:text-left w-full">\n                                    <h3 class="text-lg leading-6 font-medium text-gray-900 mb-4" id="modal-title">\n                                        Detalii Bilet\n                                    </h3>\n\n                                    \x3c!-- Event Info --\x3e\n                                    <div class="mb-4">\n                                        <h4 class="text-xl font-semibold text-gray-900 mb-1">${e.event_name}</h4>\n                                        <p class="text-sm text-gray-600">${e.ticket_type}</p>\n                                    </div>\n\n                                    \x3c!-- Status Badge --\x3e\n                                    <div class="mb-4">\n                                        <span class="inline-block px-3 py-1 text-sm font-medium rounded-full ${"valid"===e.status||"pending"===e.status?"bg-green-100 text-green-800":"used"===e.status?"bg-blue-100 text-blue-800":"cancelled"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}">\n                                            ${e.status_label}\n                                        </span>\n                                    </div>\n\n                                    \x3c!-- Event Details --\x3e\n                                    <div class="space-y-2 mb-4">\n                                        ${e.date?`<p class="text-sm text-gray-700"><strong>Dată:</strong> ${new Date(e.date).toLocaleDateString("ro-RO",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}</p>`:""}\n                                        ${e.venue?`<p class="text-sm text-gray-700"><strong>Locație:</strong> ${e.venue}</p>`:""}\n                                        ${e.seat_label?`<p class="text-sm text-gray-700"><strong>Loc:</strong> ${e.seat_label}</p>`:""}\n                                    </div>\n\n                                    \x3c!-- Beneficiary Info --\x3e\n                                    ${e.beneficiary&&e.beneficiary.name?`\n                                        <div class="border-t pt-3 mb-4">\n                                            <p class="text-xs text-gray-500 mb-1">Beneficiar:</p>\n                                            <p class="text-sm font-medium text-gray-900">${e.beneficiary.name}</p>\n                                            ${e.beneficiary.email?`<p class="text-xs text-gray-600">${e.beneficiary.email}</p>`:""}\n                                        </div>\n                                    `:""}\n\n                                    \x3c!-- QR Code --\x3e\n                                    <div class="border-t pt-4">\n                                        <div class="flex flex-col items-center">\n                                            <img src="${e.qr_code}" alt="QR Code" class="w-48 h-48 border-2 border-gray-300 rounded-lg mb-3">\n                                            <div class="text-center">\n                                                <p class="text-xs text-gray-500 mb-1">Cod bilet:</p>\n                                                <p class="text-lg font-mono font-bold text-gray-900">${e.code}</p>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    \x3c!-- Download/Print Buttons --\x3e\n                                    <div class="flex space-x-2 mt-6">\n                                        <button id="download-ticket" class="flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition font-medium">\n                                            Descarcă Bilet\n                                        </button>\n                                        <button id="print-ticket" class="flex-1 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition font-medium">\n                                            Printează\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `;document.body.insertAdjacentHTML("beforeend",i);const r=document.getElementById("ticket-modal"),a=document.getElementById("close-modal"),s=null==r?void 0:r.querySelector(".bg-gray-500"),o=()=>{null==r||r.remove()};null==a||a.addEventListener("click",o),null==s||s.addEventListener("click",o),null==(t=document.getElementById("download-ticket"))||t.addEventListener("click",()=>{const t=document.createElement("a");t.href=e.qr_code,t.download=`bilet-${e.code}.png`,t.click()}),null==(n=document.getElementById("print-ticket"))||n.addEventListener("click",()=>{const t=window.open("","_blank");t&&(t.document.write(`\n                    <html>\n                        <head>\n                            <title>Bilet ${e.code}</title>\n                            <style>\n                                body { font-family: Arial, sans-serif; text-align: center; padding: 20px; }\n                                img { max-width: 300px; margin: 20px 0; }\n                                .code { font-size: 18px; font-weight: bold; margin: 10px 0; }\n                            </style>\n                        </head>\n                        <body>\n                            <h1>${e.event_name}</h1>\n                            <p>${e.ticket_type}</p>\n                            ${e.date?`<p>${new Date(e.date).toLocaleDateString("ro-RO",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}</p>`:""}\n                            ${e.venue?`<p>${e.venue}</p>`:""}\n                            ${e.seat_label?`<p>Loc: ${e.seat_label}</p>`:""}\n                            <img src="${e.qr_code}" alt="QR Code">\n                            <p class="code">Cod: ${e.code}</p>\n                            ${e.beneficiary&&e.beneficiary.name?`<p>Beneficiar: ${e.beneficiary.name}</p>`:""}\n                        </body>\n                    </html>\n                `),t.document.close(),t.print())})}initCountdown(){const e=document.getElementById("countdown-container");if(!e)return;const t=e.dataset.eventDate,n=e.dataset.eventTime,i="true"===e.dataset.isCancelled,r="true"===e.dataset.isPostponed;if(i||!t)return void(e.style.display="none");let a;try{a=new Date(t);if(!(t.includes("T")||t.includes(" "))&&n&&n.match(/^\d{2}:\d{2}/)){const e=t.split("T")[0];a=new Date(`${e}T${n}`)}if(isNaN(a.getTime()))return void(e.style.display="none")}catch(c){return void(e.style.display="none")}const s=document.createElement("div");s.className="p-6 mb-6 text-white rounded-lg shadow-lg bg-gradient-to-r from-blue-500 to-purple-600";const o=document.createElement("h3");o.className="mb-3 text-lg font-semibold text-center",o.textContent=r?"Noua dată - Începe în:":"Începe în:";const l=document.createElement("div");l.className="flex justify-center gap-4 text-center",l.id="countdown-display",s.appendChild(o),s.appendChild(l),e.appendChild(s);const d=()=>{const e=(new Date).getTime(),t=a.getTime()-e;if(t<0)return o.textContent="Evenimentul a început!",void(l.innerHTML="");const n=Math.floor(t/864e5),i=Math.floor(t%864e5/36e5),r=Math.floor(t%36e5/6e4),s=Math.floor(t%6e4/1e3);l.innerHTML=`\n                <div class="flex flex-col">\n                    <span class="text-3xl font-bold">${n}</span>\n                    <span class="text-sm">zile</span>\n                </div>\n                <div class="flex flex-col">\n                    <span class="text-3xl font-bold">${i}</span>\n                    <span class="text-sm">ore</span>\n                </div>\n                <div class="flex flex-col">\n                    <span class="text-3xl font-bold">${r}</span>\n                    <span class="text-sm">minute</span>\n                </div>\n                <div class="flex flex-col">\n                    <span class="text-3xl font-bold">${s}</span>\n                    <span class="text-sm">secunde</span>\n                </div>\n            `};d(),setInterval(d,1e3)}renderShop(){const e=this.getContentElement();e&&(e.innerHTML=`\n            <div id="shop-container" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <div class="animate-pulse space-y-4">\n                    <div class="h-8 bg-gray-200 rounded w-1/4"></div>\n                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">\n                        ${Array(8).fill(0).map(()=>'<div class="h-64 bg-gray-200 rounded"></div>').join("")}\n                    </div>\n                </div>\n            </div>\n        `,this.eventBus.emit("route:shop"))}renderShopCategory(e){const t=this.getContentElement();t&&(t.innerHTML=`\n            <div id="shop-category-container" data-slug="${e.slug}" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <div class="animate-pulse space-y-4">\n                    <div class="h-8 bg-gray-200 rounded w-1/4"></div>\n                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">\n                        ${Array(8).fill(0).map(()=>'<div class="h-64 bg-gray-200 rounded"></div>').join("")}\n                    </div>\n                </div>\n            </div>\n        `,this.eventBus.emit("route:shop-category",e.slug))}renderShopProduct(e){const t=this.getContentElement();t&&(t.innerHTML=`\n            <div id="shop-product-container" data-slug="${e.slug}" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <div class="animate-pulse space-y-4">\n                    <div class="grid md:grid-cols-2 gap-8">\n                        <div class="h-96 bg-gray-200 rounded"></div>\n                        <div class="space-y-4">\n                            <div class="h-8 bg-gray-200 rounded w-3/4"></div>\n                            <div class="h-6 bg-gray-200 rounded w-1/4"></div>\n                            <div class="h-24 bg-gray-200 rounded"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `,this.eventBus.emit("route:shop-product",e.slug))}renderShopCart(){const e=this.getContentElement();e&&(e.innerHTML=`\n            <div id="shop-cart-container" class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <div class="animate-pulse space-y-4">\n                    <div class="h-8 bg-gray-200 rounded w-1/4"></div>\n                    <div class="space-y-3">\n                        ${Array(3).fill(0).map(()=>'<div class="h-24 bg-gray-200 rounded"></div>').join("")}\n                    </div>\n                </div>\n            </div>\n        `,this.eventBus.emit("route:shop-cart"))}renderShopCheckout(){const e=this.getContentElement();e&&(e.innerHTML='\n            <div id="shop-checkout-container" class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <div class="animate-pulse space-y-4">\n                    <div class="h-8 bg-gray-200 rounded w-1/4"></div>\n                    <div class="grid md:grid-cols-3 gap-8">\n                        <div class="md:col-span-2 space-y-4">\n                            <div class="h-48 bg-gray-200 rounded"></div>\n                            <div class="h-48 bg-gray-200 rounded"></div>\n                        </div>\n                        <div class="h-64 bg-gray-200 rounded"></div>\n                    </div>\n                </div>\n            </div>\n        ',this.eventBus.emit("route:shop-checkout"))}renderShopThankYou(e){const t=this.getContentElement();t&&(t.innerHTML=`\n            <div id="shop-thank-you-container" data-order="${e.orderNumber}" class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8 text-center">\n                <div class="bg-white rounded-lg shadow-lg p-8">\n                    <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">\n                        <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>\n                        </svg>\n                    </div>\n                    <h1 class="text-2xl font-bold text-gray-900 mb-2">Comanda plasata cu succes!</h1>\n                    <p class="text-gray-600 mb-4">Numarul comenzii: <span class="font-mono font-bold">${e.orderNumber}</span></p>\n                    <p class="text-gray-500 mb-6">Vei primi un email de confirmare cu detaliile comenzii.</p>\n                    <div class="space-y-3">\n                        <a href="/shop" class="block w-full px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition">\n                            Continua cumparaturile\n                        </a>\n                        <a href="/account/shop-orders" class="block w-full px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition">\n                            Vezi comenzile mele\n                        </a>\n                    </div>\n                </div>\n            </div>\n        `,this.eventBus.emit("route:shop-thank-you",e.orderNumber))}renderAccountShopOrders(){if(!this.isAuthenticated())return void this.navigate("/login");const e=this.getContentElement();e&&(e.innerHTML=`\n            <div id="shop-orders-container" class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <div class="animate-pulse space-y-4">\n                    <div class="h-8 bg-gray-200 rounded w-1/4"></div>\n                    <div class="space-y-3">\n                        ${Array(3).fill(0).map(()=>'<div class="h-24 bg-gray-200 rounded"></div>').join("")}\n                    </div>\n                </div>\n            </div>\n        `,this.eventBus.emit("route:shop-orders"))}renderAccountShopOrderDetail(e){if(!this.isAuthenticated())return void this.navigate("/login");const t=this.getContentElement();t&&(t.innerHTML=`\n            <div id="shop-order-detail-container" data-id="${e.id}" class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <div class="animate-pulse space-y-4">\n                    <div class="h-8 bg-gray-200 rounded w-1/4"></div>\n                    <div class="h-64 bg-gray-200 rounded"></div>\n                </div>\n            </div>\n        `,this.eventBus.emit("route:shop-order-detail",e.id))}renderAccountWishlist(){if(!this.isAuthenticated())return void this.navigate("/login");const e=this.getContentElement();e&&(e.innerHTML=`\n            <div id="wishlist-container" class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <div class="animate-pulse space-y-4">\n                    <div class="h-8 bg-gray-200 rounded w-1/4"></div>\n                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">\n                        ${Array(4).fill(0).map(()=>'<div class="h-48 bg-gray-200 rounded"></div>').join("")}\n                    </div>\n                </div>\n            </div>\n        `,this.eventBus.emit("route:wishlist"))}renderAccountStockAlerts(){if(!this.isAuthenticated())return void this.navigate("/login");const e=this.getContentElement();e&&(e.innerHTML=`\n            <div id="stock-alerts-container" class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <div class="animate-pulse space-y-4">\n                    <div class="h-8 bg-gray-200 rounded w-1/4"></div>\n                    <div class="space-y-3">\n                        ${Array(3).fill(0).map(()=>'<div class="h-16 bg-gray-200 rounded"></div>').join("")}\n                    </div>\n                </div>\n            </div>\n        `,this.eventBus.emit("route:stock-alerts"))}renderAccountPoints(){if(!this.isAuthenticated())return void this.navigate("/login");const e=this.getContentElement();e&&(e.innerHTML=`\n            <div id="points-container" class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <div class="animate-pulse space-y-4">\n                    <div class="h-8 bg-gray-200 rounded w-1/4"></div>\n                    <div class="h-32 bg-gray-200 rounded"></div>\n                    <div class="grid grid-cols-3 gap-4">\n                        ${Array(3).fill(0).map(()=>'<div class="h-20 bg-gray-200 rounded"></div>').join("")}\n                    </div>\n                </div>\n            </div>\n        `,this.eventBus.emit("route:points"))}renderAccountPointsHistory(){if(!this.isAuthenticated())return void this.navigate("/login");const e=this.getContentElement();e&&(e.innerHTML=`\n            <div id="points-history-container" class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <div class="animate-pulse space-y-4">\n                    <div class="h-8 bg-gray-200 rounded w-1/4"></div>\n                    <div class="space-y-3">\n                        ${Array(5).fill(0).map(()=>'<div class="h-16 bg-gray-200 rounded"></div>').join("")}\n                    </div>\n                </div>\n            </div>\n        `,this.eventBus.emit("route:points-history"))}renderAccountReferral(){if(!this.isAuthenticated())return void this.navigate("/login");const e=this.getContentElement();e&&(e.innerHTML=`\n            <div id="referral-container" class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">\n                <div class="animate-pulse space-y-4">\n                    <div class="h-32 bg-gray-200 rounded"></div>\n                    <div class="grid grid-cols-2 gap-4">\n                        ${Array(2).fill(0).map(()=>'<div class="h-24 bg-gray-200 rounded"></div>').join("")}\n                    </div>\n                    <div class="h-24 bg-gray-200 rounded"></div>\n                </div>\n            </div>\n        `,this.eventBus.emit("route:referral"))}}class C{constructor(e){__publicField(this,"apiClient"),__publicField(this,"user",null),__publicField(this,"tokenKey","tixello_token"),this.apiClient=e,this.loadToken()}loadToken(){const e=localStorage.getItem(this.tokenKey);e&&this.apiClient.setAccessToken(e)}async checkAuth(){if(!localStorage.getItem(this.tokenKey))return!1;const e=await this.apiClient.get("/auth/me");return e.success&&e.data?(this.user=e.data,!0):(this.logout(),!1)}async login(e,t){const n=await this.apiClient.post("/auth/login",{email:e,password:t},{withAuth:!1});if(n.success&&n.data){const{token:e,user:t}=n.data;return localStorage.setItem(this.tokenKey,e),this.apiClient.setAccessToken(e),this.user=t,{success:!0}}return{success:!1,message:n.message}}async register(e){const t=await this.apiClient.post("/auth/register",e,{withAuth:!1});if(t.success&&t.data){const{token:e,user:n}=t.data;return localStorage.setItem(this.tokenKey,e),this.apiClient.setAccessToken(e),this.user=n,{success:!0}}return{success:!1,message:t.message}}logout(){localStorage.removeItem(this.tokenKey),this.apiClient.setAccessToken(null),this.user=null,window.location.hash="/"}isAuthenticated(){return null!==this.user}isAdmin(){var e,t;return"admin"===(null==(e=this.user)?void 0:e.role)||"super_admin"===(null==(t=this.user)?void 0:t.role)}isSuperAdmin(){var e;return"super_admin"===(null==(e=this.user)?void 0:e.role)}getUser(){return this.user}}class E{static init(){this.initialized||(this.initialized=!0,this.detectDevTools(),this.antiDebug(),this.tamperDetection())}static verifyDomain(e){const t=window.location.hostname;return"localhost"===t||"127.0.0.1"===t||(!0===window.__TIXELLO_PREVIEW__||(!!window.location.search.includes("preview_mode=1")||(t===e||t.endsWith("."+e))))}static detectDevTools(){setInterval(()=>{},1e3)}static antiDebug(){setInterval(()=>{performance.now(),performance.now()},5e3)}static tamperDetection(){new MutationObserver(e=>{e.forEach(e=>{"childList"===e.type&&e.addedNodes.forEach(e=>{if("SCRIPT"===e.nodeName){e.src.includes("tixello")}})})}).observe(document.documentElement,{childList:!0,subtree:!0})}static disableContextMenu(){document.addEventListener("contextmenu",e=>(e.preventDefault(),!1))}static async verifyIntegrity(e){try{const t=document.getElementsByTagName("script");for(const n of Array.from(t))if(n.src.includes("tixello-loader")){const t=await fetch(n.src),i=await t.text(),r=(new TextEncoder).encode(i),a=await crypto.subtle.digest("SHA-384",r),s=Array.from(new Uint8Array(a));return`sha384-${btoa(String.fromCharCode(...s))}`===e}return!1}catch{return!1}}}__publicField(E,"initialized",!1);const M={inter:{name:"Inter",category:"sans-serif",weights:[400,500,600,700,800]},poppins:{name:"Poppins",category:"sans-serif",weights:[400,500,600,700]},"open-sans":{name:"Open Sans",category:"sans-serif",weights:[400,600,700]},roboto:{name:"Roboto",category:"sans-serif",weights:[400,500,700]},montserrat:{name:"Montserrat",category:"sans-serif",weights:[400,500,600,700]},lato:{name:"Lato",category:"sans-serif",weights:[400,700]},"playfair-display":{name:"Playfair Display",category:"serif",weights:[400,700]},merriweather:{name:"Merriweather",category:"serif",weights:[400,700]},lora:{name:"Lora",category:"serif",weights:[400,600,700]},oswald:{name:"Oswald",category:"sans-serif",weights:[400,500,600,700]},raleway:{name:"Raleway",category:"sans-serif",weights:[400,500,600,700]},"bebas-neue":{name:"Bebas Neue",category:"sans-serif",weights:[400]}};class S{static async load(e){if(this.loadedFonts.has(e))return;if(this.loadingPromises.has(e))return this.loadingPromises.get(e);const t=M[e];if(!t)return;const n=this.loadFromBunny(e,t);this.loadingPromises.set(e,n);try{await n,this.loadedFonts.add(e)}finally{this.loadingPromises.delete(e)}}static async loadFromBunny(e,t){const n=t.name.replace(/ /g,"+"),i=t.weights.join(";"),r=`https://fonts.bunny.net/css?family=${n}:wght@${i}&display=swap`;return new Promise((e,i)=>{if(document.querySelector(`link[href*="${n}"]`))return void e();const a=document.createElement("link");a.rel="stylesheet",a.href=r,a.onload=()=>{e()},a.onerror=()=>{i(new Error(`Failed to load font: ${t.name}`))},document.head.appendChild(a)})}static async loadMultiple(e){const t=[...new Set(e)];await Promise.all(t.map(e=>this.load(e)))}static getFontStack(e){const t=M[e];if(!t)return"system-ui, sans-serif";const n="serif"===t.category?"Georgia, serif":"system-ui, -apple-system, sans-serif";return`"${t.name}", ${n}`}static isLoaded(e){return this.loadedFonts.has(e)}static getAvailable(){return M}static preloadCommon(){this.load("inter").catch(()=>{})}}__publicField(S,"loadedFonts",new Set),__publicField(S,"loadingPromises",new Map),E.init(),async function(){var t,n,i,r;try{const a=document.currentScript,s=null==a?void 0:a.getAttribute("data-api"),o=(null==a?void 0:a.getAttribute("data-config"))||window.__TIXELLO_CONFIG__;if(!s&&!o)throw new Error("Tixello configuration not found");let l;if(l=o?await c.init(o):await c.initFromHostname({apiEndpoint:s,hostname:window.location.hostname}),!E.verifyDomain(l.domain))throw new Error("Domain verification failed");u.init();m.init(l),k.init(l),S.preloadCommon(),(null==(n=null==(t=l.theme)?void 0:t.typography)?void 0:n.fontFamily)&&S.load(l.theme.typography.fontFamily.toLowerCase().replace(/ /g,"-")).catch(()=>{}),(null==(r=null==(i=l.theme)?void 0:i.typography)?void 0:r.headingFont)&&S.load(l.theme.typography.headingFont.toLowerCase().replace(/ /g,"-")).catch(()=>{});const g=new p(l),h=new C(g),v=new _(l),x=new d({config:l,apiClient:g,authManager:h,router:v}),b=document.getElementById("tixello-app");if(!b)throw new Error("Mount point #tixello-app not found");await x.mount(b);const y=new e,w=f.getInstance();await w.init(g,y,l),window.Tixello=x,window.TixelloTracking=k,window.TIXELLO={config:l}}catch(a){const e=document.getElementById("tixello-app");e&&(e.innerHTML='\n                <div style="padding: 20px; text-align: center; color: #dc2626;">\n                    <h2>Unable to load Tixello</h2>\n                    <p>Please refresh the page or contact support.</p>\n                </div>\n            ')}}();const B=Object.freeze(Object.defineProperty({__proto__:null,EventsModule:class{constructor(){__publicField(this,"name","events"),__publicField(this,"apiClient",null),__publicField(this,"eventBus",null),__publicField(this,"events",[]),__publicField(this,"pastEvents",[]),__publicField(this,"pastEventsFilters",{})}async init(e,t){this.apiClient=e,this.eventBus=t,this.eventBus.on("route:events",()=>this.loadEvents()),this.eventBus.on("route:event-detail",e=>this.loadEventDetail(e)),this.eventBus.on("route:past-events",()=>this.loadPastEvents())}async loadEvents(){if(!this.apiClient)return;const e=document.getElementById("events-list");if(e)try{const t=await this.apiClient.get("/events");if(this.events=t.data.events||[],0===this.events.length)return void(e.innerHTML='<p class="text-gray-500">No upcoming events.</p>');e.innerHTML=this.renderEventsList(this.events),this.bindEventListeners()}catch(t){e.innerHTML='<p class="text-red-500">Failed to load events. Please try again.</p>'}}renderEventsList(e){return`\n            <div class="events-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem;">\n                ${e.map(e=>this.renderEventCard(e)).join("")}\n            </div>\n        `}renderEventCard(e){var t;const n=e.start_date||e.event_date,i=n?new Date(n).toLocaleDateString("ro-RO",{weekday:"short",month:"short",day:"numeric"}):"",r=e.poster_url||e.hero_image_url||e.image_url,a="string"==typeof e.venue?e.venue:(null==(t=e.venue)?void 0:t.name)||"";let s=0;return e.ticket_types&&e.ticket_types.length>0&&(s=e.ticket_types.reduce((e,t)=>{const n=t.sale_price??t.price??0;return n>0&&(0===e||n<e)?n:e},0)),0===s&&(s=e.price_from??e.min_price??0),`\n            <div class="tixello-card event-card" data-event-slug="${e.slug}">\n                ${r?`<img src="${r}" alt="${e.title}" style="width: 100%; height: 200px; object-fit: cover; border-radius: 0.5rem 0.5rem 0 0;">`:""}\n                <div style="padding: 1rem;">\n                    <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 0.5rem;">${e.title}</h3>\n                    <p style="color: #6b7280; font-size: 0.875rem; margin-bottom: 0.5rem;">\n                        <span>${i}</span>${a?` • <span>${a}</span>`:""}\n                    </p>\n                    <p style="font-weight: 600; color: #059669; margin-bottom: 1rem;">\n                        De la ${s} ${e.currency||"RON"}\n                    </p>\n                    <a href="#/events/${e.slug}" class="tixello-btn" style="display: inline-block; text-decoration: none;">\n                        Detalii\n                    </a>\n                </div>\n            </div>\n        `}async loadEventDetail(e){if(!this.apiClient)return;const t=document.getElementById(`event-${e}`);if(t)try{const n=(await this.apiClient.get(`/events/${e}`)).data.event;t.innerHTML=this.renderEventDetail(n),this.bindTicketSelectors(n)}catch(n){t.innerHTML='<p class="text-red-500">Failed to load event. Please try again.</p>'}}renderEventDetail(e){var t;const n=e.start_date||e.event_date,i=n?new Date(n).toLocaleDateString("ro-RO",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"",r=e.hero_image_url||e.poster_url||e.image_url,a="string"==typeof e.venue?e.venue:(null==(t=e.venue)?void 0:t.name)||"",s=e.start_time||e.event_time||"",o=(e.ticket_types||[]).reduce((e,t)=>{const n=t.sale_price??t.price??0;return n>0&&(0===e||n<e)?n:e},0),l=e.currency||"RON",d="object"==typeof e.venue?e.venue:null,c=d&&(d.address||d.city),p=e.artists&&e.artists.length>0;return`\n            <style>\n                .event-detail-grid {\n                    display: grid;\n                    grid-template-columns: 1fr;\n                    gap: 2rem;\n                }\n                @media (min-width: 768px) {\n                    .event-detail-grid {\n                        grid-template-columns: 1fr 1fr;\n                    }\n                }\n                .tickets-sidebar {\n                    display: none;\n                }\n                @media (min-width: 768px) {\n                    .tickets-sidebar {\n                        display: block;\n                    }\n                }\n                .mobile-tickets-btn {\n                    display: flex;\n                    position: fixed;\n                    bottom: 0;\n                    left: 0;\n                    right: 0;\n                    z-index: 40;\n                    background: linear-gradient(135deg, var(--tixello-primary, #6366f1) 0%, var(--tixello-primary-dark, #4f46e5) 100%);\n                    color: white;\n                    padding: 1rem 1.5rem;\n                    justify-content: space-between;\n                    align-items: center;\n                    cursor: pointer;\n                    box-shadow: 0 -4px 20px rgba(0,0,0,0.15);\n                }\n                @media (min-width: 768px) {\n                    .mobile-tickets-btn {\n                        display: none;\n                    }\n                }\n                .mobile-tickets-panel {\n                    position: fixed;\n                    bottom: 0;\n                    left: 0;\n                    right: 0;\n                    z-index: 50;\n                    background: white;\n                    border-radius: 1.5rem 1.5rem 0 0;\n                    box-shadow: 0 -8px 30px rgba(0,0,0,0.2);\n                    transform: translateY(100%);\n                    transition: transform 0.3s ease-out;\n                    max-height: 85vh;\n                    overflow-y: auto;\n                }\n                .mobile-tickets-panel.open {\n                    transform: translateY(0);\n                }\n                .mobile-tickets-overlay {\n                    position: fixed;\n                    inset: 0;\n                    background: rgba(0,0,0,0.5);\n                    z-index: 45;\n                    opacity: 0;\n                    pointer-events: none;\n                    transition: opacity 0.3s ease;\n                }\n                .mobile-tickets-overlay.open {\n                    opacity: 1;\n                    pointer-events: auto;\n                }\n                @media (min-width: 768px) {\n                    .mobile-tickets-panel, .mobile-tickets-overlay {\n                        display: none !important;\n                    }\n                }\n                /* Add bottom padding on mobile for the sticky button */\n                @media (max-width: 767px) {\n                    .event-detail {\n                        padding-bottom: 80px;\n                    }\n                }\n                /* Collapsible sections for mobile */\n                .collapsible-section {\n                    margin-top: 1.5rem;\n                    border: 1px solid #e5e7eb;\n                    border-radius: 0.75rem;\n                    overflow: hidden;\n                }\n                .collapsible-header {\n                    display: flex;\n                    justify-content: space-between;\n                    align-items: center;\n                    padding: 1rem;\n                    background: #f9fafb;\n                    cursor: pointer;\n                    user-select: none;\n                }\n                .collapsible-header h3 {\n                    margin: 0;\n                    font-size: 1rem;\n                    font-weight: 600;\n                    display: flex;\n                    align-items: center;\n                    gap: 0.5rem;\n                }\n                .collapsible-icon {\n                    width: 20px;\n                    height: 20px;\n                    transition: transform 0.2s ease;\n                }\n                .collapsible-section.open .collapsible-icon {\n                    transform: rotate(180deg);\n                }\n                .collapsible-content {\n                    max-height: 0;\n                    overflow: hidden;\n                    transition: max-height 0.3s ease;\n                }\n                .collapsible-section.open .collapsible-content {\n                    max-height: 500px;\n                }\n                .collapsible-content-inner {\n                    padding: 1rem;\n                }\n                /* On desktop, sections are always expanded */\n                @media (min-width: 768px) {\n                    .collapsible-section {\n                        border: none;\n                        margin-top: 2rem;\n                    }\n                    .collapsible-header {\n                        background: transparent;\n                        cursor: default;\n                        padding: 0 0 0.75rem 0;\n                        border-bottom: 2px solid #e5e7eb;\n                    }\n                    .collapsible-icon {\n                        display: none;\n                    }\n                    .collapsible-content {\n                        max-height: none !important;\n                    }\n                    .collapsible-content-inner {\n                        padding: 1rem 0;\n                    }\n                }\n                .artist-card {\n                    display: flex;\n                    align-items: center;\n                    gap: 1rem;\n                    padding: 0.75rem 0;\n                    border-bottom: 1px solid #f3f4f6;\n                }\n                .artist-card:last-child {\n                    border-bottom: none;\n                }\n                .artist-image {\n                    width: 60px;\n                    height: 60px;\n                    border-radius: 50%;\n                    object-fit: cover;\n                    background: #e5e7eb;\n                }\n                .artist-name {\n                    font-weight: 600;\n                    font-size: 0.95rem;\n                }\n            </style>\n\n            <div class="event-detail">\n                <div class="event-detail-grid">\n                    <div>\n                        ${r?`<img src="${r}" alt="${e.title}" style="width: 100%; border-radius: 0.5rem;">`:""}\n                        <h1 style="font-size: 2rem; font-weight: 700; margin: 1rem 0;">${e.title}</h1>\n                        <p style="color: #6b7280; margin-bottom: 1rem;">\n                            ${i}${s?` la ${s}`:""}<br>\n                            ${a}\n                        </p>\n                        <div style="margin-top: 1rem;">\n                            ${e.description||""}\n                        </div>\n\n                        ${p?`\n                        \x3c!-- Artists Section - Collapsible on mobile --\x3e\n                        <div class="collapsible-section" id="artists-section">\n                            <div class="collapsible-header" onclick="this.parentElement.classList.toggle('open')">\n                                <h3>\n                                    <svg style="width: 20px; height: 20px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>\n                                    </svg>\n                                    Artiști\n                                </h3>\n                                <svg class="collapsible-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>\n                                </svg>\n                            </div>\n                            <div class="collapsible-content">\n                                <div class="collapsible-content-inner">\n                                    ${e.artists.map(e=>`\n                                        <div class="artist-card">\n                                            ${e.image?`<img src="${e.image}" alt="${e.name}" class="artist-image">`:'<div class="artist-image" style="display: flex; align-items: center; justify-content: center;">\n                                                    <svg style="width: 24px; height: 24px; color: #9ca3af;" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>\n                                                    </svg>\n                                                   </div>'}\n                                            <span class="artist-name">${e.name}</span>\n                                        </div>\n                                    `).join("")}\n                                </div>\n                            </div>\n                        </div>\n                        `:""}\n\n                        ${c?`\n                        \x3c!-- Location Section - Collapsible on mobile --\x3e\n                        <div class="collapsible-section" id="location-section">\n                            <div class="collapsible-header" onclick="this.parentElement.classList.toggle('open')">\n                                <h3>\n                                    <svg style="width: 20px; height: 20px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>\n                                    </svg>\n                                    Locație\n                                </h3>\n                                <svg class="collapsible-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>\n                                </svg>\n                            </div>\n                            <div class="collapsible-content">\n                                <div class="collapsible-content-inner">\n                                    <p style="font-weight: 600; margin: 0 0 0.5rem 0;">${d.name}</p>\n                                    ${d.address?`<p style="color: #6b7280; margin: 0 0 0.25rem 0;">${d.address}</p>`:""}\n                                    ${d.city?`<p style="color: #6b7280; margin: 0;">${d.city}</p>`:""}\n                                    ${d.latitude&&d.longitude?`\n                                        <a href="https://www.google.com/maps?q=${d.latitude},${d.longitude}"\n                                           target="_blank"\n                                           rel="noopener noreferrer"\n                                           style="display: inline-flex; align-items: center; gap: 0.5rem; margin-top: 1rem; color: var(--tixello-primary, #6366f1); text-decoration: none; font-weight: 500;">\n                                            <svg style="width: 16px; height: 16px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>\n                                            </svg>\n                                            Deschide în Google Maps\n                                        </a>\n                                    `:""}\n                                </div>\n                            </div>\n                        </div>\n                        `:""}\n                    </div>\n                    \x3c!-- Desktop: Tickets sidebar (no title) --\x3e\n                    <div class="tixello-card tickets-sidebar">\n                        <div id="ticket-types">\n                            ${(e.ticket_types||[]).map(e=>this.renderTicketType(e)).join("")}\n                        </div>\n                        <div style="margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid #e5e7eb;">\n                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">\n                                <span style="font-weight: 600;">Total:</span>\n                                <span id="total-price" style="font-size: 1.5rem; font-weight: 700;">0 ${l}</span>\n                            </div>\n                            <div id="total-points-container" style="display: none; justify-content: flex-end; margin-bottom: 1rem;">\n                                <span id="total-points" style="display: inline-flex; align-items: center; gap: 0.35rem; background: linear-gradient(135deg, #fef3c7, #fde68a); color: #92400e; padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.85rem; font-weight: 600;">\n                                    <svg style="width: 14px; height: 14px;" fill="currentColor" viewBox="0 0 20 20">\n                                        <path d="M10 2a1 1 0 011 1v1.323l3.954 1.582 1.599-.8a1 1 0 01.894 1.79l-1.233.616 1.738 5.42a1 1 0 01-.285 1.05A3.989 3.989 0 0115 15a3.989 3.989 0 01-2.667-1.019 1 1 0 01-.285-1.05l1.715-5.349L11 6.477V16h2a1 1 0 110 2H7a1 1 0 110-2h2V6.477L6.237 7.582l1.715 5.349a1 1 0 01-.285 1.05A3.989 3.989 0 015 15a3.989 3.989 0 01-2.667-1.019 1 1 0 01-.285-1.05l1.738-5.42-1.233-.617a1 1 0 01.894-1.788l1.599.799L9 4.323V3a1 1 0 011-1z"/>\n                                    </svg>\n                                    Vei câștiga <strong id="points-value">0</strong> puncte\n                                </span>\n                            </div>\n                            <button id="add-to-cart-btn" class="tixello-btn" style="width: 100%;" disabled>\n                                Adaugă în coș\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            \x3c!-- Mobile: Sticky bottom button --\x3e\n            <div class="mobile-tickets-btn" id="mobile-tickets-btn">\n                <div>\n                    <div style="font-weight: 700; font-size: 1.1rem;">Bilete</div>\n                    <div style="font-size: 0.875rem; opacity: 0.9;">Începând de la ${o} ${l}</div>\n                </div>\n                <svg style="width: 24px; height: 24px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"/>\n                </svg>\n            </div>\n\n            \x3c!-- Mobile: Tickets panel overlay --\x3e\n            <div class="mobile-tickets-overlay" id="mobile-tickets-overlay"></div>\n\n            \x3c!-- Mobile: Tickets panel --\x3e\n            <div class="mobile-tickets-panel" id="mobile-tickets-panel">\n                <div style="padding: 1rem 1.5rem; border-bottom: 1px solid #e5e7eb; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; background: white; z-index: 10; border-radius: 1.5rem 1.5rem 0 0;">\n                    <h2 style="font-size: 1.25rem; font-weight: 600; margin: 0;">Selectează bilete</h2>\n                    <button id="mobile-tickets-close" style="padding: 0.5rem; border-radius: 0.5rem; border: none; background: #f3f4f6; cursor: pointer; display: flex; align-items: center; justify-content: center;">\n                        <svg style="width: 24px; height: 24px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>\n                        </svg>\n                    </button>\n                </div>\n                <div style="padding: 1rem 1.5rem;">\n                    <div id="ticket-types-mobile">\n                        ${(e.ticket_types||[]).map(e=>this.renderTicketType(e,!0)).join("")}\n                    </div>\n                    <div style="margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid #e5e7eb;">\n                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">\n                            <span style="font-weight: 600;">Total:</span>\n                            <span id="total-price-mobile" style="font-size: 1.5rem; font-weight: 700;">0 ${l}</span>\n                        </div>\n                        <div id="total-points-container-mobile" style="display: none; justify-content: flex-end; margin-bottom: 1rem;">\n                            <span id="total-points-mobile" style="display: inline-flex; align-items: center; gap: 0.35rem; background: linear-gradient(135deg, #fef3c7, #fde68a); color: #92400e; padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.85rem; font-weight: 600;">\n                                <svg style="width: 14px; height: 14px;" fill="currentColor" viewBox="0 0 20 20">\n                                    <path d="M10 2a1 1 0 011 1v1.323l3.954 1.582 1.599-.8a1 1 0 01.894 1.79l-1.233.616 1.738 5.42a1 1 0 01-.285 1.05A3.989 3.989 0 0115 15a3.989 3.989 0 01-2.667-1.019 1 1 0 01-.285-1.05l1.715-5.349L11 6.477V16h2a1 1 0 110 2H7a1 1 0 110-2h2V6.477L6.237 7.582l1.715 5.349a1 1 0 01-.285 1.05A3.989 3.989 0 015 15a3.989 3.989 0 01-2.667-1.019 1 1 0 01-.285-1.05l1.738-5.42-1.233-.617a1 1 0 01.894-1.788l1.599.799L9 4.323V3a1 1 0 011-1z"/>\n                                </svg>\n                                Vei câștiga <strong id="points-value-mobile">0</strong> puncte\n                            </span>\n                        </div>\n                        <button id="add-to-cart-btn-mobile" class="tixello-btn" style="width: 100%;" disabled>\n                            Adaugă în coș\n                        </button>\n                    </div>\n                </div>\n            </div>\n        `}renderTicketType(e,t=!1){const n=t?" qty-mobile":"",i=e.sale_price??e.price??0,r=this.isGamificationEnabled(),a=r?Math.floor(i):0;return`\n            <div class="ticket-type" style="display: flex; justify-content: space-between; align-items: center; padding: 1rem 0; border-bottom: 1px solid #e5e7eb;">\n                <div style="flex: 1; min-width: 0;">\n                    <h4 style="font-weight: 600; font-size: 0.95rem; margin: 0 0 0.25rem 0;">${e.name}</h4>\n                    ${e.description?`<p style="font-size: 0.8rem; color: #6b7280; margin: 0 0 0.25rem 0;">${e.description}</p>`:""}\n                    <div style="display: flex; align-items: center; gap: 0.75rem; flex-wrap: wrap;">\n                        <p style="font-weight: 600; color: #059669; margin: 0; font-size: 0.95rem;">${i} RON</p>\n                        ${r?`\n                        <span style="display: inline-flex; align-items: center; gap: 0.25rem; background: linear-gradient(135deg, #fef3c7, #fde68a); color: #92400e; padding: 0.125rem 0.5rem; border-radius: 9999px; font-size: 0.75rem; font-weight: 600;">\n                            <svg style="width: 12px; height: 12px;" fill="currentColor" viewBox="0 0 20 20">\n                                <path d="M10 2a1 1 0 011 1v1.323l3.954 1.582 1.599-.8a1 1 0 01.894 1.79l-1.233.616 1.738 5.42a1 1 0 01-.285 1.05A3.989 3.989 0 0115 15a3.989 3.989 0 01-2.667-1.019 1 1 0 01-.285-1.05l1.715-5.349L11 6.477V16h2a1 1 0 110 2H7a1 1 0 110-2h2V6.477L6.237 7.582l1.715 5.349a1 1 0 01-.285 1.05A3.989 3.989 0 015 15a3.989 3.989 0 01-2.667-1.019 1 1 0 01-.285-1.05l1.738-5.42-1.233-.617a1 1 0 01.894-1.788l1.599.799L9 4.323V3a1 1 0 011-1z"/>\n                            </svg>\n                            +${a} puncte\n                        </span>\n                        `:""}\n                    </div>\n                </div>\n                <div style="display: flex; align-items: center; gap: 0.5rem; flex-shrink: 0;">\n                    <button class="qty-btn qty-minus${n}" data-ticket-id="${e.id}" style="width: 32px; height: 32px; border: 1px solid #d1d5db; border-radius: 0.375rem; cursor: pointer; background: white; font-size: 1.1rem; display: flex; align-items: center; justify-content: center;">−</button>\n                    <input type="number" class="qty-input${n}" data-ticket-id="${e.id}" data-price="${i}" data-points="${a}" value="0" min="0" max="${e.available_quantity??10}" style="width: 44px; text-align: center; border: 1px solid #d1d5db; border-radius: 0.375rem; padding: 0.375rem; font-size: 0.95rem;">\n                    <button class="qty-btn qty-plus${n}" data-ticket-id="${e.id}" style="width: 32px; height: 32px; border: 1px solid #d1d5db; border-radius: 0.375rem; cursor: pointer; background: white; font-size: 1.1rem; display: flex; align-items: center; justify-content: center;">+</button>\n                </div>\n            </div>\n        `}isGamificationEnabled(){var e,t,n;try{const i=null==(e=window.TIXELLO)?void 0:e.config;return(null==(t=null==i?void 0:i.modules)?void 0:t.includes("gamification"))||!0===(null==(n=null==i?void 0:i.features)?void 0:n.gamification)}catch{return!1}}bindEventListeners(){document.querySelectorAll(".event-card").forEach(e=>{e.addEventListener("click",t=>{if("A"!==t.target.tagName){const t=e.getAttribute("data-event-slug");t&&(window.location.hash=`/events/${t}`)}})})}bindTicketSelectors(e){const t=e.currency||"RON",n=document.getElementById("mobile-tickets-btn"),i=document.getElementById("mobile-tickets-close"),r=document.getElementById("mobile-tickets-overlay"),a=document.getElementById("mobile-tickets-panel"),s=()=>{a&&r&&(r.classList.remove("open"),a.classList.remove("open"),document.body.style.overflow="")};n&&n.addEventListener("click",()=>{a&&r&&(r.classList.add("open"),a.classList.add("open"),document.body.style.overflow="hidden")}),i&&i.addEventListener("click",s),r&&r.addEventListener("click",s);const o=()=>{let e=0,n=0,i=!1;const r=this.isGamificationEnabled();document.querySelectorAll(".qty-input:not(.qty-mobile)").forEach(t=>{const r=t,a=parseInt(r.value)||0,s=parseFloat(r.getAttribute("data-price")||"0"),o=parseInt(r.getAttribute("data-points")||"0");e+=a*s,n+=a*o,a>0&&(i=!0)});const a=document.getElementById("total-price");a&&(a.textContent=`${e.toFixed(2)} ${t}`);const s=document.getElementById("total-price-mobile");if(s&&(s.textContent=`${e.toFixed(2)} ${t}`),r){const e=document.getElementById("total-points-container"),t=document.getElementById("points-value");e&&t&&(n>0?(e.style.display="flex",t.textContent=String(n)):e.style.display="none");const i=document.getElementById("total-points-container-mobile"),r=document.getElementById("points-value-mobile");i&&r&&(n>0?(i.style.display="flex",r.textContent=String(n)):i.style.display="none")}const o=document.getElementById("add-to-cart-btn");o&&(o.disabled=!i);const l=document.getElementById("add-to-cart-btn-mobile");l&&(l.disabled=!i)},l=(e,t)=>{const n=document.querySelector(`.qty-input:not(.qty-mobile)[data-ticket-id="${e}"]`);n&&(n.value=t)},d=(e,t)=>{const n=document.querySelector(`.qty-input.qty-mobile[data-ticket-id="${e}"]`);n&&(n.value=t)};document.querySelectorAll(".qty-minus:not(.qty-mobile)").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-ticket-id"),n=document.querySelector(`.qty-input:not(.qty-mobile)[data-ticket-id="${t}"]`);n&&parseInt(n.value)>0&&(n.value=String(parseInt(n.value)-1),t&&d(t,n.value),o())})}),document.querySelectorAll(".qty-plus:not(.qty-mobile)").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-ticket-id"),n=document.querySelector(`.qty-input:not(.qty-mobile)[data-ticket-id="${t}"]`);if(n){const e=parseInt(n.getAttribute("max")||"10");parseInt(n.value)<e&&(n.value=String(parseInt(n.value)+1),t&&d(t,n.value),o())}})}),document.querySelectorAll(".qty-minus.qty-mobile").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-ticket-id"),n=document.querySelector(`.qty-input.qty-mobile[data-ticket-id="${t}"]`);n&&parseInt(n.value)>0&&(n.value=String(parseInt(n.value)-1),t&&l(t,n.value),o())})}),document.querySelectorAll(".qty-plus.qty-mobile").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-ticket-id"),n=document.querySelector(`.qty-input.qty-mobile[data-ticket-id="${t}"]`);if(n){const e=parseInt(n.getAttribute("max")||"10");parseInt(n.value)<e&&(n.value=String(parseInt(n.value)+1),t&&l(t,n.value),o())}})}),document.querySelectorAll(".qty-input:not(.qty-mobile)").forEach(e=>{e.addEventListener("change",()=>{const t=e.getAttribute("data-ticket-id");t&&d(t,e.value),o()})}),document.querySelectorAll(".qty-input.qty-mobile").forEach(e=>{e.addEventListener("change",()=>{const t=e.getAttribute("data-ticket-id");t&&l(t,e.value),o()})});const c=()=>{const t=[];document.querySelectorAll(".qty-input:not(.qty-mobile)").forEach(e=>{const n=e,i=parseInt(n.value)||0;i>0&&t.push({ticket_type_id:n.getAttribute("data-ticket-id"),quantity:i,price:parseFloat(n.getAttribute("data-price")||"0")})}),t.length>0&&this.eventBus&&(this.eventBus.emit("cart:add",{event:e,items:t}),s(),window.location.hash="/cart")},p=document.getElementById("add-to-cart-btn");p&&p.addEventListener("click",c);const m=document.getElementById("add-to-cart-btn-mobile");m&&m.addEventListener("click",c)}async loadPastEvents(){if(!this.apiClient)return;const e=document.getElementById("past-events-container");if(e)try{const t={};this.pastEventsFilters.year&&(t.year=String(this.pastEventsFilters.year)),this.pastEventsFilters.month&&(t.month=String(this.pastEventsFilters.month));const n=new URLSearchParams(t).toString(),i="/events/past"+(n?`?${n}`:""),r=await this.apiClient.get(i);this.pastEvents=r.data.events||[],e.innerHTML=this.renderPastEventsPage(),this.bindPastEventsFilters()}catch(t){e.innerHTML='<p class="text-red-500">Nu s-au putut încărca evenimentele trecute.</p>'}}renderPastEventsPage(){const e=(new Date).getFullYear(),t=[];for(let i=e;i>=e-10;i--)t.push(i);const n=this.groupEventsByMonth(this.pastEvents);return`\n            <div class="past-events-page">\n                <h1 style="font-size: 2rem; font-weight: 700; margin-bottom: 1.5rem;">Evenimente trecute</h1>\n\n                \x3c!-- Filters --\x3e\n                <div class="past-events-filters" style="display: flex; gap: 1rem; margin-bottom: 2rem; flex-wrap: wrap;">\n                    <select id="filter-year" style="padding: 0.5rem 1rem; border: 1px solid #d1d5db; border-radius: 0.5rem; background: white; min-width: 120px;">\n                        <option value="">Toți anii</option>\n                        ${t.map(e=>`<option value="${e}" ${this.pastEventsFilters.year===e?"selected":""}>${e}</option>`).join("")}\n                    </select>\n                    <select id="filter-month" style="padding: 0.5rem 1rem; border: 1px solid #d1d5db; border-radius: 0.5rem; background: white; min-width: 150px;">\n                        <option value="">Toate lunile</option>\n                        ${[{value:1,name:"Ianuarie"},{value:2,name:"Februarie"},{value:3,name:"Martie"},{value:4,name:"Aprilie"},{value:5,name:"Mai"},{value:6,name:"Iunie"},{value:7,name:"Iulie"},{value:8,name:"August"},{value:9,name:"Septembrie"},{value:10,name:"Octombrie"},{value:11,name:"Noiembrie"},{value:12,name:"Decembrie"}].map(e=>`<option value="${e.value}" ${this.pastEventsFilters.month===e.value?"selected":""}>${e.name}</option>`).join("")}\n                    </select>\n                    <button id="clear-filters" style="padding: 0.5rem 1rem; border: 1px solid #d1d5db; border-radius: 0.5rem; background: #f3f4f6; cursor: pointer;">\n                        Resetează filtrele\n                    </button>\n                </div>\n\n                \x3c!-- Events grouped by month --\x3e\n                <div class="past-events-list">\n                    ${0===this.pastEvents.length?'<p style="color: #6b7280;">Nu există evenimente pentru perioada selectată.</p>':this.renderEventsByMonth(n)}\n                </div>\n            </div>\n        `}groupEventsByMonth(e){const t=new Map;return e.forEach(e=>{const n=new Date(e.event_date),i=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}`;t.has(i)||t.set(i,[]),t.get(i).push(e)}),new Map([...t.entries()].sort((e,t)=>t[0].localeCompare(e[0])))}renderEventsByMonth(e){const t=["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"];let n="";return e.forEach((e,i)=>{const[r,a]=i.split("-"),s=t[parseInt(a)-1];n+=`\n                <div class="month-section" style="margin-bottom: 2.5rem;">\n                    <h2 style="font-size: 1.25rem; font-weight: 600; color: #374151; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid #e5e7eb;">\n                        ${s} ${r}\n                    </h2>\n                    <div class="events-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">\n                        ${e.map(e=>this.renderPastEventCard(e)).join("")}\n                    </div>\n                </div>\n            `}),n}renderPastEventCard(e){const t=new Date(e.event_date).toLocaleDateString("ro-RO",{weekday:"short",day:"numeric",month:"short",year:"numeric"}),n=e.poster_url||e.hero_image_url||e.image_url;return`\n            <div class="tixello-card past-event-card" style="opacity: 0.9;">\n                ${n?`<div style="position: relative;">\n                        <img src="${n}" alt="${e.title}" style="width: 100%; height: 160px; object-fit: cover; border-radius: 0.5rem 0.5rem 0 0; filter: grayscale(30%);">\n                        <span style="position: absolute; top: 0.5rem; right: 0.5rem; background: #374151; color: white; padding: 0.25rem 0.5rem; border-radius: 0.25rem; font-size: 0.75rem;">Încheiat</span>\n                       </div>`:""}\n                <div style="padding: 1rem;">\n                    <h3 style="font-size: 1.1rem; font-weight: 600; margin-bottom: 0.5rem; color: #1f2937;">${e.title}</h3>\n                    <p style="color: #6b7280; font-size: 0.875rem;">\n                        ${t}\n                    </p>\n                    ${e.venue?`<p style="color: #9ca3af; font-size: 0.875rem;">${e.venue}</p>`:""}\n                </div>\n            </div>\n        `}bindPastEventsFilters(){const e=document.getElementById("filter-year"),t=document.getElementById("filter-month"),n=document.getElementById("clear-filters");e&&e.addEventListener("change",()=>{this.pastEventsFilters.year=e.value?parseInt(e.value):void 0,this.loadPastEvents()}),t&&t.addEventListener("change",()=>{this.pastEventsFilters.month=t.value?parseInt(t.value):void 0,this.loadPastEvents()}),n&&n.addEventListener("click",()=>{this.pastEventsFilters={},this.loadPastEvents()})}}},Symbol.toStringTag,{value:"Module"}));const L=Object.freeze(Object.defineProperty({__proto__:null,CartModule:class{constructor(){__publicField(this,"name","cart")}async init(){}}},Symbol.toStringTag,{value:"Module"}));const z=Object.freeze(Object.defineProperty({__proto__:null,CheckoutModule:class{constructor(){__publicField(this,"name","checkout")}async init(){}}},Symbol.toStringTag,{value:"Module"}));const I=Object.freeze(Object.defineProperty({__proto__:null,SeatingModule:class{constructor(){__publicField(this,"name","seating")}async init(){}}},Symbol.toStringTag,{value:"Module"}));const T=Object.freeze(Object.defineProperty({__proto__:null,ShopModule:class{constructor(){__publicField(this,"name","shop"),__publicField(this,"apiClient",null),__publicField(this,"eventBus",null),__publicField(this,"products",[]),__publicField(this,"categories",[]),__publicField(this,"filters",{}),__publicField(this,"pagination",{total:0,per_page:12,current_page:1,last_page:1}),__publicField(this,"cartSessionId"),this.cartSessionId=this.getOrCreateSessionId()}async init(e,t){this.apiClient=e,this.eventBus=t,this.eventBus.on("route:shop",()=>this.loadShopPage()),this.eventBus.on("route:shop-category",e=>this.loadCategoryPage(e)),this.eventBus.on("route:shop-product",e=>this.loadProductPage(e)),this.eventBus.on("route:shop-cart",()=>this.loadCartPage()),this.eventBus.on("route:shop-checkout",()=>this.loadCheckoutPage())}getOrCreateSessionId(){let e=localStorage.getItem("shop_session_id");return e||(e="shop-"+Math.random().toString(36).substr(2,16),localStorage.setItem("shop_session_id",e)),e}formatCurrency(e,t="RON"){return new Intl.NumberFormat("ro-RO",{style:"currency",currency:t}).format(e)}async loadShopPage(){var e;if(!this.apiClient)return;const t=document.getElementById("shop-products");if(t){this.parseFiltersFromUrl();try{const[n,i]=await Promise.all([this.apiClient.get("/shop/categories"),this.loadProducts()]);this.categories=(null==(e=n.data.data)?void 0:e.categories)||[],t.innerHTML=this.renderShopPage(),this.bindShopFilters(),this.bindProductCards()}catch(n){t.innerHTML='<p class="text-red-500">Nu s-au putut incarca produsele. Incearca din nou.</p>'}}}parseFiltersFromUrl(){const e=window.location.hash,t=new URLSearchParams(e.split("?")[1]||"");this.filters={category:t.get("category")||void 0,type:t.get("type")||void 0,sort:t.get("sort")||"newest",search:t.get("search")||void 0,min_price:t.get("min_price")?parseInt(t.get("min_price")):void 0,max_price:t.get("max_price")?parseInt(t.get("max_price")):void 0,page:parseInt(t.get("page")||"1")}}async loadProducts(){var e,t;if(!this.apiClient)return;const n={};this.filters.category&&(n.category=this.filters.category),this.filters.type&&(n.type=this.filters.type),this.filters.sort&&(n.sort=this.filters.sort),this.filters.search&&(n.search=this.filters.search),this.filters.min_price&&(n.min_price=String(this.filters.min_price)),this.filters.max_price&&(n.max_price=String(this.filters.max_price)),this.filters.page&&(n.page=String(this.filters.page));const i=new URLSearchParams(n).toString(),r=await this.apiClient.get("/shop/products"+(i?`?${i}`:""));this.products=(null==(e=r.data.data)?void 0:e.products)||[],this.pagination=(null==(t=r.data.data)?void 0:t.pagination)||{total:0,per_page:12,current_page:1,last_page:1}}renderShopPage(){return`\n            <style>\n                .shop-page {\n                    max-width: 1400px;\n                    margin: 0 auto;\n                    padding: 1.5rem 1rem;\n                }\n                @media (min-width: 768px) {\n                    .shop-page {\n                        padding: 2rem;\n                    }\n                }\n                .shop-header {\n                    margin-bottom: 2rem;\n                }\n                .shop-title {\n                    font-size: 2rem;\n                    font-weight: 700;\n                    color: var(--sleek-text, #1f2937);\n                    margin: 0 0 0.5rem 0;\n                }\n                .shop-subtitle {\n                    color: var(--sleek-text-muted, #6b7280);\n                    font-size: 0.95rem;\n                }\n                .shop-layout {\n                    display: grid;\n                    gap: 2rem;\n                }\n                @media (min-width: 1024px) {\n                    .shop-layout {\n                        grid-template-columns: 280px 1fr;\n                    }\n                }\n                .shop-sidebar {\n                    background: var(--sleek-surface, #ffffff);\n                    border: 1px solid var(--sleek-border, #e5e7eb);\n                    border-radius: 0.75rem;\n                    padding: 1.5rem;\n                    height: fit-content;\n                    position: sticky;\n                    top: 1rem;\n                }\n                @media (max-width: 1023px) {\n                    .shop-sidebar {\n                        display: none;\n                    }\n                    .shop-sidebar.mobile-open {\n                        display: block;\n                        position: fixed;\n                        top: 0;\n                        left: 0;\n                        right: 0;\n                        bottom: 0;\n                        z-index: 50;\n                        overflow-y: auto;\n                        border-radius: 0;\n                    }\n                }\n                .filter-section {\n                    margin-bottom: 1.5rem;\n                    padding-bottom: 1.5rem;\n                    border-bottom: 1px solid var(--sleek-border, #e5e7eb);\n                }\n                .filter-section:last-child {\n                    border-bottom: none;\n                    margin-bottom: 0;\n                    padding-bottom: 0;\n                }\n                .filter-title {\n                    font-weight: 600;\n                    font-size: 0.9rem;\n                    color: var(--sleek-text, #1f2937);\n                    margin-bottom: 0.75rem;\n                }\n                .filter-options {\n                    display: flex;\n                    flex-direction: column;\n                    gap: 0.5rem;\n                }\n                .filter-option {\n                    display: flex;\n                    align-items: center;\n                    gap: 0.5rem;\n                    padding: 0.5rem;\n                    border-radius: 0.375rem;\n                    cursor: pointer;\n                    transition: background 0.2s;\n                    color: var(--sleek-text-muted, #6b7280);\n                    font-size: 0.9rem;\n                }\n                .filter-option:hover {\n                    background: rgba(0,0,0,0.03);\n                }\n                .filter-option.active {\n                    background: var(--sleek-glow, rgba(99, 102, 241, 0.1));\n                    color: var(--sleek-gradient-start, #6366f1);\n                    font-weight: 500;\n                }\n                .filter-option-count {\n                    margin-left: auto;\n                    font-size: 0.75rem;\n                    color: var(--sleek-text-subtle, #9ca3af);\n                }\n                .price-range-inputs {\n                    display: grid;\n                    grid-template-columns: 1fr 1fr;\n                    gap: 0.5rem;\n                }\n                .price-input {\n                    padding: 0.5rem;\n                    border: 1px solid var(--sleek-border, #d1d5db);\n                    border-radius: 0.375rem;\n                    font-size: 0.875rem;\n                    width: 100%;\n                }\n                .price-input:focus {\n                    outline: none;\n                    border-color: var(--sleek-gradient-start, #6366f1);\n                }\n                .shop-toolbar {\n                    display: flex;\n                    justify-content: space-between;\n                    align-items: center;\n                    margin-bottom: 1.5rem;\n                    flex-wrap: wrap;\n                    gap: 1rem;\n                }\n                .shop-results-count {\n                    color: var(--sleek-text-muted, #6b7280);\n                    font-size: 0.9rem;\n                }\n                .shop-sort-select {\n                    padding: 0.5rem 1rem;\n                    border: 1px solid var(--sleek-border, #d1d5db);\n                    border-radius: 0.5rem;\n                    background: white;\n                    font-size: 0.875rem;\n                    cursor: pointer;\n                }\n                .shop-search-box {\n                    display: flex;\n                    gap: 0.5rem;\n                    flex: 1;\n                    max-width: 300px;\n                }\n                .shop-search-input {\n                    flex: 1;\n                    padding: 0.5rem 1rem;\n                    border: 1px solid var(--sleek-border, #d1d5db);\n                    border-radius: 0.5rem;\n                    font-size: 0.875rem;\n                }\n                .shop-search-input:focus {\n                    outline: none;\n                    border-color: var(--sleek-gradient-start, #6366f1);\n                }\n                .mobile-filter-btn {\n                    display: none;\n                    padding: 0.5rem 1rem;\n                    border: 1px solid var(--sleek-border, #d1d5db);\n                    border-radius: 0.5rem;\n                    background: white;\n                    cursor: pointer;\n                    font-size: 0.875rem;\n                }\n                @media (max-width: 1023px) {\n                    .mobile-filter-btn {\n                        display: flex;\n                        align-items: center;\n                        gap: 0.5rem;\n                    }\n                }\n                .products-grid {\n                    display: grid;\n                    grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));\n                    gap: 1.5rem;\n                }\n                @media (min-width: 640px) {\n                    .products-grid {\n                        grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));\n                    }\n                }\n                .product-card {\n                    background: var(--sleek-surface, #ffffff);\n                    border: 1px solid var(--sleek-border, #e5e7eb);\n                    border-radius: 0.75rem;\n                    overflow: hidden;\n                    transition: all 0.2s;\n                    cursor: pointer;\n                }\n                .product-card:hover {\n                    border-color: var(--sleek-border-light, #d1d5db);\n                    box-shadow: 0 4px 12px rgba(0,0,0,0.08);\n                    transform: translateY(-2px);\n                }\n                .product-card-image {\n                    position: relative;\n                    aspect-ratio: 1;\n                    background: #f3f4f6;\n                    overflow: hidden;\n                }\n                .product-card-image img {\n                    width: 100%;\n                    height: 100%;\n                    object-fit: cover;\n                    transition: transform 0.3s;\n                }\n                .product-card:hover .product-card-image img {\n                    transform: scale(1.05);\n                }\n                .product-badge {\n                    position: absolute;\n                    top: 0.75rem;\n                    left: 0.75rem;\n                    padding: 0.25rem 0.5rem;\n                    border-radius: 0.25rem;\n                    font-size: 0.7rem;\n                    font-weight: 600;\n                    text-transform: uppercase;\n                }\n                .product-badge.sale {\n                    background: #ef4444;\n                    color: white;\n                }\n                .product-badge.out-of-stock {\n                    background: #6b7280;\n                    color: white;\n                }\n                .product-badge.featured {\n                    background: #f59e0b;\n                    color: white;\n                }\n                .product-wishlist-btn {\n                    position: absolute;\n                    top: 0.75rem;\n                    right: 0.75rem;\n                    width: 36px;\n                    height: 36px;\n                    border-radius: 50%;\n                    background: white;\n                    border: none;\n                    cursor: pointer;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n                    transition: all 0.2s;\n                }\n                .product-wishlist-btn:hover {\n                    transform: scale(1.1);\n                }\n                .product-wishlist-btn.active svg {\n                    fill: #ef4444;\n                    color: #ef4444;\n                }\n                .product-card-body {\n                    padding: 1rem;\n                }\n                .product-card-category {\n                    font-size: 0.75rem;\n                    color: var(--sleek-text-subtle, #9ca3af);\n                    text-transform: uppercase;\n                    letter-spacing: 0.05em;\n                    margin-bottom: 0.25rem;\n                }\n                .product-card-title {\n                    font-weight: 600;\n                    font-size: 0.95rem;\n                    color: var(--sleek-text, #1f2937);\n                    margin-bottom: 0.5rem;\n                    display: -webkit-box;\n                    -webkit-line-clamp: 2;\n                    -webkit-box-orient: vertical;\n                    overflow: hidden;\n                }\n                .product-card-rating {\n                    display: flex;\n                    align-items: center;\n                    gap: 0.25rem;\n                    margin-bottom: 0.5rem;\n                    font-size: 0.8rem;\n                    color: var(--sleek-text-muted, #6b7280);\n                }\n                .product-card-rating svg {\n                    width: 14px;\n                    height: 14px;\n                    color: #f59e0b;\n                    fill: #f59e0b;\n                }\n                .product-card-price {\n                    display: flex;\n                    align-items: center;\n                    gap: 0.5rem;\n                }\n                .product-price-current {\n                    font-weight: 700;\n                    font-size: 1.1rem;\n                    color: var(--sleek-text, #1f2937);\n                }\n                .product-price-original {\n                    font-size: 0.9rem;\n                    color: var(--sleek-text-muted, #6b7280);\n                    text-decoration: line-through;\n                }\n                .product-discount {\n                    font-size: 0.75rem;\n                    font-weight: 600;\n                    color: #ef4444;\n                }\n                .pagination {\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    gap: 0.5rem;\n                    margin-top: 2rem;\n                }\n                .pagination-btn {\n                    padding: 0.5rem 1rem;\n                    border: 1px solid var(--sleek-border, #d1d5db);\n                    border-radius: 0.375rem;\n                    background: white;\n                    cursor: pointer;\n                    font-size: 0.875rem;\n                    transition: all 0.2s;\n                }\n                .pagination-btn:hover:not(:disabled) {\n                    border-color: var(--sleek-gradient-start, #6366f1);\n                    color: var(--sleek-gradient-start, #6366f1);\n                }\n                .pagination-btn:disabled {\n                    opacity: 0.5;\n                    cursor: not-allowed;\n                }\n                .pagination-btn.active {\n                    background: var(--sleek-gradient-start, #6366f1);\n                    color: white;\n                    border-color: var(--sleek-gradient-start, #6366f1);\n                }\n                .empty-state {\n                    text-align: center;\n                    padding: 4rem 2rem;\n                }\n                .empty-state-icon {\n                    width: 80px;\n                    height: 80px;\n                    background: var(--sleek-surface, #f3f4f6);\n                    border: 1px solid var(--sleek-border, #e5e7eb);\n                    border-radius: 50%;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    margin: 0 auto 1.5rem;\n                }\n                .empty-state-icon svg {\n                    width: 36px;\n                    height: 36px;\n                    color: var(--sleek-text-subtle, #9ca3af);\n                }\n                .empty-state-title {\n                    font-size: 1.25rem;\n                    font-weight: 600;\n                    color: var(--sleek-text, #1f2937);\n                    margin-bottom: 0.5rem;\n                }\n                .empty-state-desc {\n                    color: var(--sleek-text-muted, #6b7280);\n                }\n            </style>\n\n            <div class="shop-page">\n                <div class="shop-header">\n                    <h1 class="shop-title">Magazin</h1>\n                    <p class="shop-subtitle">Descopera produsele noastre</p>\n                </div>\n\n                <div class="shop-layout">\n                    \x3c!-- Sidebar Filters --\x3e\n                    <aside class="shop-sidebar" id="shop-sidebar">\n                        <div class="filter-section">\n                            <h3 class="filter-title">Categorii</h3>\n                            <div class="filter-options">\n                                <div class="filter-option ${this.filters.category?"":"active"}" data-category="">\n                                    Toate produsele\n                                </div>\n                                ${this.categories.map(e=>`\n                                    <div class="filter-option ${this.filters.category===e.slug?"active":""}" data-category="${e.slug}">\n                                        ${e.name}\n                                        <span class="filter-option-count">${e.products_count}</span>\n                                    </div>\n                                `).join("")}\n                            </div>\n                        </div>\n\n                        <div class="filter-section">\n                            <h3 class="filter-title">Tip produs</h3>\n                            <div class="filter-options">\n                                <div class="filter-option ${this.filters.type?"":"active"}" data-type="">\n                                    Toate\n                                </div>\n                                <div class="filter-option ${"physical"===this.filters.type?"active":""}" data-type="physical">\n                                    Produse fizice\n                                </div>\n                                <div class="filter-option ${"digital"===this.filters.type?"active":""}" data-type="digital">\n                                    Produse digitale\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="filter-section">\n                            <h3 class="filter-title">Pret</h3>\n                            <div class="price-range-inputs">\n                                <input type="number" class="price-input" id="min-price" placeholder="Min" value="${this.filters.min_price||""}">\n                                <input type="number" class="price-input" id="max-price" placeholder="Max" value="${this.filters.max_price||""}">\n                            </div>\n                            <button id="apply-price-filter" style="margin-top: 0.75rem; padding: 0.5rem 1rem; background: var(--sleek-gradient-start, #6366f1); color: white; border: none; border-radius: 0.375rem; cursor: pointer; font-size: 0.875rem; width: 100%;">\n                                Aplica\n                            </button>\n                        </div>\n\n                        <button id="clear-all-filters" style="width: 100%; padding: 0.75rem; border: 1px solid var(--sleek-border, #d1d5db); border-radius: 0.375rem; background: white; cursor: pointer; font-size: 0.875rem;">\n                            Sterge filtrele\n                        </button>\n                    </aside>\n\n                    \x3c!-- Products Content --\x3e\n                    <div class="shop-content">\n                        <div class="shop-toolbar">\n                            <button class="mobile-filter-btn" id="mobile-filter-btn">\n                                <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"/>\n                                </svg>\n                                Filtre\n                            </button>\n\n                            <div class="shop-search-box">\n                                <input type="text" class="shop-search-input" id="shop-search" placeholder="Cauta produse..." value="${this.filters.search||""}">\n                            </div>\n\n                            <span class="shop-results-count">${this.pagination.total} produse</span>\n\n                            <select class="shop-sort-select" id="shop-sort">\n                                <option value="newest" ${"newest"===this.filters.sort?"selected":""}>Cele mai noi</option>\n                                <option value="price_asc" ${"price_asc"===this.filters.sort?"selected":""}>Pret crescator</option>\n                                <option value="price_desc" ${"price_desc"===this.filters.sort?"selected":""}>Pret descrescator</option>\n                                <option value="name_asc" ${"name_asc"===this.filters.sort?"selected":""}>A - Z</option>\n                                <option value="name_desc" ${"name_desc"===this.filters.sort?"selected":""}>Z - A</option>\n                                <option value="rating" ${"rating"===this.filters.sort?"selected":""}>Rating</option>\n                            </select>\n                        </div>\n\n                        ${0===this.products.length?this.renderEmptyState():`\n                            <div class="products-grid">\n                                ${this.products.map(e=>this.renderProductCard(e)).join("")}\n                            </div>\n                            ${this.renderPagination()}\n                        `}\n                    </div>\n                </div>\n            </div>\n        `}renderProductCard(e){const t=e.is_on_sale&&e.sale_price_cents?e.sale_price_cents/100:e.price_cents/100;return`\n            <div class="product-card" data-product-slug="${e.slug}">\n                <div class="product-card-image">\n                    ${e.image_url?`<img src="${e.image_url}" alt="${e.title}" loading="lazy">`:'<div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; background: #f3f4f6;">\n                            <svg width="48" height="48" fill="none" stroke="#d1d5db" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>\n                            </svg>\n                           </div>'}\n                    ${e.is_on_sale?'<span class="product-badge sale">Reducere</span>':""}\n                    ${e.is_in_stock?"":'<span class="product-badge out-of-stock">Stoc epuizat</span>'}\n                    ${e.is_featured&&e.is_in_stock&&!e.is_on_sale?'<span class="product-badge featured">Recomandat</span>':""}\n                    <button class="product-wishlist-btn" data-product-id="${e.id}" onclick="event.stopPropagation()">\n                        <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>\n                        </svg>\n                    </button>\n                </div>\n                <div class="product-card-body">\n                    ${e.category?`<span class="product-card-category">${e.category}</span>`:""}\n                    <h3 class="product-card-title">${e.title}</h3>\n                    ${e.average_rating>0?`\n                        <div class="product-card-rating">\n                            <svg viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>\n                            ${e.average_rating.toFixed(1)} (${e.review_count})\n                        </div>\n                    `:""}\n                    <div class="product-card-price">\n                        <span class="product-price-current">${this.formatCurrency(t,e.currency)}</span>\n                        ${e.is_on_sale&&e.sale_price_cents?`\n                            <span class="product-price-original">${this.formatCurrency(e.price_cents/100,e.currency)}</span>\n                            <span class="product-discount">-${e.discount_percentage}%</span>\n                        `:""}\n                    </div>\n                </div>\n            </div>\n        `}renderEmptyState(){return'\n            <div class="empty-state">\n                <div class="empty-state-icon">\n                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>\n                    </svg>\n                </div>\n                <h2 class="empty-state-title">Niciun produs gasit</h2>\n                <p class="empty-state-desc">Incearca sa modifici filtrele sau cauta altceva</p>\n            </div>\n        '}renderPagination(){if(this.pagination.last_page<=1)return"";let e=[];const t=this.pagination.current_page,n=this.pagination.last_page;e.push(1),t>3&&e.push("...");for(let i=Math.max(2,t-1);i<=Math.min(n-1,t+1);i++)e.push(i);return t<n-2&&e.push("..."),n>1&&e.push(n),`\n            <div class="pagination">\n                <button class="pagination-btn" data-page="${t-1}" ${1===t?"disabled":""}>\n                    &larr; Inapoi\n                </button>\n                ${e.map(e=>"number"==typeof e?`<button class="pagination-btn ${e===t?"active":""}" data-page="${e}">${e}</button>`:'<span style="padding: 0.5rem;">...</span>').join("")}\n                <button class="pagination-btn" data-page="${t+1}" ${t===n?"disabled":""}>\n                    Inainte &rarr;\n                </button>\n            </div>\n        `}bindShopFilters(){var e,t,n,i,r;let a;document.querySelectorAll("[data-category]").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-category");this.filters.category=t||void 0,this.filters.page=1,this.updateUrlAndReload()})}),document.querySelectorAll("[data-type]").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-type");this.filters.type=t||void 0,this.filters.page=1,this.updateUrlAndReload()})}),null==(e=document.getElementById("shop-sort"))||e.addEventListener("change",e=>{this.filters.sort=e.target.value,this.filters.page=1,this.updateUrlAndReload()}),null==(t=document.getElementById("shop-search"))||t.addEventListener("input",e=>{clearTimeout(a),a=setTimeout(()=>{this.filters.search=e.target.value||void 0,this.filters.page=1,this.updateUrlAndReload()},500)}),null==(n=document.getElementById("apply-price-filter"))||n.addEventListener("click",()=>{const e=document.getElementById("min-price").value,t=document.getElementById("max-price").value;this.filters.min_price=e?parseInt(e):void 0,this.filters.max_price=t?parseInt(t):void 0,this.filters.page=1,this.updateUrlAndReload()}),null==(i=document.getElementById("clear-all-filters"))||i.addEventListener("click",()=>{this.filters={sort:"newest",page:1},this.updateUrlAndReload()}),document.querySelectorAll(".pagination-btn[data-page]").forEach(e=>{e.addEventListener("click",()=>{const t=parseInt(e.getAttribute("data-page")||"1");t>=1&&t<=this.pagination.last_page&&(this.filters.page=t,this.updateUrlAndReload())})}),null==(r=document.getElementById("mobile-filter-btn"))||r.addEventListener("click",()=>{var e;null==(e=document.getElementById("shop-sidebar"))||e.classList.toggle("mobile-open")})}bindProductCards(){document.querySelectorAll(".product-card").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-product-slug");t&&(window.location.hash=`/shop/product/${t}`)})}),document.querySelectorAll(".product-wishlist-btn").forEach(e=>{e.addEventListener("click",async t=>{t.stopPropagation();const n=e.getAttribute("data-product-id");if(n&&this.apiClient)try{await this.apiClient.post("/shop/wishlist/items",{product_id:n}),e.classList.toggle("active")}catch(i){}})})}updateUrlAndReload(){const e=new URLSearchParams;this.filters.category&&e.set("category",this.filters.category),this.filters.type&&e.set("type",this.filters.type),this.filters.sort&&"newest"!==this.filters.sort&&e.set("sort",this.filters.sort),this.filters.search&&e.set("search",this.filters.search),this.filters.min_price&&e.set("min_price",String(this.filters.min_price)),this.filters.max_price&&e.set("max_price",String(this.filters.max_price)),this.filters.page&&this.filters.page>1&&e.set("page",String(this.filters.page));const t=e.toString();window.location.hash="/shop"+(t?`?${t}`:"")}async loadCategoryPage(e){this.filters.category=e,this.filters.page=1,await this.loadShopPage()}async loadProductPage(e){if(!this.apiClient)return;const t=document.getElementById(`shop-product-${e}`);if(t)try{const n=await this.apiClient.get(`/shop/products/${e}`),{product:i,related:r}=n.data.data;t.innerHTML=this.renderProductPage(i,r),this.bindProductPageEvents(i)}catch(n){t.innerHTML='<p class="text-red-500">Nu s-a putut incarca produsul.</p>'}}renderProductPage(e,t){const n=e.is_on_sale&&e.sale_price_cents?e.sale_price_cents/100:e.price_cents/100;return`\n            <style>\n                .product-page {\n                    max-width: 1200px;\n                    margin: 0 auto;\n                    padding: 1.5rem 1rem;\n                }\n                @media (min-width: 768px) {\n                    .product-page {\n                        padding: 2rem;\n                    }\n                }\n                .product-layout {\n                    display: grid;\n                    gap: 2rem;\n                }\n                @media (min-width: 768px) {\n                    .product-layout {\n                        grid-template-columns: 1fr 1fr;\n                        gap: 3rem;\n                    }\n                }\n                .product-gallery {\n                    position: relative;\n                }\n                .product-main-image {\n                    aspect-ratio: 1;\n                    border-radius: 0.75rem;\n                    overflow: hidden;\n                    background: #f3f4f6;\n                }\n                .product-main-image img {\n                    width: 100%;\n                    height: 100%;\n                    object-fit: cover;\n                }\n                .product-thumbnails {\n                    display: flex;\n                    gap: 0.75rem;\n                    margin-top: 1rem;\n                    overflow-x: auto;\n                }\n                .product-thumbnail {\n                    width: 80px;\n                    height: 80px;\n                    border-radius: 0.5rem;\n                    overflow: hidden;\n                    cursor: pointer;\n                    border: 2px solid transparent;\n                    flex-shrink: 0;\n                }\n                .product-thumbnail.active {\n                    border-color: var(--sleek-gradient-start, #6366f1);\n                }\n                .product-thumbnail img {\n                    width: 100%;\n                    height: 100%;\n                    object-fit: cover;\n                }\n                .product-info {\n                    display: flex;\n                    flex-direction: column;\n                    gap: 1.5rem;\n                }\n                .product-breadcrumb {\n                    display: flex;\n                    align-items: center;\n                    gap: 0.5rem;\n                    font-size: 0.875rem;\n                    color: var(--sleek-text-muted, #6b7280);\n                }\n                .product-breadcrumb a {\n                    color: var(--sleek-text-muted, #6b7280);\n                    text-decoration: none;\n                }\n                .product-breadcrumb a:hover {\n                    color: var(--sleek-gradient-start, #6366f1);\n                }\n                .product-title {\n                    font-size: 1.75rem;\n                    font-weight: 700;\n                    color: var(--sleek-text, #1f2937);\n                    margin: 0;\n                }\n                .product-rating-row {\n                    display: flex;\n                    align-items: center;\n                    gap: 1rem;\n                }\n                .product-stars {\n                    display: flex;\n                    gap: 0.125rem;\n                }\n                .product-stars svg {\n                    width: 18px;\n                    height: 18px;\n                    color: #f59e0b;\n                    fill: #f59e0b;\n                }\n                .product-stars svg.empty {\n                    fill: none;\n                    color: #d1d5db;\n                }\n                .product-review-count {\n                    color: var(--sleek-text-muted, #6b7280);\n                    font-size: 0.9rem;\n                }\n                .product-price-section {\n                    display: flex;\n                    align-items: baseline;\n                    gap: 1rem;\n                }\n                .product-current-price {\n                    font-size: 2rem;\n                    font-weight: 700;\n                    color: var(--sleek-text, #1f2937);\n                }\n                .product-original-price {\n                    font-size: 1.25rem;\n                    color: var(--sleek-text-muted, #6b7280);\n                    text-decoration: line-through;\n                }\n                .product-discount-badge {\n                    padding: 0.25rem 0.75rem;\n                    background: #fef2f2;\n                    color: #ef4444;\n                    font-size: 0.875rem;\n                    font-weight: 600;\n                    border-radius: 0.375rem;\n                }\n                .product-description {\n                    color: var(--sleek-text-muted, #6b7280);\n                    line-height: 1.6;\n                }\n                .product-variants {\n                    display: flex;\n                    flex-direction: column;\n                    gap: 1rem;\n                }\n                .variant-group {\n                    display: flex;\n                    flex-direction: column;\n                    gap: 0.5rem;\n                }\n                .variant-label {\n                    font-weight: 600;\n                    font-size: 0.9rem;\n                    color: var(--sleek-text, #1f2937);\n                }\n                .variant-options {\n                    display: flex;\n                    flex-wrap: wrap;\n                    gap: 0.5rem;\n                }\n                .variant-option {\n                    padding: 0.5rem 1rem;\n                    border: 2px solid var(--sleek-border, #d1d5db);\n                    border-radius: 0.5rem;\n                    cursor: pointer;\n                    font-size: 0.875rem;\n                    transition: all 0.2s;\n                    background: white;\n                }\n                .variant-option:hover {\n                    border-color: var(--sleek-gradient-start, #6366f1);\n                }\n                .variant-option.active {\n                    border-color: var(--sleek-gradient-start, #6366f1);\n                    background: var(--sleek-glow, rgba(99, 102, 241, 0.1));\n                    color: var(--sleek-gradient-start, #6366f1);\n                }\n                .variant-option.disabled {\n                    opacity: 0.5;\n                    cursor: not-allowed;\n                }\n                .color-option {\n                    width: 36px;\n                    height: 36px;\n                    border-radius: 50%;\n                    padding: 0;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                }\n                .color-option.active {\n                    box-shadow: 0 0 0 3px var(--sleek-gradient-start, #6366f1);\n                }\n                .quantity-selector {\n                    display: flex;\n                    align-items: center;\n                    gap: 0.5rem;\n                }\n                .quantity-btn {\n                    width: 40px;\n                    height: 40px;\n                    border: 1px solid var(--sleek-border, #d1d5db);\n                    border-radius: 0.5rem;\n                    background: white;\n                    cursor: pointer;\n                    font-size: 1.25rem;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    transition: all 0.2s;\n                }\n                .quantity-btn:hover {\n                    border-color: var(--sleek-gradient-start, #6366f1);\n                    color: var(--sleek-gradient-start, #6366f1);\n                }\n                .quantity-input {\n                    width: 60px;\n                    height: 40px;\n                    text-align: center;\n                    border: 1px solid var(--sleek-border, #d1d5db);\n                    border-radius: 0.5rem;\n                    font-size: 1rem;\n                }\n                .add-to-cart-section {\n                    display: flex;\n                    gap: 1rem;\n                    flex-wrap: wrap;\n                }\n                .add-to-cart-btn {\n                    flex: 1;\n                    min-width: 200px;\n                    padding: 1rem 2rem;\n                    background: linear-gradient(135deg, var(--sleek-gradient-start, #6366f1), var(--sleek-gradient-end, #4f46e5));\n                    color: white;\n                    border: none;\n                    border-radius: 0.5rem;\n                    font-size: 1rem;\n                    font-weight: 600;\n                    cursor: pointer;\n                    transition: all 0.2s;\n                    box-shadow: 0 4px 12px var(--sleek-glow, rgba(99, 102, 241, 0.3));\n                }\n                .add-to-cart-btn:hover {\n                    transform: translateY(-2px);\n                    box-shadow: 0 6px 16px var(--sleek-glow, rgba(99, 102, 241, 0.4));\n                }\n                .add-to-cart-btn:disabled {\n                    opacity: 0.6;\n                    cursor: not-allowed;\n                    transform: none;\n                }\n                .wishlist-btn {\n                    width: 52px;\n                    height: 52px;\n                    border: 1px solid var(--sleek-border, #d1d5db);\n                    border-radius: 0.5rem;\n                    background: white;\n                    cursor: pointer;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    transition: all 0.2s;\n                }\n                .wishlist-btn:hover {\n                    border-color: #ef4444;\n                    color: #ef4444;\n                }\n                .wishlist-btn.active {\n                    background: #fef2f2;\n                    border-color: #ef4444;\n                    color: #ef4444;\n                }\n                .wishlist-btn.active svg {\n                    fill: #ef4444;\n                }\n                .stock-status {\n                    display: flex;\n                    align-items: center;\n                    gap: 0.5rem;\n                    font-size: 0.9rem;\n                }\n                .stock-status.in-stock {\n                    color: #10b981;\n                }\n                .stock-status.out-of-stock {\n                    color: #ef4444;\n                }\n                .stock-status.low-stock {\n                    color: #f59e0b;\n                }\n                .product-tabs {\n                    margin-top: 3rem;\n                    border-top: 1px solid var(--sleek-border, #e5e7eb);\n                    padding-top: 2rem;\n                }\n                .tabs-header {\n                    display: flex;\n                    gap: 2rem;\n                    border-bottom: 1px solid var(--sleek-border, #e5e7eb);\n                    margin-bottom: 1.5rem;\n                }\n                .tab-btn {\n                    padding: 0.75rem 0;\n                    background: none;\n                    border: none;\n                    border-bottom: 2px solid transparent;\n                    font-size: 0.95rem;\n                    font-weight: 500;\n                    color: var(--sleek-text-muted, #6b7280);\n                    cursor: pointer;\n                    transition: all 0.2s;\n                }\n                .tab-btn:hover {\n                    color: var(--sleek-text, #1f2937);\n                }\n                .tab-btn.active {\n                    color: var(--sleek-gradient-start, #6366f1);\n                    border-bottom-color: var(--sleek-gradient-start, #6366f1);\n                }\n                .tab-content {\n                    display: none;\n                }\n                .tab-content.active {\n                    display: block;\n                }\n                .reviews-list {\n                    display: flex;\n                    flex-direction: column;\n                    gap: 1.5rem;\n                }\n                .review-card {\n                    padding: 1.5rem;\n                    background: var(--sleek-surface, #f9fafb);\n                    border-radius: 0.75rem;\n                }\n                .review-header {\n                    display: flex;\n                    justify-content: space-between;\n                    align-items: flex-start;\n                    margin-bottom: 0.75rem;\n                }\n                .review-author {\n                    font-weight: 600;\n                    color: var(--sleek-text, #1f2937);\n                }\n                .review-verified {\n                    font-size: 0.75rem;\n                    color: #10b981;\n                    display: flex;\n                    align-items: center;\n                    gap: 0.25rem;\n                }\n                .review-stars {\n                    display: flex;\n                    gap: 0.125rem;\n                }\n                .review-stars svg {\n                    width: 14px;\n                    height: 14px;\n                    color: #f59e0b;\n                    fill: #f59e0b;\n                }\n                .review-content {\n                    color: var(--sleek-text-muted, #6b7280);\n                    line-height: 1.6;\n                }\n                .review-date {\n                    font-size: 0.8rem;\n                    color: var(--sleek-text-subtle, #9ca3af);\n                    margin-top: 0.75rem;\n                }\n                .related-products {\n                    margin-top: 3rem;\n                    border-top: 1px solid var(--sleek-border, #e5e7eb);\n                    padding-top: 2rem;\n                }\n                .related-title {\n                    font-size: 1.25rem;\n                    font-weight: 600;\n                    color: var(--sleek-text, #1f2937);\n                    margin-bottom: 1.5rem;\n                }\n                .related-grid {\n                    display: grid;\n                    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n                    gap: 1rem;\n                }\n            </style>\n\n            <div class="product-page">\n                <div class="product-layout">\n                    \x3c!-- Gallery --\x3e\n                    <div class="product-gallery">\n                        <div class="product-main-image" id="main-product-image">\n                            ${e.image_url?`<img src="${e.image_url}" alt="${e.title}">`:'<div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;">\n                                    <svg width="64" height="64" fill="none" stroke="#d1d5db" viewBox="0 0 24 24">\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>\n                                    </svg>\n                                   </div>'}\n                        </div>\n                        ${e.gallery&&e.gallery.length>0?`\n                            <div class="product-thumbnails">\n                                <div class="product-thumbnail active" data-image="${e.image_url}">\n                                    <img src="${e.image_url}" alt="">\n                                </div>\n                                ${e.gallery.map(e=>`\n                                    <div class="product-thumbnail" data-image="${e}">\n                                        <img src="${e}" alt="">\n                                    </div>\n                                `).join("")}\n                            </div>\n                        `:""}\n                    </div>\n\n                    \x3c!-- Info --\x3e\n                    <div class="product-info">\n                        <nav class="product-breadcrumb">\n                            <a href="#/shop">Magazin</a>\n                            <span>/</span>\n                            ${e.category?`\n                                <a href="#/shop?category=${e.category_slug}">${e.category}</a>\n                                <span>/</span>\n                            `:""}\n                            <span>${e.title}</span>\n                        </nav>\n\n                        <h1 class="product-title">${e.title}</h1>\n\n                        ${e.average_rating>0?`\n                            <div class="product-rating-row">\n                                <div class="product-stars">\n                                    ${this.renderStars(e.average_rating)}\n                                </div>\n                                <span class="product-review-count">${e.average_rating.toFixed(1)} (${e.review_count} recenzii)</span>\n                            </div>\n                        `:""}\n\n                        <div class="product-price-section">\n                            <span class="product-current-price">${this.formatCurrency(n,e.currency)}</span>\n                            ${e.is_on_sale&&e.sale_price_cents?`\n                                <span class="product-original-price">${this.formatCurrency(e.price_cents/100,e.currency)}</span>\n                                <span class="product-discount-badge">-${e.discount_percentage}%</span>\n                            `:""}\n                        </div>\n\n                        ${e.short_description?`\n                            <p class="product-description">${e.short_description}</p>\n                        `:""}\n\n                        ${this.renderStockStatus(e)}\n\n                        ${e.variants&&e.variants.length>0&&e.attributes?`\n                            <div class="product-variants" id="product-variants">\n                                ${e.attributes.map(e=>`\n                                    <div class="variant-group">\n                                        <span class="variant-label">${e.name}</span>\n                                        <div class="variant-options" data-attribute="${e.slug}">\n                                            ${e.values.map(t=>`\n                                                <button class="variant-option ${"color"===e.type?"color-option":""}"\n                                                    data-value="${t.slug}"\n                                                    ${"color"===e.type&&t.color_code?`style="background-color: ${t.color_code}"`:""}>\n                                                    ${"color"!==e.type?t.value:""}\n                                                </button>\n                                            `).join("")}\n                                        </div>\n                                    </div>\n                                `).join("")}\n                            </div>\n                        `:""}\n\n                        <div class="quantity-selector">\n                            <span style="font-weight: 600; font-size: 0.9rem; margin-right: 0.5rem;">Cantitate:</span>\n                            <button class="quantity-btn" id="qty-minus">-</button>\n                            <input type="number" class="quantity-input" id="product-quantity" value="1" min="1" max="${e.stock_quantity||99}">\n                            <button class="quantity-btn" id="qty-plus">+</button>\n                        </div>\n\n                        <div class="add-to-cart-section">\n                            <button class="add-to-cart-btn" id="add-to-cart-btn" ${e.is_in_stock?"":"disabled"}>\n                                ${e.is_in_stock?"Adauga in cos":"Stoc epuizat"}\n                            </button>\n                            <button class="wishlist-btn" id="product-wishlist-btn" data-product-id="${e.id}">\n                                <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>\n                                </svg>\n                            </button>\n                        </div>\n\n                        ${e.is_in_stock?"":'\n                            <div style="margin-top: 1rem;">\n                                <button class="notify-btn" id="stock-alert-btn" style="padding: 0.75rem 1.5rem; border: 1px solid var(--sleek-gradient-start, #6366f1); border-radius: 0.5rem; background: white; color: var(--sleek-gradient-start, #6366f1); cursor: pointer; font-size: 0.9rem;">\n                                    Anunta-ma cand revine in stoc\n                                </button>\n                            </div>\n                        '}\n                    </div>\n                </div>\n\n                \x3c!-- Tabs: Description & Reviews --\x3e\n                <div class="product-tabs">\n                    <div class="tabs-header">\n                        <button class="tab-btn active" data-tab="description">Descriere</button>\n                        <button class="tab-btn" data-tab="reviews">Recenzii (${e.review_count})</button>\n                    </div>\n\n                    <div class="tab-content active" id="tab-description">\n                        ${e.description||"<p>Nu exista descriere pentru acest produs.</p>"}\n                    </div>\n\n                    <div class="tab-content" id="tab-reviews">\n                        ${e.reviews&&e.reviews.length>0?`\n                            <div class="reviews-list">\n                                ${e.reviews.map(e=>`\n                                    <div class="review-card">\n                                        <div class="review-header">\n                                            <div>\n                                                <div class="review-author">${e.reviewer_name}</div>\n                                                ${e.verified_purchase?'\n                                                    <span class="review-verified">\n                                                        <svg width="12" height="12" fill="currentColor" viewBox="0 0 20 20">\n                                                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>\n                                                        </svg>\n                                                        Achizitie verificata\n                                                    </span>\n                                                ':""}\n                                            </div>\n                                            <div class="review-stars">\n                                                ${this.renderStars(e.rating)}\n                                            </div>\n                                        </div>\n                                        ${e.title?`<h4 style="font-weight: 600; margin-bottom: 0.5rem;">${e.title}</h4>`:""}\n                                        <p class="review-content">${e.content}</p>\n                                        <div class="review-date">${new Date(e.created_at).toLocaleDateString("ro-RO")}</div>\n                                        ${e.admin_response?`\n                                            <div style="margin-top: 1rem; padding: 1rem; background: white; border-radius: 0.5rem; border-left: 3px solid var(--sleek-gradient-start, #6366f1);">\n                                                <div style="font-weight: 600; font-size: 0.85rem; margin-bottom: 0.5rem;">Raspunsul magazinului:</div>\n                                                <p style="color: var(--sleek-text-muted, #6b7280); font-size: 0.9rem;">${e.admin_response}</p>\n                                            </div>\n                                        `:""}\n                                    </div>\n                                `).join("")}\n                            </div>\n                        `:'<p style="color: var(--sleek-text-muted, #6b7280);">Nu exista recenzii pentru acest produs.</p>'}\n                    </div>\n                </div>\n\n                ${t&&t.length>0?`\n                    <div class="related-products">\n                        <h2 class="related-title">Produse similare</h2>\n                        <div class="related-grid">\n                            ${t.map(e=>this.renderProductCard(e)).join("")}\n                        </div>\n                    </div>\n                `:""}\n            </div>\n        `}renderStars(e){let t="";for(let n=1;n<=5;n++)n<=Math.floor(e)?t+='<svg viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>':t+='<svg class="empty" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>';return t}renderStockStatus(e){return e.is_in_stock?null!==e.stock_quantity&&e.stock_quantity<=5?`\n                <div class="stock-status low-stock">\n                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 20 20">\n                        <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>\n                    </svg>\n                    Doar ${e.stock_quantity} in stoc\n                </div>\n            `:'\n            <div class="stock-status in-stock">\n                <svg width="16" height="16" fill="currentColor" viewBox="0 0 20 20">\n                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>\n                </svg>\n                In stoc\n            </div>\n        ':'\n                <div class="stock-status out-of-stock">\n                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 20 20">\n                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>\n                    </svg>\n                    Stoc epuizat\n                </div>\n            '}bindProductPageEvents(e){var t,n,i,r,a;document.querySelectorAll(".product-thumbnail").forEach(e=>{e.addEventListener("click",()=>{document.querySelectorAll(".product-thumbnail").forEach(e=>e.classList.remove("active")),e.classList.add("active");const t=e.getAttribute("data-image"),n=document.querySelector("#main-product-image img");n&&t&&(n.src=t)})});const s=document.getElementById("product-quantity");null==(t=document.getElementById("qty-minus"))||t.addEventListener("click",()=>{const e=parseInt(s.value)||1;e>1&&(s.value=String(e-1))}),null==(n=document.getElementById("qty-plus"))||n.addEventListener("click",()=>{const e=parseInt(s.value)||1;e<(parseInt(s.max)||99)&&(s.value=String(e+1))});let o=null;const l={};document.querySelectorAll(".variant-options").forEach(t=>{const n=t.getAttribute("data-attribute");t.querySelectorAll(".variant-option").forEach(i=>{i.addEventListener("click",()=>{const r=i.getAttribute("data-value");if(n&&r&&(l[n]=r,t.querySelectorAll(".variant-option").forEach(e=>e.classList.remove("active")),i.classList.add("active"),e.variants&&(o=e.variants.find(e=>e.attributes.every(e=>l[e.attribute_slug]===e.value_slug))||null,o))){const t=document.querySelector(".product-current-price");if(t){const n=(o.sale_price_cents||o.price_cents)/100;t.textContent=this.formatCurrency(n,e.currency)}if(o.image_url){const e=document.querySelector("#main-product-image img");e&&(e.src=o.image_url)}}})})}),null==(i=document.getElementById("add-to-cart-btn"))||i.addEventListener("click",async()=>{if(!this.apiClient)return;const t=parseInt(s.value)||1,n=(null==o?void 0:o.id)||null;try{await this.apiClient.post("/shop/cart/items",{product_id:e.id,variant_id:n,quantity:t},{headers:{"X-Session-ID":this.cartSessionId}});const i=document.getElementById("add-to-cart-btn");i&&(i.textContent="Adaugat!",i.style.background="#10b981",setTimeout(()=>{i.textContent="Adauga in cos",i.style.background=""},2e3)),this.eventBus&&this.eventBus.emit("cart:updated")}catch(i){alert("Nu s-a putut adauga produsul in cos")}}),null==(r=document.getElementById("product-wishlist-btn"))||r.addEventListener("click",async()=>{if(this.apiClient)try{await this.apiClient.post("/shop/wishlist/items",{product_id:e.id});const t=document.getElementById("product-wishlist-btn");null==t||t.classList.toggle("active")}catch(t){}}),null==(a=document.getElementById("stock-alert-btn"))||a.addEventListener("click",async()=>{if(!this.apiClient)return;const t=prompt("Introdu adresa de email pentru a fi notificat:");if(t)try{await this.apiClient.post("/shop/stock-alerts/subscribe",{product_id:e.id,email:t}),alert("Vei fi notificat cand produsul revine in stoc!")}catch(n){alert("Nu s-a putut salva alerta")}}),document.querySelectorAll(".tab-btn").forEach(e=>{e.addEventListener("click",()=>{var t;const n=e.getAttribute("data-tab");document.querySelectorAll(".tab-btn").forEach(e=>e.classList.remove("active")),document.querySelectorAll(".tab-content").forEach(e=>e.classList.remove("active")),e.classList.add("active"),null==(t=document.getElementById(`tab-${n}`))||t.classList.add("active")})}),this.bindProductCards()}async loadCartPage(){}async loadCheckoutPage(){}}},Symbol.toStringTag,{value:"Module"}));const A=Object.freeze(Object.defineProperty({__proto__:null,SleekClientModule:class{constructor(){__publicField(this,"name","sleek-client"),__publicField(this,"apiClient",null),__publicField(this,"eventBus",null),__publicField(this,"clientToken",null)}async init(e,t){this.apiClient=e,this.eventBus=t,this.clientToken=localStorage.getItem("client_token"),this.eventBus.on("route:login",()=>this.renderLogin()),this.eventBus.on("route:register",()=>this.renderRegister()),this.eventBus.on("route:cart",()=>this.renderCart()),this.eventBus.on("route:checkout",()=>this.renderCheckout()),this.eventBus.on("route:thank-you",e=>this.renderOrderConfirmation(e)),this.eventBus.on("route:account",()=>this.renderAccountDashboard()),this.eventBus.on("route:orders",()=>this.renderOrders()),this.eventBus.on("route:order-detail",e=>this.renderOrderDetail(e)),this.eventBus.on("route:tickets",()=>this.renderTickets()),this.eventBus.on("route:my-events",()=>this.renderMyEvents()),this.eventBus.on("route:profile",()=>this.renderProfile()),this.eventBus.on("route:shop-orders",()=>this.renderShopOrders()),this.eventBus.on("route:shop-order-detail",e=>this.renderShopOrderDetail(e)),this.eventBus.on("route:wishlist",()=>this.renderWishlist()),this.eventBus.on("route:stock-alerts",()=>this.renderStockAlerts()),this.eventBus.on("route:shop-cart",()=>this.renderShopCart()),this.eventBus.on("route:shop-checkout",()=>this.renderShopCheckout())}isLoggedIn(){return!!this.clientToken}setAuthHeaders(){this.clientToken&&this.apiClient&&this.apiClient.setHeader("Authorization",`Bearer ${this.clientToken}`)}formatCurrency(e,t="RON"){return new Intl.NumberFormat("ro-RO",{style:"currency",currency:t}).format(e)}formatDate(e,t=!1){const n=new Date(e),i={weekday:"short",day:"numeric",month:"short",year:"numeric"};return t&&(i.hour="2-digit",i.minute="2-digit"),n.toLocaleDateString("ro-RO",i)}renderLogin(){const e=document.getElementById("login-form");e&&(e.innerHTML='\n            <style>\n                .sleek-auth-container {\n                    min-height: calc(100vh - 140px);\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    padding: 2rem 1rem;\n                }\n\n                .sleek-auth-card {\n                    width: 100%;\n                    max-width: 420px;\n                    background: var(--sleek-surface);\n                    border: 1px solid var(--sleek-border);\n                    border-radius: var(--sleek-radius);\n                    padding: 2.5rem;\n                }\n\n                .sleek-auth-header {\n                    text-align: center;\n                    margin-bottom: 2rem;\n                }\n\n                .sleek-auth-icon {\n                    width: 64px;\n                    height: 64px;\n                    background: linear-gradient(135deg, var(--sleek-gradient-start), var(--sleek-gradient-end));\n                    border-radius: 50%;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    margin: 0 auto 1rem;\n                    box-shadow: 0 8px 24px var(--sleek-glow);\n                }\n\n                .sleek-auth-icon svg {\n                    width: 28px;\n                    height: 28px;\n                    color: white;\n                }\n\n                .sleek-auth-title {\n                    font-size: 1.5rem;\n                    font-weight: 700;\n                    color: var(--sleek-text);\n                    margin-bottom: 0.5rem;\n                }\n\n                .sleek-auth-subtitle {\n                    color: var(--sleek-text-muted);\n                    font-size: 0.9rem;\n                }\n\n                .sleek-form-group {\n                    margin-bottom: 1.25rem;\n                }\n\n                .sleek-form-label {\n                    display: block;\n                    font-weight: 500;\n                    color: var(--sleek-text);\n                    margin-bottom: 0.5rem;\n                    font-size: 0.9rem;\n                }\n\n                .sleek-form-input {\n                    width: 100%;\n                    padding: 0.875rem 1rem;\n                    background: var(--sleek-surface-elevated);\n                    border: 1px solid var(--sleek-border);\n                    border-radius: var(--sleek-radius-sm);\n                    color: var(--sleek-text);\n                    font-size: 1rem;\n                    transition: var(--sleek-transition);\n                }\n\n                .sleek-form-input:focus {\n                    outline: none;\n                    border-color: var(--sleek-gradient-start);\n                    box-shadow: 0 0 0 3px var(--sleek-glow);\n                }\n\n                .sleek-form-input::placeholder {\n                    color: var(--sleek-text-subtle);\n                }\n\n                .sleek-auth-submit {\n                    width: 100%;\n                    padding: 1rem;\n                    background: linear-gradient(135deg, var(--sleek-gradient-start), var(--sleek-gradient-end));\n                    color: white;\n                    font-weight: 600;\n                    font-size: 1rem;\n                    border: none;\n                    border-radius: var(--sleek-radius-sm);\n                    cursor: pointer;\n                    transition: var(--sleek-transition);\n                    box-shadow: 0 4px 15px var(--sleek-glow);\n                }\n\n                .sleek-auth-submit:hover {\n                    transform: translateY(-2px);\n                    box-shadow: 0 8px 25px var(--sleek-glow);\n                }\n\n                .sleek-auth-submit:disabled {\n                    opacity: 0.6;\n                    cursor: not-allowed;\n                    transform: none;\n                }\n\n                .sleek-auth-footer {\n                    text-align: center;\n                    margin-top: 1.5rem;\n                    padding-top: 1.5rem;\n                    border-top: 1px solid var(--sleek-border);\n                }\n\n                .sleek-auth-link {\n                    color: var(--sleek-gradient-start);\n                    text-decoration: none;\n                    font-weight: 500;\n                    transition: var(--sleek-transition);\n                }\n\n                .sleek-auth-link:hover {\n                    color: var(--sleek-gradient-end);\n                }\n\n                .sleek-error-msg {\n                    background: rgba(239, 68, 68, 0.1);\n                    border: 1px solid rgba(239, 68, 68, 0.3);\n                    color: #ef4444;\n                    padding: 0.75rem 1rem;\n                    border-radius: var(--sleek-radius-xs);\n                    font-size: 0.875rem;\n                    margin-bottom: 1rem;\n                    display: none;\n                }\n            </style>\n\n            <div class="sleek-auth-container">\n                <div class="sleek-auth-card">\n                    <div class="sleek-auth-header">\n                        <div class="sleek-auth-icon">\n                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>\n                            </svg>\n                        </div>\n                        <h1 class="sleek-auth-title">Bine ai venit!</h1>\n                        <p class="sleek-auth-subtitle">Conecteaza-te pentru a-ti accesa contul</p>\n                    </div>\n\n                    <div id="login-error" class="sleek-error-msg"></div>\n\n                    <form id="sleek-login-form">\n                        <div class="sleek-form-group">\n                            <label class="sleek-form-label">Email</label>\n                            <input type="email" name="email" class="sleek-form-input" placeholder="email@exemplu.com" required>\n                        </div>\n\n                        <div class="sleek-form-group">\n                            <label class="sleek-form-label">Parola</label>\n                            <input type="password" name="password" class="sleek-form-input" placeholder="Introdu parola" required>\n                        </div>\n\n                        <button type="submit" class="sleek-auth-submit" id="login-btn">\n                            <span id="login-text">Conecteaza-te</span>\n                            <span id="login-loading" style="display:none;">Se conecteaza...</span>\n                        </button>\n                    </form>\n\n                    <div class="sleek-auth-footer">\n                        <p style="color: var(--sleek-text-muted); margin-bottom: 0.5rem;">Nu ai cont?</p>\n                        <a href="/register" class="sleek-auth-link">Creeaza un cont nou</a>\n                    </div>\n                </div>\n            </div>\n        ',this.setupLoginHandler())}setupLoginHandler(){const e=document.getElementById("sleek-login-form");e&&e.addEventListener("submit",async t=>{var n,i;t.preventDefault();const r=e.querySelector('input[name="email"]').value,a=e.querySelector('input[name="password"]').value,s=document.getElementById("login-btn"),o=document.getElementById("login-error");if(s.disabled=!0,document.getElementById("login-text").style.display="none",document.getElementById("login-loading").style.display="inline",this.apiClient)try{const e=await this.apiClient.post("/client/login",{email:r,password:a}),{token:t,client:n}=e.data.data;localStorage.setItem("client_token",t),localStorage.setItem("client_name",n.name),this.clientToken=t,window.location.hash="/account"}catch(l){o&&(o.textContent=(null==(i=null==(n=l.response)?void 0:n.data)?void 0:i.message)||"Autentificare esuata. Verifica datele introduse.",o.style.display="block"),s.disabled=!1,document.getElementById("login-text").style.display="inline",document.getElementById("login-loading").style.display="none"}})}renderRegister(){const e=document.getElementById("register-form");e&&(e.innerHTML='\n            <div class="sleek-auth-container">\n                <div class="sleek-auth-card">\n                    <div class="sleek-auth-header">\n                        <div class="sleek-auth-icon">\n                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"/>\n                            </svg>\n                        </div>\n                        <h1 class="sleek-auth-title">Creeaza cont</h1>\n                        <p class="sleek-auth-subtitle">Inregistreaza-te pentru a cumpara bilete</p>\n                    </div>\n\n                    <div id="register-error" class="sleek-error-msg"></div>\n\n                    <form id="sleek-register-form">\n                        <div class="sleek-form-group">\n                            <label class="sleek-form-label">Nume complet</label>\n                            <input type="text" name="name" class="sleek-form-input" placeholder="Ion Popescu" required>\n                        </div>\n\n                        <div class="sleek-form-group">\n                            <label class="sleek-form-label">Email</label>\n                            <input type="email" name="email" class="sleek-form-input" placeholder="email@exemplu.com" required>\n                        </div>\n\n                        <div class="sleek-form-group">\n                            <label class="sleek-form-label">Parola</label>\n                            <input type="password" name="password" class="sleek-form-input" placeholder="Minim 8 caractere" required>\n                        </div>\n\n                        <button type="submit" class="sleek-auth-submit" id="register-btn">\n                            <span id="register-text">Creeaza cont</span>\n                            <span id="register-loading" style="display:none;">Se creeaza...</span>\n                        </button>\n                    </form>\n\n                    <div class="sleek-auth-footer">\n                        <p style="color: var(--sleek-text-muted); margin-bottom: 0.5rem;">Ai deja cont?</p>\n                        <a href="/login" class="sleek-auth-link">Conecteaza-te</a>\n                    </div>\n                </div>\n            </div>\n        ',this.setupRegisterHandler())}setupRegisterHandler(){const e=document.getElementById("sleek-register-form");e&&e.addEventListener("submit",async t=>{var n,i;t.preventDefault();const r=e.querySelector('input[name="name"]').value,a=e.querySelector('input[name="email"]').value,s=e.querySelector('input[name="password"]').value,o=document.getElementById("register-btn"),l=document.getElementById("register-error");if(o.disabled=!0,document.getElementById("register-text").style.display="none",document.getElementById("register-loading").style.display="inline",this.apiClient)try{const e=await this.apiClient.post("/client/register",{name:r,email:a,password:s,password_confirmation:s}),{token:t,client:n}=e.data.data;localStorage.setItem("client_token",t),localStorage.setItem("client_name",n.name),this.clientToken=t,window.location.hash="/account"}catch(d){l&&(l.textContent=(null==(i=null==(n=d.response)?void 0:n.data)?void 0:i.message)||"Inregistrare esuata. Incearca din nou.",l.style.display="block"),o.disabled=!1,document.getElementById("register-text").style.display="inline",document.getElementById("register-loading").style.display="none"}})}async renderAccountDashboard(){var e;if(!this.isLoggedIn())return void(window.location.hash="/login");const t=document.querySelector(".tixello-account");if(!t)return;const n=(localStorage.getItem("client_name")||"User").split(" ")[0];t.innerHTML=`\n            <style>\n                .sleek-dashboard {\n                    max-width: 800px;\n                    margin: 0 auto;\n                    padding: 1.5rem 1rem;\n                }\n\n                @media (min-width: 768px) {\n                    .sleek-dashboard {\n                        padding: 3rem 2rem;\n                    }\n                }\n\n                .sleek-dashboard-header {\n                    text-align: center;\n                    margin-bottom: 2rem;\n                }\n\n                .sleek-avatar {\n                    width: 80px;\n                    height: 80px;\n                    background: linear-gradient(135deg, var(--sleek-gradient-start), var(--sleek-gradient-end));\n                    border-radius: 50%;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    margin: 0 auto 1rem;\n                    font-size: 2rem;\n                    font-weight: 700;\n                    color: white;\n                    box-shadow: 0 8px 24px var(--sleek-glow);\n                }\n\n                .sleek-greeting {\n                    font-size: 1.5rem;\n                    font-weight: 700;\n                    color: var(--sleek-text);\n                    margin-bottom: 0.25rem;\n                }\n\n                .sleek-greeting-sub {\n                    color: var(--sleek-text-muted);\n                    font-size: 0.9rem;\n                }\n\n                .sleek-quick-stats {\n                    display: grid;\n                    grid-template-columns: repeat(2, 1fr);\n                    gap: 1rem;\n                    margin-bottom: 2rem;\n                }\n\n                @media (min-width: 768px) {\n                    .sleek-quick-stats {\n                        grid-template-columns: repeat(4, 1fr);\n                    }\n                }\n\n                .sleek-stat-card {\n                    background: var(--sleek-surface);\n                    border: 1px solid var(--sleek-border);\n                    border-radius: var(--sleek-radius);\n                    padding: 1.25rem;\n                    text-align: center;\n                    transition: var(--sleek-transition);\n                }\n\n                .sleek-stat-card:hover {\n                    border-color: var(--sleek-border-light);\n                }\n\n                .sleek-stat-value {\n                    font-size: 1.75rem;\n                    font-weight: 700;\n                    color: var(--sleek-text);\n                    display: block;\n                }\n\n                .sleek-stat-label {\n                    font-size: 0.75rem;\n                    color: var(--sleek-text-muted);\n                    text-transform: uppercase;\n                    letter-spacing: 0.05em;\n                    margin-top: 0.25rem;\n                }\n\n                .sleek-menu-section {\n                    margin-bottom: 2rem;\n                }\n\n                .sleek-menu-title {\n                    font-size: 0.8rem;\n                    font-weight: 600;\n                    color: var(--sleek-text-muted);\n                    text-transform: uppercase;\n                    letter-spacing: 0.1em;\n                    margin-bottom: 0.75rem;\n                    padding-left: 0.5rem;\n                }\n\n                .sleek-menu-list {\n                    background: var(--sleek-surface);\n                    border: 1px solid var(--sleek-border);\n                    border-radius: var(--sleek-radius);\n                    overflow: hidden;\n                }\n\n                .sleek-menu-item {\n                    display: flex;\n                    align-items: center;\n                    gap: 1rem;\n                    padding: 1rem 1.25rem;\n                    color: var(--sleek-text);\n                    text-decoration: none;\n                    border-bottom: 1px solid var(--sleek-border);\n                    transition: var(--sleek-transition);\n                }\n\n                .sleek-menu-item:last-child {\n                    border-bottom: none;\n                }\n\n                .sleek-menu-item:hover {\n                    background: rgba(255,255,255,0.02);\n                }\n\n                .sleek-menu-item:active {\n                    background: rgba(255,255,255,0.05);\n                }\n\n                .sleek-menu-icon {\n                    width: 40px;\n                    height: 40px;\n                    border-radius: var(--sleek-radius-sm);\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    flex-shrink: 0;\n                }\n\n                .sleek-menu-icon svg {\n                    width: 20px;\n                    height: 20px;\n                }\n\n                .sleek-menu-icon.tickets {\n                    background: rgba(99, 102, 241, 0.15);\n                    color: #6366f1;\n                }\n\n                .sleek-menu-icon.orders {\n                    background: rgba(16, 185, 129, 0.15);\n                    color: #10b981;\n                }\n\n                .sleek-menu-icon.events {\n                    background: rgba(245, 158, 11, 0.15);\n                    color: #f59e0b;\n                }\n\n                .sleek-menu-icon.profile {\n                    background: rgba(139, 92, 246, 0.15);\n                    color: #8b5cf6;\n                }\n\n                .sleek-menu-icon.logout {\n                    background: rgba(239, 68, 68, 0.15);\n                    color: #ef4444;\n                }\n\n                .sleek-menu-icon.shop {\n                    background: rgba(16, 185, 129, 0.15);\n                    color: #10b981;\n                }\n\n                .sleek-menu-icon.wishlist {\n                    background: rgba(239, 68, 68, 0.15);\n                    color: #ef4444;\n                }\n\n                .sleek-menu-icon.alerts {\n                    background: rgba(59, 130, 246, 0.15);\n                    color: #3b82f6;\n                }\n\n                .sleek-menu-content {\n                    flex: 1;\n                    min-width: 0;\n                }\n\n                .sleek-menu-content h3 {\n                    font-weight: 600;\n                    font-size: 0.95rem;\n                    color: var(--sleek-text);\n                    margin: 0;\n                }\n\n                .sleek-menu-content p {\n                    font-size: 0.8rem;\n                    color: var(--sleek-text-muted);\n                    margin: 0.125rem 0 0 0;\n                }\n\n                .sleek-menu-arrow {\n                    color: var(--sleek-text-subtle);\n                }\n\n                .sleek-menu-badge {\n                    padding: 0.25rem 0.625rem;\n                    background: var(--sleek-glow);\n                    color: var(--sleek-gradient-start);\n                    font-size: 0.75rem;\n                    font-weight: 600;\n                    border-radius: 50px;\n                }\n            </style>\n\n            <div class="sleek-dashboard sleek-animate-in">\n                <div class="sleek-dashboard-header">\n                    <div class="sleek-avatar">${n.charAt(0).toUpperCase()}</div>\n                    <h1 class="sleek-greeting">Salut, ${n}!</h1>\n                    <p class="sleek-greeting-sub">Gestioneaza-ti biletele si comenzile</p>\n                </div>\n\n                <div class="sleek-quick-stats" id="quick-stats">\n                    <div class="sleek-stat-card">\n                        <span class="sleek-stat-value" id="stat-tickets">-</span>\n                        <span class="sleek-stat-label">Bilete</span>\n                    </div>\n                    <div class="sleek-stat-card">\n                        <span class="sleek-stat-value" id="stat-orders">-</span>\n                        <span class="sleek-stat-label">Comenzi</span>\n                    </div>\n                    <div class="sleek-stat-card">\n                        <span class="sleek-stat-value" id="stat-events">-</span>\n                        <span class="sleek-stat-label">Evenimente</span>\n                    </div>\n                    <div class="sleek-stat-card">\n                        <span class="sleek-stat-value" id="stat-spent">-</span>\n                        <span class="sleek-stat-label">Cheltuit</span>\n                    </div>\n                </div>\n\n                <div class="sleek-menu-section">\n                    <h2 class="sleek-menu-title">Bilete & Comenzi</h2>\n                    <div class="sleek-menu-list">\n                        <a href="/account/tickets" class="sleek-menu-item">\n                            <div class="sleek-menu-icon tickets">\n                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"/>\n                                </svg>\n                            </div>\n                            <div class="sleek-menu-content">\n                                <h3>Biletele mele</h3>\n                                <p>Vizualizeaza si descarca biletele</p>\n                            </div>\n                            <svg class="sleek-menu-arrow" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>\n                            </svg>\n                        </a>\n                        <a href="/account/orders" class="sleek-menu-item">\n                            <div class="sleek-menu-icon orders">\n                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>\n                                </svg>\n                            </div>\n                            <div class="sleek-menu-content">\n                                <h3>Comenzile mele</h3>\n                                <p>Istoricul comenzilor</p>\n                            </div>\n                            <svg class="sleek-menu-arrow" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>\n                            </svg>\n                        </a>\n                        <a href="/account/events" class="sleek-menu-item">\n                            <div class="sleek-menu-icon events">\n                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>\n                                </svg>\n                            </div>\n                            <div class="sleek-menu-content">\n                                <h3>Evenimentele mele</h3>\n                                <p>Evenimente la care vei participa</p>\n                            </div>\n                            <svg class="sleek-menu-arrow" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>\n                            </svg>\n                        </a>\n                    </div>\n                </div>\n\n                <div class="sleek-menu-section">\n                    <h2 class="sleek-menu-title">Magazin</h2>\n                    <div class="sleek-menu-list">\n                        <a href="/account/shop-orders" class="sleek-menu-item">\n                            <div class="sleek-menu-icon shop">\n                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>\n                                </svg>\n                            </div>\n                            <div class="sleek-menu-content">\n                                <h3>Comenzi magazin</h3>\n                                <p>Istoricul comenzilor din magazin</p>\n                            </div>\n                            <svg class="sleek-menu-arrow" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>\n                            </svg>\n                        </a>\n                        <a href="/account/wishlist" class="sleek-menu-item">\n                            <div class="sleek-menu-icon wishlist">\n                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>\n                                </svg>\n                            </div>\n                            <div class="sleek-menu-content">\n                                <h3>Lista de dorinte</h3>\n                                <p>Produsele salvate</p>\n                            </div>\n                            <svg class="sleek-menu-arrow" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>\n                            </svg>\n                        </a>\n                        <a href="/account/stock-alerts" class="sleek-menu-item">\n                            <div class="sleek-menu-icon alerts">\n                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>\n                                </svg>\n                            </div>\n                            <div class="sleek-menu-content">\n                                <h3>Alerte stoc</h3>\n                                <p>Notificari pentru produse</p>\n                            </div>\n                            <svg class="sleek-menu-arrow" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>\n                            </svg>\n                        </a>\n                    </div>\n                </div>\n\n                <div class="sleek-menu-section">\n                    <h2 class="sleek-menu-title">Setari</h2>\n                    <div class="sleek-menu-list">\n                        <a href="/account/profile" class="sleek-menu-item">\n                            <div class="sleek-menu-icon profile">\n                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>\n                                </svg>\n                            </div>\n                            <div class="sleek-menu-content">\n                                <h3>Profil</h3>\n                                <p>Editeaza datele personale</p>\n                            </div>\n                            <svg class="sleek-menu-arrow" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>\n                            </svg>\n                        </a>\n                        <button id="logout-btn" class="sleek-menu-item" style="width: 100%; text-align: left; background: none; border: none; cursor: pointer;">\n                            <div class="sleek-menu-icon logout">\n                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>\n                                </svg>\n                            </div>\n                            <div class="sleek-menu-content">\n                                <h3 style="color: #ef4444;">Deconecteaza-te</h3>\n                                <p>Iesi din cont</p>\n                            </div>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        `,null==(e=document.getElementById("logout-btn"))||e.addEventListener("click",()=>{localStorage.removeItem("client_token"),localStorage.removeItem("client_name"),this.clientToken=null,window.location.hash="/login"}),this.loadDashboardStats()}async loadDashboardStats(){var e,t;if(this.apiClient)try{this.setAuthHeaders();const[n,i]=await Promise.all([this.apiClient.get("/client/orders").catch(()=>({data:{data:{orders:[]}}})),this.apiClient.get("/client/tickets").catch(()=>({data:{data:{tickets:[]}}}))]),r=(null==(e=n.data.data)?void 0:e.orders)||[],a=(null==(t=i.data.data)?void 0:t.tickets)||[],s=r.reduce((e,t)=>e+(t.total||0),0),o=new Set(a.map(e=>{var t;return null==(t=e.event)?void 0:t.id})).size;document.getElementById("stat-tickets").textContent=a.length.toString(),document.getElementById("stat-orders").textContent=r.length.toString(),document.getElementById("stat-events").textContent=o.toString(),document.getElementById("stat-spent").textContent=this.formatCurrency(s).replace(/\s/g,"")}catch(n){}}async renderTickets(){if(!this.isLoggedIn())return void(window.location.hash="/login");const e=document.getElementById("tickets-list");e&&(e.innerHTML='\n            <style>\n                .sleek-page {\n                    max-width: 800px;\n                    margin: 0 auto;\n                    padding: 1.5rem 1rem;\n                }\n\n                @media (min-width: 768px) {\n                    .sleek-page {\n                        padding: 2rem;\n                    }\n                }\n\n                .sleek-page-header {\n                    margin-bottom: 1.5rem;\n                }\n\n                .sleek-page-title {\n                    font-size: 1.75rem;\n                    font-weight: 700;\n                    color: var(--sleek-text);\n                    margin: 0;\n                }\n\n                .sleek-page-subtitle {\n                    color: var(--sleek-text-muted);\n                    font-size: 0.9rem;\n                    margin-top: 0.25rem;\n                }\n\n                .sleek-ticket-card {\n                    background: var(--sleek-surface);\n                    border: 1px solid var(--sleek-border);\n                    border-radius: var(--sleek-radius);\n                    overflow: hidden;\n                    margin-bottom: 1rem;\n                    transition: var(--sleek-transition);\n                }\n\n                .sleek-ticket-card:hover {\n                    border-color: var(--sleek-border-light);\n                }\n\n                .sleek-ticket-header {\n                    display: flex;\n                    gap: 1rem;\n                    padding: 1.25rem;\n                }\n\n                .sleek-ticket-image {\n                    width: 80px;\n                    height: 80px;\n                    border-radius: var(--sleek-radius-sm);\n                    object-fit: cover;\n                    background: var(--sleek-surface-elevated);\n                    flex-shrink: 0;\n                }\n\n                @media (min-width: 768px) {\n                    .sleek-ticket-image {\n                        width: 100px;\n                        height: 100px;\n                    }\n                }\n\n                .sleek-ticket-info {\n                    flex: 1;\n                    min-width: 0;\n                }\n\n                .sleek-ticket-event {\n                    font-weight: 600;\n                    font-size: 1rem;\n                    color: var(--sleek-text);\n                    margin-bottom: 0.375rem;\n                    display: -webkit-box;\n                    -webkit-line-clamp: 2;\n                    -webkit-box-orient: vertical;\n                    overflow: hidden;\n                }\n\n                .sleek-ticket-meta {\n                    display: flex;\n                    flex-wrap: wrap;\n                    gap: 0.5rem;\n                    font-size: 0.8rem;\n                    color: var(--sleek-text-muted);\n                }\n\n                .sleek-ticket-meta span {\n                    display: flex;\n                    align-items: center;\n                    gap: 0.25rem;\n                }\n\n                .sleek-ticket-meta svg {\n                    width: 14px;\n                    height: 14px;\n                }\n\n                .sleek-ticket-footer {\n                    display: flex;\n                    align-items: center;\n                    justify-content: space-between;\n                    padding: 0.875rem 1.25rem;\n                    background: var(--sleek-surface-elevated);\n                    border-top: 1px solid var(--sleek-border);\n                }\n\n                .sleek-ticket-type {\n                    font-size: 0.8rem;\n                    color: var(--sleek-text-muted);\n                }\n\n                .sleek-ticket-type strong {\n                    color: var(--sleek-text);\n                    font-weight: 600;\n                }\n\n                .sleek-ticket-status {\n                    display: inline-flex;\n                    align-items: center;\n                    gap: 0.375rem;\n                    padding: 0.375rem 0.75rem;\n                    font-size: 0.75rem;\n                    font-weight: 600;\n                    border-radius: 50px;\n                    text-transform: uppercase;\n                }\n\n                .sleek-ticket-status.valid {\n                    background: rgba(16, 185, 129, 0.15);\n                    color: #10b981;\n                }\n\n                .sleek-ticket-status.used {\n                    background: rgba(100, 116, 139, 0.15);\n                    color: #64748b;\n                }\n\n                .sleek-empty-state {\n                    text-align: center;\n                    padding: 4rem 2rem;\n                }\n\n                .sleek-empty-icon {\n                    width: 80px;\n                    height: 80px;\n                    background: var(--sleek-surface);\n                    border: 1px solid var(--sleek-border);\n                    border-radius: 50%;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    margin: 0 auto 1.5rem;\n                }\n\n                .sleek-empty-icon svg {\n                    width: 36px;\n                    height: 36px;\n                    color: var(--sleek-text-subtle);\n                }\n\n                .sleek-empty-title {\n                    font-size: 1.25rem;\n                    font-weight: 600;\n                    color: var(--sleek-text);\n                    margin-bottom: 0.5rem;\n                }\n\n                .sleek-empty-desc {\n                    color: var(--sleek-text-muted);\n                    margin-bottom: 1.5rem;\n                }\n\n                .sleek-loading {\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    padding: 4rem;\n                }\n\n                .sleek-spinner {\n                    width: 40px;\n                    height: 40px;\n                    border: 3px solid var(--sleek-border);\n                    border-top-color: var(--sleek-gradient-start);\n                    border-radius: 50%;\n                    animation: spin 1s linear infinite;\n                }\n\n                @keyframes spin {\n                    to { transform: rotate(360deg); }\n                }\n            </style>\n\n            <div class="sleek-page sleek-animate-in">\n                <div class="sleek-page-header">\n                    <h1 class="sleek-page-title">Biletele mele</h1>\n                    <p class="sleek-page-subtitle">Toate biletele tale intr-un singur loc</p>\n                </div>\n                <div id="tickets-content" class="sleek-loading">\n                    <div class="sleek-spinner"></div>\n                </div>\n            </div>\n        ',await this.loadTicketsContent())}async loadTicketsContent(){var e;if(!this.apiClient)return;const t=document.getElementById("tickets-content");if(t)try{this.setAuthHeaders();const n=(null==(e=(await this.apiClient.get("/client/tickets")).data.data)?void 0:e.tickets)||[];if(0===n.length)return void(t.innerHTML='\n                    <div class="sleek-empty-state">\n                        <div class="sleek-empty-icon">\n                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"/>\n                            </svg>\n                        </div>\n                        <h2 class="sleek-empty-title">Niciun bilet inca</h2>\n                        <p class="sleek-empty-desc">Cumpara primul tau bilet pentru a-l vedea aici</p>\n                        <a href="/events" class="sleek-btn-primary">Descopera evenimente</a>\n                    </div>\n                ');t.innerHTML=n.map(e=>{var t,n,i,r;return`\n                <div class="sleek-ticket-card">\n                    <div class="sleek-ticket-header">\n                        ${(null==(t=e.event)?void 0:t.image)?`<img src="${e.event.image}" alt="" class="sleek-ticket-image">`:'<div class="sleek-ticket-image"></div>'}\n                        <div class="sleek-ticket-info">\n                            <h3 class="sleek-ticket-event">${(null==(n=e.event)?void 0:n.name)||"Event"}</h3>\n                            <div class="sleek-ticket-meta">\n                                <span>\n                                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>\n                                    </svg>\n                                    ${this.formatDate((null==(i=e.event)?void 0:i.date)||"")}\n                                </span>\n                                <span>\n                                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>\n                                    </svg>\n                                    ${(null==(r=e.event)?void 0:r.venue)||"TBA"}\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="sleek-ticket-footer">\n                        <div class="sleek-ticket-type">\n                            <strong>${e.ticket_type}</strong> &bull; #${e.ticket_number}\n                        </div>\n                        <span class="sleek-ticket-status ${e.status}">${"valid"===e.status?"Valid":"Folosit"}</span>\n                    </div>\n                </div>\n            `}).join("")}catch(n){t.innerHTML='<p style="color: var(--sleek-error); text-align: center;">Eroare la incarcarea biletelor.</p>'}}async renderOrders(){if(!this.isLoggedIn())return void(window.location.hash="/login");const e=document.getElementById("orders-list");e&&(e.innerHTML='\n            <div class="sleek-page sleek-animate-in">\n                <div class="sleek-page-header">\n                    <h1 class="sleek-page-title">Comenzile mele</h1>\n                    <p class="sleek-page-subtitle">Istoricul achizitiilor tale</p>\n                </div>\n                <div id="orders-content" class="sleek-loading">\n                    <div class="sleek-spinner"></div>\n                </div>\n            </div>\n        ',await this.loadOrdersContent())}async loadOrdersContent(){var e;if(!this.apiClient)return;const t=document.getElementById("orders-content");if(t)try{this.setAuthHeaders();const n=(null==(e=(await this.apiClient.get("/client/orders")).data.data)?void 0:e.orders)||[];if(0===n.length)return void(t.innerHTML='\n                    <div class="sleek-empty-state">\n                        <div class="sleek-empty-icon">\n                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>\n                            </svg>\n                        </div>\n                        <h2 class="sleek-empty-title">Nicio comanda inca</h2>\n                        <p class="sleek-empty-desc">Achizitioneaza bilete pentru a vedea comenzile aici</p>\n                        <a href="/events" class="sleek-btn-primary">Descopera evenimente</a>\n                    </div>\n                ');t.innerHTML=`\n                <style>\n                    .sleek-order-card {\n                        background: var(--sleek-surface);\n                        border: 1px solid var(--sleek-border);\n                        border-radius: var(--sleek-radius);\n                        padding: 1.25rem;\n                        margin-bottom: 1rem;\n                        display: block;\n                        text-decoration: none;\n                        color: inherit;\n                        transition: var(--sleek-transition);\n                    }\n\n                    .sleek-order-card:hover {\n                        border-color: var(--sleek-border-light);\n                        background: var(--sleek-surface-elevated);\n                    }\n\n                    .sleek-order-top {\n                        display: flex;\n                        justify-content: space-between;\n                        align-items: flex-start;\n                        margin-bottom: 0.75rem;\n                    }\n\n                    .sleek-order-number {\n                        font-weight: 600;\n                        color: var(--sleek-text);\n                    }\n\n                    .sleek-order-date {\n                        font-size: 0.8rem;\n                        color: var(--sleek-text-muted);\n                    }\n\n                    .sleek-order-status {\n                        padding: 0.25rem 0.625rem;\n                        font-size: 0.7rem;\n                        font-weight: 600;\n                        border-radius: 50px;\n                        text-transform: uppercase;\n                    }\n\n                    .sleek-order-status.completed {\n                        background: rgba(16, 185, 129, 0.15);\n                        color: #10b981;\n                    }\n\n                    .sleek-order-status.pending {\n                        background: rgba(245, 158, 11, 0.15);\n                        color: #f59e0b;\n                    }\n\n                    .sleek-order-events {\n                        font-size: 0.85rem;\n                        color: var(--sleek-text-muted);\n                        margin-bottom: 0.75rem;\n                    }\n\n                    .sleek-order-bottom {\n                        display: flex;\n                        justify-content: space-between;\n                        align-items: center;\n                        padding-top: 0.75rem;\n                        border-top: 1px solid var(--sleek-border);\n                    }\n\n                    .sleek-order-tickets {\n                        font-size: 0.8rem;\n                        color: var(--sleek-text-muted);\n                    }\n\n                    .sleek-order-total {\n                        font-weight: 700;\n                        color: var(--sleek-text);\n                    }\n                </style>\n                ${n.map(e=>{var t;return`\n                    <a href="/account/orders/${e.id}" class="sleek-order-card">\n                        <div class="sleek-order-top">\n                            <div>\n                                <div class="sleek-order-number">#${e.order_number}</div>\n                                <div class="sleek-order-date">${this.formatDate(e.created_at)}</div>\n                            </div>\n                            <span class="sleek-order-status ${e.status}">${e.status}</span>\n                        </div>\n                        <div class="sleek-order-events">${(null==(t=e.events)?void 0:t.join(", "))||"Multiple events"}</div>\n                        <div class="sleek-order-bottom">\n                            <span class="sleek-order-tickets">${e.tickets_count||0} bilet(e)</span>\n                            <span class="sleek-order-total">${this.formatCurrency(e.total,e.currency)}</span>\n                        </div>\n                    </a>\n                `}).join("")}\n            `}catch(n){t.innerHTML='<p style="color: var(--sleek-error); text-align: center;">Eroare la incarcarea comenzilor.</p>'}}async renderMyEvents(){if(!this.isLoggedIn())return void(window.location.hash="/login");const e=document.getElementById("my-events-list");e&&(e.innerHTML='\n            <div class="sleek-page sleek-animate-in">\n                <div class="sleek-page-header">\n                    <h1 class="sleek-page-title">Evenimentele mele</h1>\n                    <p class="sleek-page-subtitle">Evenimente la care vei participa</p>\n                </div>\n                <div id="events-content" class="sleek-loading">\n                    <div class="sleek-spinner"></div>\n                </div>\n            </div>\n        ',await this.loadMyEventsContent())}async loadMyEventsContent(){var e;if(!this.apiClient)return;const t=document.getElementById("events-content");if(t)try{this.setAuthHeaders();const n=(null==(e=(await this.apiClient.get("/client/upcoming-events")).data.data)?void 0:e.events)||[];if(0===n.length)return void(t.innerHTML='\n                    <div class="sleek-empty-state">\n                        <div class="sleek-empty-icon">\n                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>\n                            </svg>\n                        </div>\n                        <h2 class="sleek-empty-title">Niciun eveniment viitor</h2>\n                        <p class="sleek-empty-desc">Cumpara bilete pentru a vedea evenimentele aici</p>\n                        <a href="/events" class="sleek-btn-primary">Descopera evenimente</a>\n                    </div>\n                ');t.innerHTML=`\n                <style>\n                    .sleek-event-card {\n                        background: var(--sleek-surface);\n                        border: 1px solid var(--sleek-border);\n                        border-radius: var(--sleek-radius);\n                        overflow: hidden;\n                        margin-bottom: 1rem;\n                    }\n\n                    .sleek-event-banner {\n                        position: relative;\n                        height: 140px;\n                        background: linear-gradient(135deg, var(--sleek-gradient-start), var(--sleek-gradient-end));\n                    }\n\n                    .sleek-event-banner img {\n                        width: 100%;\n                        height: 100%;\n                        object-fit: cover;\n                    }\n\n                    .sleek-event-date-badge {\n                        position: absolute;\n                        top: 1rem;\n                        left: 1rem;\n                        background: rgba(0,0,0,0.7);\n                        backdrop-filter: blur(10px);\n                        padding: 0.5rem 0.75rem;\n                        border-radius: var(--sleek-radius-xs);\n                        text-align: center;\n                    }\n\n                    .sleek-event-date-day {\n                        font-size: 1.5rem;\n                        font-weight: 700;\n                        color: white;\n                        line-height: 1;\n                    }\n\n                    .sleek-event-date-month {\n                        font-size: 0.7rem;\n                        color: rgba(255,255,255,0.8);\n                        text-transform: uppercase;\n                    }\n\n                    .sleek-event-body {\n                        padding: 1.25rem;\n                    }\n\n                    .sleek-event-title {\n                        font-size: 1.1rem;\n                        font-weight: 600;\n                        color: var(--sleek-text);\n                        margin-bottom: 0.5rem;\n                    }\n\n                    .sleek-event-venue {\n                        font-size: 0.85rem;\n                        color: var(--sleek-text-muted);\n                        display: flex;\n                        align-items: center;\n                        gap: 0.375rem;\n                    }\n\n                    .sleek-event-venue svg {\n                        width: 14px;\n                        height: 14px;\n                    }\n\n                    .sleek-event-tickets-badge {\n                        display: inline-flex;\n                        align-items: center;\n                        gap: 0.375rem;\n                        margin-top: 0.75rem;\n                        padding: 0.375rem 0.75rem;\n                        background: var(--sleek-glow);\n                        color: var(--sleek-gradient-start);\n                        font-size: 0.8rem;\n                        font-weight: 600;\n                        border-radius: 50px;\n                    }\n                </style>\n                ${n.map(e=>{const t=new Date(e.date);return`\n                        <div class="sleek-event-card">\n                            <div class="sleek-event-banner">\n                                ${e.image?`<img src="${e.image}" alt="">`:""}\n                                <div class="sleek-event-date-badge">\n                                    <div class="sleek-event-date-day">${t.getDate()}</div>\n                                    <div class="sleek-event-date-month">${t.toLocaleDateString("ro-RO",{month:"short"})}</div>\n                                </div>\n                            </div>\n                            <div class="sleek-event-body">\n                                <h3 class="sleek-event-title">${e.name}</h3>\n                                <div class="sleek-event-venue">\n                                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>\n                                    </svg>\n                                    ${e.venue}${e.address?`, ${e.address}`:""}\n                                </div>\n                                <span class="sleek-event-tickets-badge">\n                                    <svg width="14" height="14" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"/>\n                                    </svg>\n                                    ${e.tickets_count} bilet(e)\n                                </span>\n                            </div>\n                        </div>\n                    `}).join("")}\n            `}catch(n){t.innerHTML='<p style="color: var(--sleek-error); text-align: center;">Eroare la incarcarea evenimentelor.</p>'}}async renderProfile(){if(!this.isLoggedIn())return void(window.location.hash="/login");const e=document.getElementById("profile-form");e&&(e.innerHTML='\n            <div class="sleek-page sleek-animate-in">\n                <div class="sleek-page-header">\n                    <h1 class="sleek-page-title">Profil</h1>\n                    <p class="sleek-page-subtitle">Gestioneaza datele tale personale</p>\n                </div>\n                <div id="profile-content" class="sleek-loading">\n                    <div class="sleek-spinner"></div>\n                </div>\n            </div>\n        ',await this.loadProfileContent())}async loadProfileContent(){var e;if(!this.apiClient)return;const t=document.getElementById("profile-content");if(t)try{this.setAuthHeaders();const n=(await this.apiClient.get("/client/profile")).data.data;t.innerHTML=`\n                <style>\n                    .sleek-profile-form {\n                        background: var(--sleek-surface);\n                        border: 1px solid var(--sleek-border);\n                        border-radius: var(--sleek-radius);\n                        padding: 1.5rem;\n                    }\n\n                    .sleek-form-section {\n                        margin-bottom: 2rem;\n                    }\n\n                    .sleek-form-section:last-child {\n                        margin-bottom: 0;\n                    }\n\n                    .sleek-form-section-title {\n                        font-size: 0.8rem;\n                        font-weight: 600;\n                        color: var(--sleek-text-muted);\n                        text-transform: uppercase;\n                        letter-spacing: 0.05em;\n                        margin-bottom: 1rem;\n                        padding-bottom: 0.5rem;\n                        border-bottom: 1px solid var(--sleek-border);\n                    }\n\n                    .sleek-form-row {\n                        display: grid;\n                        gap: 1rem;\n                        margin-bottom: 1rem;\n                    }\n\n                    @media (min-width: 768px) {\n                        .sleek-form-row.two-col {\n                            grid-template-columns: 1fr 1fr;\n                        }\n                    }\n\n                    .sleek-success-msg {\n                        background: rgba(16, 185, 129, 0.1);\n                        border: 1px solid rgba(16, 185, 129, 0.3);\n                        color: #10b981;\n                        padding: 0.75rem 1rem;\n                        border-radius: var(--sleek-radius-xs);\n                        font-size: 0.875rem;\n                        margin-bottom: 1rem;\n                        display: none;\n                    }\n                </style>\n\n                <div class="sleek-profile-form">\n                    <div id="profile-success" class="sleek-success-msg">Profil actualizat cu succes!</div>\n                    <div id="profile-error" class="sleek-error-msg"></div>\n\n                    <form id="sleek-profile-form">\n                        <div class="sleek-form-section">\n                            <h3 class="sleek-form-section-title">Informatii personale</h3>\n                            <div class="sleek-form-group">\n                                <label class="sleek-form-label">Nume complet</label>\n                                <input type="text" name="name" value="${n.name||""}" class="sleek-form-input" required>\n                            </div>\n                            <div class="sleek-form-row two-col">\n                                <div class="sleek-form-group">\n                                    <label class="sleek-form-label">Email</label>\n                                    <input type="email" name="email" value="${n.email||""}" class="sleek-form-input" required>\n                                </div>\n                                <div class="sleek-form-group">\n                                    <label class="sleek-form-label">Telefon</label>\n                                    <input type="tel" name="phone" value="${n.phone||""}" class="sleek-form-input">\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="sleek-form-section">\n                            <h3 class="sleek-form-section-title">Schimba parola</h3>\n                            <div class="sleek-form-group">\n                                <label class="sleek-form-label">Parola curenta</label>\n                                <input type="password" name="current_password" class="sleek-form-input" placeholder="Lasa gol pentru a pastra parola actuala">\n                            </div>\n                            <div class="sleek-form-row two-col">\n                                <div class="sleek-form-group">\n                                    <label class="sleek-form-label">Parola noua</label>\n                                    <input type="password" name="new_password" class="sleek-form-input" placeholder="Minim 8 caractere">\n                                </div>\n                                <div class="sleek-form-group">\n                                    <label class="sleek-form-label">Confirma parola</label>\n                                    <input type="password" name="new_password_confirmation" class="sleek-form-input" placeholder="Repeta parola noua">\n                                </div>\n                            </div>\n                        </div>\n\n                        <button type="submit" class="sleek-btn-primary" style="width: 100%;">\n                            Salveaza modificarile\n                        </button>\n                    </form>\n                </div>\n            `,null==(e=document.getElementById("sleek-profile-form"))||e.addEventListener("submit",async e=>{var t,n;e.preventDefault();const i=e.target,r=new FormData(i),a=document.getElementById("profile-success"),s=document.getElementById("profile-error");if(this.apiClient)try{this.setAuthHeaders(),await this.apiClient.put("/client/profile",{name:r.get("name"),email:r.get("email"),phone:r.get("phone"),current_password:r.get("current_password"),new_password:r.get("new_password"),new_password_confirmation:r.get("new_password_confirmation")}),localStorage.setItem("client_name",r.get("name")),a&&(a.style.display="block",setTimeout(()=>{a.style.display="none"},3e3)),s&&(s.style.display="none")}catch(o){s&&(s.textContent=(null==(n=null==(t=o.response)?void 0:t.data)?void 0:n.message)||"Eroare la actualizarea profilului.",s.style.display="block"),a&&(a.style.display="none")}})}catch(n){t.innerHTML='<p style="color: var(--sleek-error); text-align: center;">Eroare la incarcarea profilului.</p>'}}renderCart(){}renderCheckout(){}renderOrderConfirmation(e){}renderOrderDetail(e){}async renderShopOrders(){if(!this.isLoggedIn())return void(window.location.hash="/login");const e=document.getElementById("shop-orders-list");e&&(e.innerHTML='\n            <div class="sleek-page sleek-animate-in">\n                <div class="sleek-page-header">\n                    <h1 class="sleek-page-title">Comenzi magazin</h1>\n                    <p class="sleek-page-subtitle">Istoricul comenzilor tale din magazin</p>\n                </div>\n                <div id="shop-orders-content" class="sleek-loading">\n                    <div class="sleek-spinner"></div>\n                </div>\n            </div>\n        ',await this.loadShopOrdersContent())}async loadShopOrdersContent(){var e;if(!this.apiClient)return;const t=document.getElementById("shop-orders-content");if(t)try{this.setAuthHeaders();const n=(null==(e=(await this.apiClient.get("/account/shop-orders")).data.data)?void 0:e.orders)||[];if(0===n.length)return void(t.innerHTML='\n                    <div class="sleek-empty-state">\n                        <div class="sleek-empty-icon">\n                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>\n                            </svg>\n                        </div>\n                        <h2 class="sleek-empty-title">Nicio comanda din magazin</h2>\n                        <p class="sleek-empty-desc">Cumpara produse pentru a le vedea aici</p>\n                        <a href="/shop" class="sleek-btn-primary">Descopera produse</a>\n                    </div>\n                ');t.innerHTML=`\n                <style>\n                    .shop-order-card {\n                        background: var(--sleek-surface);\n                        border: 1px solid var(--sleek-border);\n                        border-radius: var(--sleek-radius);\n                        padding: 1.25rem;\n                        margin-bottom: 1rem;\n                        display: block;\n                        text-decoration: none;\n                        color: inherit;\n                        transition: var(--sleek-transition);\n                    }\n                    .shop-order-card:hover {\n                        border-color: var(--sleek-border-light);\n                        background: var(--sleek-surface-elevated);\n                    }\n                    .shop-order-top {\n                        display: flex;\n                        justify-content: space-between;\n                        align-items: flex-start;\n                        margin-bottom: 0.75rem;\n                    }\n                    .shop-order-number {\n                        font-weight: 600;\n                        color: var(--sleek-text);\n                    }\n                    .shop-order-date {\n                        font-size: 0.8rem;\n                        color: var(--sleek-text-muted);\n                    }\n                    .shop-order-status {\n                        padding: 0.25rem 0.625rem;\n                        font-size: 0.7rem;\n                        font-weight: 600;\n                        border-radius: 50px;\n                        text-transform: uppercase;\n                    }\n                    .shop-order-status.paid, .shop-order-status.shipped, .shop-order-status.delivered {\n                        background: rgba(16, 185, 129, 0.15);\n                        color: #10b981;\n                    }\n                    .shop-order-status.pending, .shop-order-status.processing {\n                        background: rgba(245, 158, 11, 0.15);\n                        color: #f59e0b;\n                    }\n                    .shop-order-status.cancelled, .shop-order-status.refunded {\n                        background: rgba(239, 68, 68, 0.15);\n                        color: #ef4444;\n                    }\n                    .shop-order-items {\n                        display: flex;\n                        gap: 0.5rem;\n                        margin-bottom: 0.75rem;\n                        overflow: hidden;\n                    }\n                    .shop-order-item-thumb {\n                        width: 50px;\n                        height: 50px;\n                        border-radius: 0.375rem;\n                        object-fit: cover;\n                        background: #f3f4f6;\n                    }\n                    .shop-order-bottom {\n                        display: flex;\n                        justify-content: space-between;\n                        align-items: center;\n                        padding-top: 0.75rem;\n                        border-top: 1px solid var(--sleek-border);\n                    }\n                    .shop-order-items-count {\n                        font-size: 0.8rem;\n                        color: var(--sleek-text-muted);\n                    }\n                    .shop-order-total {\n                        font-weight: 700;\n                        color: var(--sleek-text);\n                    }\n                </style>\n                ${n.map(e=>{var t;return`\n                    <a href="/account/shop-orders/${e.id}" class="shop-order-card">\n                        <div class="shop-order-top">\n                            <div>\n                                <div class="shop-order-number">${e.order_number}</div>\n                                <div class="shop-order-date">${this.formatDate(e.created_at)}</div>\n                            </div>\n                            <span class="shop-order-status ${e.status}">${this.getShopOrderStatusLabel(e.status)}</span>\n                        </div>\n                        <div class="shop-order-items">\n                            ${(e.items||[]).slice(0,4).map(e=>`\n                                <img src="${e.image_url||"/placeholder.jpg"}" alt="${e.title}" class="shop-order-item-thumb">\n                            `).join("")}\n                            ${(e.items||[]).length>4?`<div class="shop-order-item-thumb" style="display: flex; align-items: center; justify-content: center; font-size: 0.75rem; color: #6b7280;">+${e.items.length-4}</div>`:""}\n                        </div>\n                        <div class="shop-order-bottom">\n                            <span class="shop-order-items-count">${e.items_count||(null==(t=e.items)?void 0:t.length)||0} produs(e)</span>\n                            <span class="shop-order-total">${this.formatCurrency(e.total_cents/100,e.currency)}</span>\n                        </div>\n                    </a>\n                `}).join("")}\n            `}catch(n){t.innerHTML='<p style="color: var(--sleek-error); text-align: center;">Eroare la incarcarea comenzilor.</p>'}}getShopOrderStatusLabel(e){return{pending:"In asteptare",paid:"Platita",processing:"In procesare",shipped:"Expediata",delivered:"Livrata",cancelled:"Anulata",refunded:"Rambursata"}[e]||e}async renderShopOrderDetail(e){if(!this.isLoggedIn())return void(window.location.hash="/login");const t=document.getElementById(`shop-order-detail-${e}`);t&&(t.innerHTML='\n            <div class="sleek-page sleek-animate-in">\n                <div class="sleek-page-header">\n                    <a href="/account/shop-orders" style="color: var(--sleek-text-muted); text-decoration: none; font-size: 0.875rem; display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">\n                        <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>\n                        </svg>\n                        Inapoi la comenzi\n                    </a>\n                    <h1 class="sleek-page-title">Detalii comanda</h1>\n                </div>\n                <div id="shop-order-detail-content" class="sleek-loading">\n                    <div class="sleek-spinner"></div>\n                </div>\n            </div>\n        ',await this.loadShopOrderDetailContent(e))}async loadShopOrderDetailContent(e){if(!this.apiClient)return;const t=document.getElementById("shop-order-detail-content");if(t)try{this.setAuthHeaders();const n=(await this.apiClient.get(`/account/shop-orders/${e}`)).data.data;t.innerHTML=`\n                <style>\n                    .order-detail-grid {\n                        display: grid;\n                        gap: 1.5rem;\n                    }\n                    @media (min-width: 768px) {\n                        .order-detail-grid {\n                            grid-template-columns: 2fr 1fr;\n                        }\n                    }\n                    .order-detail-section {\n                        background: var(--sleek-surface);\n                        border: 1px solid var(--sleek-border);\n                        border-radius: var(--sleek-radius);\n                        padding: 1.25rem;\n                    }\n                    .order-detail-title {\n                        font-weight: 600;\n                        font-size: 1rem;\n                        color: var(--sleek-text);\n                        margin-bottom: 1rem;\n                        padding-bottom: 0.75rem;\n                        border-bottom: 1px solid var(--sleek-border);\n                    }\n                    .order-item {\n                        display: flex;\n                        gap: 1rem;\n                        padding: 1rem 0;\n                        border-bottom: 1px solid var(--sleek-border);\n                    }\n                    .order-item:last-child {\n                        border-bottom: none;\n                    }\n                    .order-item-image {\n                        width: 80px;\n                        height: 80px;\n                        border-radius: 0.5rem;\n                        object-fit: cover;\n                        background: #f3f4f6;\n                    }\n                    .order-item-info {\n                        flex: 1;\n                    }\n                    .order-item-title {\n                        font-weight: 600;\n                        color: var(--sleek-text);\n                        margin-bottom: 0.25rem;\n                    }\n                    .order-item-variant {\n                        font-size: 0.8rem;\n                        color: var(--sleek-text-muted);\n                        margin-bottom: 0.25rem;\n                    }\n                    .order-item-qty {\n                        font-size: 0.85rem;\n                        color: var(--sleek-text-muted);\n                    }\n                    .order-item-price {\n                        font-weight: 600;\n                        color: var(--sleek-text);\n                        text-align: right;\n                    }\n                    .order-summary-row {\n                        display: flex;\n                        justify-content: space-between;\n                        padding: 0.5rem 0;\n                        font-size: 0.9rem;\n                    }\n                    .order-summary-row.total {\n                        font-weight: 700;\n                        font-size: 1.1rem;\n                        border-top: 1px solid var(--sleek-border);\n                        padding-top: 1rem;\n                        margin-top: 0.5rem;\n                    }\n                    .order-info-row {\n                        display: flex;\n                        justify-content: space-between;\n                        padding: 0.5rem 0;\n                        font-size: 0.9rem;\n                        border-bottom: 1px solid var(--sleek-border);\n                    }\n                    .order-info-row:last-child {\n                        border-bottom: none;\n                    }\n                    .order-info-label {\n                        color: var(--sleek-text-muted);\n                    }\n                    .order-info-value {\n                        font-weight: 500;\n                        color: var(--sleek-text);\n                    }\n                    .tracking-link {\n                        display: inline-flex;\n                        align-items: center;\n                        gap: 0.5rem;\n                        margin-top: 1rem;\n                        padding: 0.75rem 1rem;\n                        background: var(--sleek-glow);\n                        color: var(--sleek-gradient-start);\n                        border-radius: 0.5rem;\n                        text-decoration: none;\n                        font-weight: 500;\n                        font-size: 0.9rem;\n                    }\n                </style>\n\n                <div class="order-detail-grid">\n                    <div>\n                        <div class="order-detail-section">\n                            <h3 class="order-detail-title">Produse comandate</h3>\n                            ${(n.items||[]).map(e=>`\n                                <div class="order-item">\n                                    <img src="${e.image_url||"/placeholder.jpg"}" alt="${e.title}" class="order-item-image">\n                                    <div class="order-item-info">\n                                        <div class="order-item-title">${e.title}</div>\n                                        ${e.variant_name?`<div class="order-item-variant">${e.variant_name}</div>`:""}\n                                        <div class="order-item-qty">Cantitate: ${e.quantity}</div>\n                                    </div>\n                                    <div class="order-item-price">${this.formatCurrency(e.total_cents/100,n.currency)}</div>\n                                </div>\n                            `).join("")}\n                        </div>\n\n                        ${n.shipping_address?`\n                            <div class="order-detail-section" style="margin-top: 1rem;">\n                                <h3 class="order-detail-title">Adresa de livrare</h3>\n                                <p style="color: var(--sleek-text); line-height: 1.6;">\n                                    ${n.shipping_address.name}<br>\n                                    ${n.shipping_address.address}<br>\n                                    ${n.shipping_address.city}, ${n.shipping_address.postal_code}<br>\n                                    ${n.shipping_address.country}\n                                </p>\n                                ${n.tracking_number?`\n                                    <a href="${n.tracking_url||"#"}" target="_blank" class="tracking-link">\n                                        <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>\n                                        </svg>\n                                        Urmareste coletul: ${n.tracking_number}\n                                    </a>\n                                `:""}\n                            </div>\n                        `:""}\n                    </div>\n\n                    <div>\n                        <div class="order-detail-section">\n                            <h3 class="order-detail-title">Detalii comanda</h3>\n                            <div class="order-info-row">\n                                <span class="order-info-label">Numar comanda</span>\n                                <span class="order-info-value">${n.order_number}</span>\n                            </div>\n                            <div class="order-info-row">\n                                <span class="order-info-label">Data</span>\n                                <span class="order-info-value">${this.formatDate(n.created_at,!0)}</span>\n                            </div>\n                            <div class="order-info-row">\n                                <span class="order-info-label">Status</span>\n                                <span class="shop-order-status ${n.status}" style="padding: 0.25rem 0.5rem; font-size: 0.7rem; border-radius: 50px;">${this.getShopOrderStatusLabel(n.status)}</span>\n                            </div>\n                            <div class="order-info-row">\n                                <span class="order-info-label">Metoda plata</span>\n                                <span class="order-info-value">${n.payment_method||"Card"}</span>\n                            </div>\n                        </div>\n\n                        <div class="order-detail-section" style="margin-top: 1rem;">\n                            <h3 class="order-detail-title">Sumar</h3>\n                            <div class="order-summary-row">\n                                <span>Subtotal</span>\n                                <span>${this.formatCurrency(n.subtotal_cents/100,n.currency)}</span>\n                            </div>\n                            ${n.discount_cents>0?`\n                                <div class="order-summary-row" style="color: #10b981;">\n                                    <span>Reducere</span>\n                                    <span>-${this.formatCurrency(n.discount_cents/100,n.currency)}</span>\n                                </div>\n                            `:""}\n                            ${n.shipping_cents>0?`\n                                <div class="order-summary-row">\n                                    <span>Livrare</span>\n                                    <span>${this.formatCurrency(n.shipping_cents/100,n.currency)}</span>\n                                </div>\n                            `:""}\n                            ${n.tax_cents>0?`\n                                <div class="order-summary-row">\n                                    <span>TVA</span>\n                                    <span>${this.formatCurrency(n.tax_cents/100,n.currency)}</span>\n                                </div>\n                            `:""}\n                            <div class="order-summary-row total">\n                                <span>Total</span>\n                                <span>${this.formatCurrency(n.total_cents/100,n.currency)}</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            `}catch(n){t.innerHTML='<p style="color: var(--sleek-error); text-align: center;">Eroare la incarcarea detaliilor comenzii.</p>'}}async renderWishlist(){if(!this.isLoggedIn())return void(window.location.hash="/login");const e=document.getElementById("wishlist-container");e&&(e.innerHTML='\n            <div class="sleek-page sleek-animate-in">\n                <div class="sleek-page-header">\n                    <h1 class="sleek-page-title">Lista de dorinte</h1>\n                    <p class="sleek-page-subtitle">Produsele tale salvate</p>\n                </div>\n                <div id="wishlist-content" class="sleek-loading">\n                    <div class="sleek-spinner"></div>\n                </div>\n            </div>\n        ',await this.loadWishlistContent())}async loadWishlistContent(){var e;if(!this.apiClient)return;const t=document.getElementById("wishlist-content");if(t)try{this.setAuthHeaders();const n=(null==(e=(await this.apiClient.get("/shop/wishlist")).data.data)?void 0:e.items)||[];if(0===n.length)return void(t.innerHTML='\n                    <div class="sleek-empty-state">\n                        <div class="sleek-empty-icon">\n                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>\n                            </svg>\n                        </div>\n                        <h2 class="sleek-empty-title">Lista de dorinte este goala</h2>\n                        <p class="sleek-empty-desc">Salveaza produsele preferate pentru mai tarziu</p>\n                        <a href="/shop" class="sleek-btn-primary">Descopera produse</a>\n                    </div>\n                ');t.innerHTML=`\n                <style>\n                    .wishlist-grid {\n                        display: grid;\n                        grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));\n                        gap: 1.5rem;\n                    }\n                    .wishlist-item {\n                        background: var(--sleek-surface);\n                        border: 1px solid var(--sleek-border);\n                        border-radius: var(--sleek-radius);\n                        overflow: hidden;\n                        transition: var(--sleek-transition);\n                    }\n                    .wishlist-item:hover {\n                        border-color: var(--sleek-border-light);\n                    }\n                    .wishlist-item-image {\n                        position: relative;\n                        aspect-ratio: 1;\n                        background: #f3f4f6;\n                    }\n                    .wishlist-item-image img {\n                        width: 100%;\n                        height: 100%;\n                        object-fit: cover;\n                    }\n                    .wishlist-remove-btn {\n                        position: absolute;\n                        top: 0.5rem;\n                        right: 0.5rem;\n                        width: 32px;\n                        height: 32px;\n                        border-radius: 50%;\n                        background: white;\n                        border: none;\n                        cursor: pointer;\n                        display: flex;\n                        align-items: center;\n                        justify-content: center;\n                        box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n                    }\n                    .wishlist-remove-btn:hover {\n                        background: #fef2f2;\n                        color: #ef4444;\n                    }\n                    .wishlist-item-body {\n                        padding: 1rem;\n                    }\n                    .wishlist-item-title {\n                        font-weight: 600;\n                        color: var(--sleek-text);\n                        margin-bottom: 0.5rem;\n                        display: -webkit-box;\n                        -webkit-line-clamp: 2;\n                        -webkit-box-orient: vertical;\n                        overflow: hidden;\n                    }\n                    .wishlist-item-price {\n                        font-weight: 700;\n                        color: var(--sleek-text);\n                        margin-bottom: 0.75rem;\n                    }\n                    .wishlist-item-stock {\n                        font-size: 0.8rem;\n                        margin-bottom: 0.75rem;\n                    }\n                    .wishlist-item-stock.in-stock {\n                        color: #10b981;\n                    }\n                    .wishlist-item-stock.out-of-stock {\n                        color: #ef4444;\n                    }\n                    .wishlist-add-cart-btn {\n                        width: 100%;\n                        padding: 0.75rem;\n                        background: linear-gradient(135deg, var(--sleek-gradient-start), var(--sleek-gradient-end));\n                        color: white;\n                        border: none;\n                        border-radius: 0.375rem;\n                        font-weight: 600;\n                        cursor: pointer;\n                        transition: var(--sleek-transition);\n                    }\n                    .wishlist-add-cart-btn:hover {\n                        transform: translateY(-1px);\n                    }\n                    .wishlist-add-cart-btn:disabled {\n                        opacity: 0.5;\n                        cursor: not-allowed;\n                        transform: none;\n                    }\n                </style>\n                <div class="wishlist-grid">\n                    ${n.map(e=>{var t,n,i,r,a,s,o,l,d,c,p,m;return`\n                        <div class="wishlist-item" data-item-id="${e.id}">\n                            <div class="wishlist-item-image">\n                                <a href="/shop/product/${null==(t=e.product)?void 0:t.slug}">\n                                    <img src="${(null==(n=e.product)?void 0:n.image_url)||"/placeholder.jpg"}" alt="${null==(i=e.product)?void 0:i.title}">\n                                </a>\n                                <button class="wishlist-remove-btn" data-item-id="${e.id}">\n                                    <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>\n                                    </svg>\n                                </button>\n                            </div>\n                            <div class="wishlist-item-body">\n                                <a href="/shop/product/${null==(r=e.product)?void 0:r.slug}" style="text-decoration: none; color: inherit;">\n                                    <h3 class="wishlist-item-title">${null==(a=e.product)?void 0:a.title}</h3>\n                                </a>\n                                <div class="wishlist-item-price">${this.formatCurrency(((null==(s=e.product)?void 0:s.display_price)||(null==(o=e.product)?void 0:o.price_cents))/100,null==(l=e.product)?void 0:l.currency)}</div>\n                                <div class="wishlist-item-stock ${(null==(d=e.product)?void 0:d.is_in_stock)?"in-stock":"out-of-stock"}">\n                                    ${(null==(c=e.product)?void 0:c.is_in_stock)?"In stoc":"Stoc epuizat"}\n                                </div>\n                                <button class="wishlist-add-cart-btn" data-product-id="${e.product_id}" ${(null==(p=e.product)?void 0:p.is_in_stock)?"":"disabled"}>\n                                    ${(null==(m=e.product)?void 0:m.is_in_stock)?"Adauga in cos":"Indisponibil"}\n                                </button>\n                            </div>\n                        </div>\n                    `}).join("")}\n                </div>\n            `,t.querySelectorAll(".wishlist-remove-btn").forEach(e=>{e.addEventListener("click",async()=>{const n=e.getAttribute("data-item-id");if(n&&this.apiClient)try{this.setAuthHeaders(),await this.apiClient.delete(`/shop/wishlist/items/${n}`);const e=t.querySelector(`[data-item-id="${n}"]`);null==e||e.remove(),0===t.querySelectorAll(".wishlist-item").length&&this.loadWishlistContent()}catch(i){}})}),t.querySelectorAll(".wishlist-add-cart-btn").forEach(e=>{e.addEventListener("click",async()=>{const t=e.getAttribute("data-product-id");if(t&&this.apiClient)try{const n=localStorage.getItem("shop_session_id")||"shop-"+Math.random().toString(36).substr(2,16);localStorage.setItem("shop_session_id",n),await this.apiClient.post("/shop/cart/items",{product_id:t,quantity:1},{headers:{"X-Session-ID":n}}),e.textContent="Adaugat!",e.style.background="#10b981",setTimeout(()=>{e.textContent="Adauga in cos",e.style.background=""},2e3)}catch(n){}})})}catch(n){t.innerHTML='<p style="color: var(--sleek-error); text-align: center;">Eroare la incarcarea listei de dorinte.</p>'}}async renderStockAlerts(){if(!this.isLoggedIn())return void(window.location.hash="/login");const e=document.getElementById("stock-alerts-container");e&&(e.innerHTML='\n            <div class="sleek-page sleek-animate-in">\n                <div class="sleek-page-header">\n                    <h1 class="sleek-page-title">Alerte stoc</h1>\n                    <p class="sleek-page-subtitle">Vei fi notificat cand produsele revin in stoc</p>\n                </div>\n                <div id="stock-alerts-content" class="sleek-loading">\n                    <div class="sleek-spinner"></div>\n                </div>\n            </div>\n        ',await this.loadStockAlertsContent())}async loadStockAlertsContent(){var e;if(!this.apiClient)return;const t=document.getElementById("stock-alerts-content");if(t)try{this.setAuthHeaders();const n=(null==(e=(await this.apiClient.get("/shop/stock-alerts/my-alerts")).data.data)?void 0:e.alerts)||[];if(0===n.length)return void(t.innerHTML='\n                    <div class="sleek-empty-state">\n                        <div class="sleek-empty-icon">\n                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>\n                            </svg>\n                        </div>\n                        <h2 class="sleek-empty-title">Nicio alerta activa</h2>\n                        <p class="sleek-empty-desc">Aboneaza-te la produsele indisponibile pentru a fi notificat</p>\n                        <a href="/shop" class="sleek-btn-primary">Descopera produse</a>\n                    </div>\n                ');t.innerHTML=`\n                <style>\n                    .alerts-list {\n                        display: flex;\n                        flex-direction: column;\n                        gap: 1rem;\n                    }\n                    .alert-item {\n                        display: flex;\n                        gap: 1rem;\n                        padding: 1rem;\n                        background: var(--sleek-surface);\n                        border: 1px solid var(--sleek-border);\n                        border-radius: var(--sleek-radius);\n                        align-items: center;\n                    }\n                    .alert-item-image {\n                        width: 60px;\n                        height: 60px;\n                        border-radius: 0.375rem;\n                        object-fit: cover;\n                        background: #f3f4f6;\n                    }\n                    .alert-item-info {\n                        flex: 1;\n                    }\n                    .alert-item-title {\n                        font-weight: 600;\n                        color: var(--sleek-text);\n                        margin-bottom: 0.25rem;\n                    }\n                    .alert-item-date {\n                        font-size: 0.8rem;\n                        color: var(--sleek-text-muted);\n                    }\n                    .alert-remove-btn {\n                        padding: 0.5rem 1rem;\n                        border: 1px solid var(--sleek-border);\n                        border-radius: 0.375rem;\n                        background: white;\n                        color: var(--sleek-text-muted);\n                        cursor: pointer;\n                        font-size: 0.8rem;\n                    }\n                    .alert-remove-btn:hover {\n                        border-color: #ef4444;\n                        color: #ef4444;\n                    }\n                </style>\n                <div class="alerts-list">\n                    ${n.map(e=>{var t,n,i;return`\n                        <div class="alert-item" data-alert-id="${e.id}">\n                            <img src="${(null==(t=e.product)?void 0:t.image_url)||"/placeholder.jpg"}" alt="${null==(n=e.product)?void 0:n.title}" class="alert-item-image">\n                            <div class="alert-item-info">\n                                <div class="alert-item-title">${null==(i=e.product)?void 0:i.title}</div>\n                                <div class="alert-item-date">Abonat la ${this.formatDate(e.created_at)}</div>\n                            </div>\n                            <button class="alert-remove-btn" data-alert-id="${e.id}">Anuleaza</button>\n                        </div>\n                    `}).join("")}\n                </div>\n            `,t.querySelectorAll(".alert-remove-btn").forEach(e=>{e.addEventListener("click",async()=>{const n=e.getAttribute("data-alert-id");if(n&&this.apiClient)try{this.setAuthHeaders(),await this.apiClient.delete(`/shop/stock-alerts/${n}`);const e=t.querySelector(`[data-alert-id="${n}"]`);null==e||e.remove(),0===t.querySelectorAll(".alert-item").length&&this.loadStockAlertsContent()}catch(i){}})})}catch(n){t.innerHTML='<p style="color: var(--sleek-error); text-align: center;">Eroare la incarcarea alertelor.</p>'}}async renderShopCart(){const e=document.getElementById("shop-cart-container");if(!e)return;const t=localStorage.getItem("shop_session_id")||"shop-"+Math.random().toString(36).substr(2,16);localStorage.setItem("shop_session_id",t),e.innerHTML='\n            <div class="sleek-page sleek-animate-in">\n                <div class="sleek-page-header">\n                    <h1 class="sleek-page-title">Cosul tau</h1>\n                </div>\n                <div id="shop-cart-content" class="sleek-loading">\n                    <div class="sleek-spinner"></div>\n                </div>\n            </div>\n        ',await this.loadShopCartContent(t)}async loadShopCartContent(e){if(!this.apiClient)return;const t=document.getElementById("shop-cart-content");if(t)try{const n=(await this.apiClient.get("/shop/cart",{headers:{"X-Session-ID":e}})).data.data;if(!n||!n.items||0===n.items.length)return void(t.innerHTML='\n                    <div class="sleek-empty-state">\n                        <div class="sleek-empty-icon">\n                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/>\n                            </svg>\n                        </div>\n                        <h2 class="sleek-empty-title">Cosul este gol</h2>\n                        <p class="sleek-empty-desc">Adauga produse in cos pentru a continua</p>\n                        <a href="/shop" class="sleek-btn-primary">Descopera produse</a>\n                    </div>\n                ');t.innerHTML=`\n                <style>\n                    .cart-layout {\n                        display: grid;\n                        gap: 2rem;\n                    }\n                    @media (min-width: 1024px) {\n                        .cart-layout {\n                            grid-template-columns: 1fr 380px;\n                        }\n                    }\n                    .cart-items {\n                        display: flex;\n                        flex-direction: column;\n                        gap: 1rem;\n                    }\n                    .cart-item {\n                        display: flex;\n                        gap: 1rem;\n                        padding: 1rem;\n                        background: var(--sleek-surface);\n                        border: 1px solid var(--sleek-border);\n                        border-radius: var(--sleek-radius);\n                    }\n                    .cart-item-image {\n                        width: 100px;\n                        height: 100px;\n                        border-radius: 0.5rem;\n                        object-fit: cover;\n                        background: #f3f4f6;\n                    }\n                    .cart-item-info {\n                        flex: 1;\n                    }\n                    .cart-item-title {\n                        font-weight: 600;\n                        color: var(--sleek-text);\n                        margin-bottom: 0.25rem;\n                    }\n                    .cart-item-variant {\n                        font-size: 0.85rem;\n                        color: var(--sleek-text-muted);\n                        margin-bottom: 0.5rem;\n                    }\n                    .cart-item-price {\n                        font-weight: 600;\n                        color: var(--sleek-text);\n                    }\n                    .cart-item-qty {\n                        display: flex;\n                        align-items: center;\n                        gap: 0.5rem;\n                        margin-top: 0.75rem;\n                    }\n                    .cart-qty-btn {\n                        width: 32px;\n                        height: 32px;\n                        border: 1px solid var(--sleek-border);\n                        border-radius: 0.375rem;\n                        background: white;\n                        cursor: pointer;\n                        font-size: 1rem;\n                    }\n                    .cart-qty-btn:hover {\n                        border-color: var(--sleek-gradient-start);\n                    }\n                    .cart-qty-input {\n                        width: 50px;\n                        text-align: center;\n                        border: 1px solid var(--sleek-border);\n                        border-radius: 0.375rem;\n                        padding: 0.375rem;\n                    }\n                    .cart-item-remove {\n                        color: var(--sleek-text-muted);\n                        background: none;\n                        border: none;\n                        cursor: pointer;\n                        padding: 0.5rem;\n                    }\n                    .cart-item-remove:hover {\n                        color: #ef4444;\n                    }\n                    .cart-summary {\n                        background: var(--sleek-surface);\n                        border: 1px solid var(--sleek-border);\n                        border-radius: var(--sleek-radius);\n                        padding: 1.5rem;\n                        height: fit-content;\n                        position: sticky;\n                        top: 1rem;\n                    }\n                    .cart-summary-title {\n                        font-weight: 600;\n                        font-size: 1.1rem;\n                        color: var(--sleek-text);\n                        margin-bottom: 1rem;\n                        padding-bottom: 1rem;\n                        border-bottom: 1px solid var(--sleek-border);\n                    }\n                    .cart-summary-row {\n                        display: flex;\n                        justify-content: space-between;\n                        padding: 0.5rem 0;\n                        font-size: 0.9rem;\n                    }\n                    .cart-summary-row.total {\n                        font-weight: 700;\n                        font-size: 1.25rem;\n                        border-top: 1px solid var(--sleek-border);\n                        padding-top: 1rem;\n                        margin-top: 0.5rem;\n                    }\n                    .cart-checkout-btn {\n                        width: 100%;\n                        padding: 1rem;\n                        background: linear-gradient(135deg, var(--sleek-gradient-start), var(--sleek-gradient-end));\n                        color: white;\n                        border: none;\n                        border-radius: 0.5rem;\n                        font-weight: 600;\n                        font-size: 1rem;\n                        cursor: pointer;\n                        margin-top: 1.5rem;\n                        transition: var(--sleek-transition);\n                    }\n                    .cart-checkout-btn:hover {\n                        transform: translateY(-2px);\n                        box-shadow: 0 4px 12px var(--sleek-glow);\n                    }\n                </style>\n                <div class="cart-layout">\n                    <div class="cart-items">\n                        ${n.items.map(e=>{var t,i,r;return`\n                            <div class="cart-item" data-item-id="${e.id}">\n                                <img src="${(null==(t=e.product)?void 0:t.image_url)||"/placeholder.jpg"}" alt="${null==(i=e.product)?void 0:i.title}" class="cart-item-image">\n                                <div class="cart-item-info">\n                                    <div class="cart-item-title">${null==(r=e.product)?void 0:r.title}</div>\n                                    ${e.variant?`<div class="cart-item-variant">${e.variant.name}</div>`:""}\n                                    <div class="cart-item-price">${this.formatCurrency(e.price_cents/100,n.currency)}</div>\n                                    <div class="cart-item-qty">\n                                        <button class="cart-qty-btn cart-qty-minus" data-item-id="${e.id}">-</button>\n                                        <input type="number" class="cart-qty-input" data-item-id="${e.id}" value="${e.quantity}" min="1">\n                                        <button class="cart-qty-btn cart-qty-plus" data-item-id="${e.id}">+</button>\n                                    </div>\n                                </div>\n                                <button class="cart-item-remove" data-item-id="${e.id}">\n                                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>\n                                    </svg>\n                                </button>\n                            </div>\n                        `}).join("")}\n                    </div>\n                    <div class="cart-summary">\n                        <h3 class="cart-summary-title">Sumar comanda</h3>\n                        <div class="cart-summary-row">\n                            <span>Subtotal</span>\n                            <span>${this.formatCurrency(n.subtotal_cents/100,n.currency)}</span>\n                        </div>\n                        ${n.discount_cents>0?`\n                            <div class="cart-summary-row" style="color: #10b981;">\n                                <span>Reducere</span>\n                                <span>-${this.formatCurrency(n.discount_cents/100,n.currency)}</span>\n                            </div>\n                        `:""}\n                        <div class="cart-summary-row total">\n                            <span>Total</span>\n                            <span>${this.formatCurrency(n.total_cents/100,n.currency)}</span>\n                        </div>\n                        <button class="cart-checkout-btn" onclick="window.location.hash='/shop/checkout'">\n                            Continua spre plata\n                        </button>\n                    </div>\n                </div>\n            `,t.querySelectorAll(".cart-qty-minus").forEach(n=>{n.addEventListener("click",async()=>{const i=n.getAttribute("data-item-id"),r=t.querySelector(`.cart-qty-input[data-item-id="${i}"]`);r&&parseInt(r.value)>1&&await this.updateCartItemQuantity(e,i,parseInt(r.value)-1)})}),t.querySelectorAll(".cart-qty-plus").forEach(n=>{n.addEventListener("click",async()=>{const i=n.getAttribute("data-item-id"),r=t.querySelector(`.cart-qty-input[data-item-id="${i}"]`);r&&await this.updateCartItemQuantity(e,i,parseInt(r.value)+1)})}),t.querySelectorAll(".cart-item-remove").forEach(t=>{t.addEventListener("click",async()=>{const n=t.getAttribute("data-item-id");if(n&&this.apiClient)try{await this.apiClient.delete(`/shop/cart/items/${n}`,{headers:{"X-Session-ID":e}}),this.loadShopCartContent(e)}catch(i){}})})}catch(n){t.innerHTML='<p style="color: var(--sleek-error); text-align: center;">Eroare la incarcarea cosului.</p>'}}async updateCartItemQuantity(e,t,n){if(this.apiClient)try{await this.apiClient.put(`/shop/cart/items/${t}`,{quantity:n},{headers:{"X-Session-ID":e}}),this.loadShopCartContent(e)}catch(i){}}async renderShopCheckout(){const e=document.getElementById("shop-checkout-container");if(!e)return;const t=localStorage.getItem("shop_session_id");t?(e.innerHTML='\n            <div class="sleek-page sleek-animate-in">\n                <div class="sleek-page-header">\n                    <h1 class="sleek-page-title">Finalizare comanda</h1>\n                </div>\n                <div id="shop-checkout-content" class="sleek-loading">\n                    <div class="sleek-spinner"></div>\n                </div>\n            </div>\n        ',await this.loadShopCheckoutContent(t)):window.location.hash="/shop/cart"}async loadShopCheckoutContent(e){var t,n;if(!this.apiClient)return;const i=document.getElementById("shop-checkout-content");if(i)try{const t=await this.apiClient.get(`/shop/checkout/initialize?session_id=${e}`),{cart:n,totals:r,requires_shipping:a,currency:s}=t.data.data;if(!n||!n.items||0===n.items.length)return void(window.location.hash="/shop/cart");i.innerHTML=`\n                <style>\n                    .checkout-layout {\n                        display: grid;\n                        gap: 2rem;\n                    }\n                    @media (min-width: 1024px) {\n                        .checkout-layout {\n                            grid-template-columns: 1fr 400px;\n                        }\n                    }\n                    .checkout-section {\n                        background: var(--sleek-surface);\n                        border: 1px solid var(--sleek-border);\n                        border-radius: var(--sleek-radius);\n                        padding: 1.5rem;\n                        margin-bottom: 1.5rem;\n                    }\n                    .checkout-section-title {\n                        font-size: 1.125rem;\n                        font-weight: 600;\n                        color: var(--sleek-text);\n                        margin-bottom: 1rem;\n                        display: flex;\n                        align-items: center;\n                        gap: 0.5rem;\n                    }\n                    .checkout-form-row {\n                        display: grid;\n                        gap: 1rem;\n                        margin-bottom: 1rem;\n                    }\n                    @media (min-width: 640px) {\n                        .checkout-form-row.two-cols {\n                            grid-template-columns: 1fr 1fr;\n                        }\n                    }\n                    .checkout-form-group label {\n                        display: block;\n                        font-weight: 500;\n                        color: var(--sleek-text);\n                        margin-bottom: 0.5rem;\n                        font-size: 0.875rem;\n                    }\n                    .checkout-form-group input,\n                    .checkout-form-group select {\n                        width: 100%;\n                        padding: 0.75rem;\n                        border: 1px solid var(--sleek-border);\n                        border-radius: 0.5rem;\n                        background: var(--sleek-bg);\n                        color: var(--sleek-text);\n                        font-size: 1rem;\n                        transition: border-color 0.2s;\n                    }\n                    .checkout-form-group input:focus,\n                    .checkout-form-group select:focus {\n                        outline: none;\n                        border-color: var(--sleek-primary);\n                    }\n                    .shipping-methods {\n                        display: flex;\n                        flex-direction: column;\n                        gap: 0.75rem;\n                    }\n                    .shipping-method {\n                        display: flex;\n                        align-items: flex-start;\n                        gap: 1rem;\n                        padding: 1rem;\n                        border: 2px solid var(--sleek-border);\n                        border-radius: 0.75rem;\n                        cursor: pointer;\n                        transition: all 0.2s;\n                    }\n                    .shipping-method:hover {\n                        border-color: var(--sleek-primary);\n                    }\n                    .shipping-method.selected {\n                        border-color: var(--sleek-primary);\n                        background: rgba(var(--sleek-primary-rgb), 0.05);\n                    }\n                    .shipping-method input {\n                        margin-top: 0.25rem;\n                    }\n                    .shipping-method-info {\n                        flex: 1;\n                    }\n                    .shipping-method-name {\n                        font-weight: 600;\n                        color: var(--sleek-text);\n                    }\n                    .shipping-method-estimate {\n                        font-size: 0.875rem;\n                        color: var(--sleek-primary);\n                        margin-top: 0.25rem;\n                        display: flex;\n                        align-items: center;\n                        gap: 0.5rem;\n                    }\n                    .shipping-method-estimate svg {\n                        width: 16px;\n                        height: 16px;\n                    }\n                    .shipping-method-description {\n                        font-size: 0.8rem;\n                        color: var(--sleek-text-muted);\n                        margin-top: 0.25rem;\n                    }\n                    .shipping-method-price {\n                        font-weight: 600;\n                        color: var(--sleek-text);\n                        white-space: nowrap;\n                    }\n                    .shipping-method-price.free {\n                        color: #10b981;\n                    }\n                    .checkout-summary {\n                        background: var(--sleek-surface);\n                        border: 1px solid var(--sleek-border);\n                        border-radius: var(--sleek-radius);\n                        padding: 1.5rem;\n                        position: sticky;\n                        top: 1rem;\n                    }\n                    .checkout-summary-title {\n                        font-size: 1.125rem;\n                        font-weight: 600;\n                        color: var(--sleek-text);\n                        margin-bottom: 1rem;\n                        padding-bottom: 0.75rem;\n                        border-bottom: 1px solid var(--sleek-border);\n                    }\n                    .checkout-summary-items {\n                        max-height: 200px;\n                        overflow-y: auto;\n                        margin-bottom: 1rem;\n                        padding-bottom: 1rem;\n                        border-bottom: 1px solid var(--sleek-border);\n                    }\n                    .checkout-summary-item {\n                        display: flex;\n                        gap: 0.75rem;\n                        margin-bottom: 0.75rem;\n                    }\n                    .checkout-summary-item:last-child {\n                        margin-bottom: 0;\n                    }\n                    .checkout-summary-item-image {\n                        width: 50px;\n                        height: 50px;\n                        border-radius: 0.5rem;\n                        object-fit: cover;\n                        background: #f3f4f6;\n                    }\n                    .checkout-summary-item-info {\n                        flex: 1;\n                    }\n                    .checkout-summary-item-name {\n                        font-size: 0.875rem;\n                        font-weight: 500;\n                        color: var(--sleek-text);\n                    }\n                    .checkout-summary-item-variant {\n                        font-size: 0.75rem;\n                        color: var(--sleek-text-muted);\n                    }\n                    .checkout-summary-item-qty {\n                        font-size: 0.75rem;\n                        color: var(--sleek-text-muted);\n                    }\n                    .checkout-summary-item-price {\n                        font-size: 0.875rem;\n                        font-weight: 500;\n                        color: var(--sleek-text);\n                        white-space: nowrap;\n                    }\n                    .checkout-summary-row {\n                        display: flex;\n                        justify-content: space-between;\n                        margin-bottom: 0.5rem;\n                        font-size: 0.875rem;\n                    }\n                    .checkout-summary-row.total {\n                        font-size: 1.125rem;\n                        font-weight: 700;\n                        color: var(--sleek-text);\n                        margin-top: 0.75rem;\n                        padding-top: 0.75rem;\n                        border-top: 1px solid var(--sleek-border);\n                    }\n                    .checkout-submit-btn {\n                        width: 100%;\n                        padding: 1rem;\n                        background: linear-gradient(135deg, var(--sleek-gradient-start), var(--sleek-gradient-end));\n                        color: white;\n                        border: none;\n                        border-radius: 0.75rem;\n                        font-size: 1rem;\n                        font-weight: 600;\n                        cursor: pointer;\n                        margin-top: 1rem;\n                        transition: opacity 0.2s, transform 0.2s;\n                    }\n                    .checkout-submit-btn:hover:not(:disabled) {\n                        opacity: 0.9;\n                        transform: translateY(-1px);\n                    }\n                    .checkout-submit-btn:disabled {\n                        opacity: 0.5;\n                        cursor: not-allowed;\n                    }\n                    .checkout-secure-note {\n                        display: flex;\n                        align-items: center;\n                        justify-content: center;\n                        gap: 0.5rem;\n                        margin-top: 1rem;\n                        font-size: 0.75rem;\n                        color: var(--sleek-text-muted);\n                    }\n                    .checkout-secure-note svg {\n                        width: 14px;\n                        height: 14px;\n                    }\n                    #shipping-methods-loading {\n                        padding: 2rem;\n                        text-align: center;\n                        color: var(--sleek-text-muted);\n                    }\n                    #stripe-payment-element {\n                        padding: 1rem;\n                        border: 1px solid var(--sleek-border);\n                        border-radius: 0.5rem;\n                        background: var(--sleek-bg);\n                        min-height: 100px;\n                    }\n                    #stripe-payment-errors {\n                        color: #ef4444;\n                        font-size: 0.875rem;\n                        margin-top: 0.5rem;\n                        display: none;\n                    }\n                </style>\n\n                <form id="shop-checkout-form">\n                    <div class="checkout-layout">\n                        <div class="checkout-form-section">\n                            \x3c!-- Contact Info --\x3e\n                            <div class="checkout-section">\n                                <h2 class="checkout-section-title">\n                                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>\n                                    </svg>\n                                    Informații contact\n                                </h2>\n                                <div class="checkout-form-row two-cols">\n                                    <div class="checkout-form-group">\n                                        <label for="customer_name">Nume complet *</label>\n                                        <input type="text" id="customer_name" name="customer_name" required>\n                                    </div>\n                                    <div class="checkout-form-group">\n                                        <label for="customer_email">Email *</label>\n                                        <input type="email" id="customer_email" name="customer_email" required>\n                                    </div>\n                                </div>\n                                <div class="checkout-form-row">\n                                    <div class="checkout-form-group">\n                                        <label for="customer_phone">Telefon</label>\n                                        <input type="tel" id="customer_phone" name="customer_phone">\n                                    </div>\n                                </div>\n                            </div>\n\n                            ${a?'\n                            \x3c!-- Shipping Address --\x3e\n                            <div class="checkout-section">\n                                <h2 class="checkout-section-title">\n                                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>\n                                    </svg>\n                                    Adresa de livrare\n                                </h2>\n                                <div class="checkout-form-row">\n                                    <div class="checkout-form-group">\n                                        <label for="shipping_name">Nume destinatar *</label>\n                                        <input type="text" id="shipping_name" name="shipping_name" required>\n                                    </div>\n                                </div>\n                                <div class="checkout-form-row">\n                                    <div class="checkout-form-group">\n                                        <label for="shipping_line1">Adresa (strada, numar) *</label>\n                                        <input type="text" id="shipping_line1" name="shipping_line1" required>\n                                    </div>\n                                </div>\n                                <div class="checkout-form-row">\n                                    <div class="checkout-form-group">\n                                        <label for="shipping_line2">Detalii suplimentare (apartament, bloc, etc.)</label>\n                                        <input type="text" id="shipping_line2" name="shipping_line2">\n                                    </div>\n                                </div>\n                                <div class="checkout-form-row two-cols">\n                                    <div class="checkout-form-group">\n                                        <label for="shipping_city">Oras *</label>\n                                        <input type="text" id="shipping_city" name="shipping_city" required>\n                                    </div>\n                                    <div class="checkout-form-group">\n                                        <label for="shipping_region">Judet/Regiune</label>\n                                        <input type="text" id="shipping_region" name="shipping_region">\n                                    </div>\n                                </div>\n                                <div class="checkout-form-row two-cols">\n                                    <div class="checkout-form-group">\n                                        <label for="shipping_postal_code">Cod postal *</label>\n                                        <input type="text" id="shipping_postal_code" name="shipping_postal_code" required>\n                                    </div>\n                                    <div class="checkout-form-group">\n                                        <label for="shipping_country">Tara *</label>\n                                        <select id="shipping_country" name="shipping_country" required>\n                                            <option value="RO" selected>Romania</option>\n                                            <option value="MD">Moldova</option>\n                                            <option value="BG">Bulgaria</option>\n                                            <option value="HU">Ungaria</option>\n                                            <option value="DE">Germania</option>\n                                            <option value="AT">Austria</option>\n                                            <option value="IT">Italia</option>\n                                            <option value="ES">Spania</option>\n                                            <option value="FR">Franta</option>\n                                            <option value="GB">Marea Britanie</option>\n                                        </select>\n                                    </div>\n                                </div>\n                            </div>\n\n                            \x3c!-- Shipping Methods --\x3e\n                            <div class="checkout-section" id="shipping-methods-section">\n                                <h2 class="checkout-section-title">\n                                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                        <path d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"/>\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"/>\n                                    </svg>\n                                    Metoda de livrare\n                                </h2>\n                                <div id="shipping-methods-container">\n                                    <div id="shipping-methods-loading">\n                                        <p style="color: var(--sleek-text-muted);">Completeaza adresa pentru a vedea optiunile de livrare</p>\n                                    </div>\n                                </div>\n                            </div>\n                            ':""}\n\n                            \x3c!-- Payment --\x3e\n                            <div class="checkout-section">\n                                <h2 class="checkout-section-title">\n                                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"/>\n                                    </svg>\n                                    Plata\n                                </h2>\n                                <div id="stripe-payment-element">\n                                    <p style="color: var(--sleek-text-muted); text-align: center;">Se incarca optiunile de plata...</p>\n                                </div>\n                                <div id="stripe-payment-errors"></div>\n                            </div>\n\n                            \x3c!-- Order Notes --\x3e\n                            <div class="checkout-section">\n                                <h2 class="checkout-section-title">\n                                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>\n                                    </svg>\n                                    Notite comanda (optional)\n                                </h2>\n                                <div class="checkout-form-group">\n                                    <textarea id="order_notes" name="notes" rows="3" placeholder="Instructiuni speciale pentru livrare sau comanda..."\n                                        style="width: 100%; padding: 0.75rem; border: 1px solid var(--sleek-border); border-radius: 0.5rem; background: var(--sleek-bg); color: var(--sleek-text); resize: vertical;"></textarea>\n                                </div>\n                            </div>\n                        </div>\n\n                        \x3c!-- Order Summary Sidebar --\x3e\n                        <div>\n                            <div class="checkout-summary">\n                                <h3 class="checkout-summary-title">Sumar comanda</h3>\n                                <div class="checkout-summary-items">\n                                    ${n.items.map(e=>{var t,n,i;return`\n                                        <div class="checkout-summary-item">\n                                            <img src="${(null==(t=e.product)?void 0:t.image_url)||"/placeholder.jpg"}" alt="${null==(n=e.product)?void 0:n.title}" class="checkout-summary-item-image">\n                                            <div class="checkout-summary-item-info">\n                                                <div class="checkout-summary-item-name">${null==(i=e.product)?void 0:i.title}</div>\n                                                ${e.variant?`<div class="checkout-summary-item-variant">${e.variant.name}</div>`:""}\n                                                <div class="checkout-summary-item-qty">x ${e.quantity}</div>\n                                            </div>\n                                            <div class="checkout-summary-item-price">${this.formatCurrency(e.line_total_cents/100,s)}</div>\n                                        </div>\n                                    `}).join("")}\n                                </div>\n                                <div class="checkout-summary-row">\n                                    <span>Subtotal</span>\n                                    <span>${this.formatCurrency(r.subtotal_cents/100,s)}</span>\n                                </div>\n                                ${r.discount_cents>0?`\n                                    <div class="checkout-summary-row" style="color: #10b981;">\n                                        <span>Reducere</span>\n                                        <span>-${this.formatCurrency(r.discount_cents/100,s)}</span>\n                                    </div>\n                                `:""}\n                                ${r.tax_cents>0?`\n                                    <div class="checkout-summary-row">\n                                        <span>TVA</span>\n                                        <span>${this.formatCurrency(r.tax_cents/100,s)}</span>\n                                    </div>\n                                `:""}\n                                <div class="checkout-summary-row" id="shipping-cost-row" style="${a?"":"display: none;"}">\n                                    <span>Livrare</span>\n                                    <span id="shipping-cost-display">-</span>\n                                </div>\n                                <div class="checkout-summary-row" id="delivery-estimate-row" style="display: none; color: var(--sleek-primary);">\n                                    <span>\n                                        <svg width="14" height="14" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="display: inline; vertical-align: middle; margin-right: 4px;">\n                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>\n                                        </svg>\n                                        Livrare estimata\n                                    </span>\n                                    <span id="delivery-estimate-display"></span>\n                                </div>\n                                <div class="checkout-summary-row total">\n                                    <span>Total</span>\n                                    <span id="checkout-total-display">${this.formatCurrency(r.total_cents/100,s)}</span>\n                                </div>\n                                <input type="hidden" id="selected_shipping_method" name="shipping_method_id" value="">\n                                <input type="hidden" id="checkout_session_id" value="${e}">\n                                <input type="hidden" id="checkout_currency" value="${s}">\n                                <input type="hidden" id="checkout_total_cents" value="${r.total_cents}">\n                                <button type="submit" class="checkout-submit-btn" id="checkout-submit-btn" disabled>\n                                    <span id="btn-text">Plateste ${this.formatCurrency(r.total_cents/100,s)}</span>\n                                    <span id="btn-spinner" style="display: none;">Procesare...</span>\n                                </button>\n                                <div class="checkout-secure-note">\n                                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>\n                                    </svg>\n                                    Plata securizata prin Stripe\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </form>\n            `,await this.initShopStripeCheckout(r.total_cents,s),a&&this.bindShippingAddressListeners(e,s),this.bindShopCheckoutForm(e,a)}catch(r){i.innerHTML=`\n                <div class="sleek-empty-state">\n                    <p style="color: var(--sleek-error);">Eroare la initializarea checkout-ului: ${(null==(n=null==(t=r.response)?void 0:t.data)?void 0:n.message)||r.message}</p>\n                    <a href="/shop/cart" class="sleek-btn-primary" style="margin-top: 1rem;">Inapoi la cos</a>\n                </div>\n            `}}bindShippingAddressListeners(e,t){let n=null;const i=async()=>{var n,i,r,a;const s=null==(n=document.getElementById("shipping_country"))?void 0:n.value,o=null==(i=document.getElementById("shipping_city"))?void 0:i.value,l=null==(r=document.getElementById("shipping_postal_code"))?void 0:r.value,d=null==(a=document.getElementById("shipping_region"))?void 0:a.value;if(!s||!o||!l)return;const c=document.getElementById("shipping-methods-container");if(c){c.innerHTML='\n                <div id="shipping-methods-loading">\n                    <div class="sleek-spinner" style="width: 24px; height: 24px; margin: 0 auto 0.5rem;"></div>\n                    <p>Se incarca optiunile de livrare...</p>\n                </div>\n            ';try{const n=await this.apiClient.post("/shop/checkout/shipping-methods",{session_id:e,country:s,region:d,city:o,postal_code:l}),{shipping_methods:i}=n.data.data;if(!i||0===i.length)return void(c.innerHTML='\n                        <p style="color: var(--sleek-text-muted); text-align: center; padding: 1rem;">\n                            Nu sunt disponibile metode de livrare pentru aceasta adresa.\n                        </p>\n                    ');if(c.innerHTML=`\n                    <div class="shipping-methods">\n                        ${i.map((e,n)=>`\n                            <label class="shipping-method ${0===n?"selected":""}" data-method-id="${e.id}" data-cost="${e.cost_cents}" data-estimate="${e.estimated_delivery||""}">\n                                <input type="radio" name="shipping_method" value="${e.id}" ${0===n?"checked":""}>\n                                <div class="shipping-method-info">\n                                    <div class="shipping-method-name">${e.name}</div>\n                                    ${e.estimated_delivery?`\n                                        <div class="shipping-method-estimate">\n                                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>\n                                            </svg>\n                                            ${e.estimated_delivery}\n                                        </div>\n                                    `:""}\n                                    ${e.description?`<div class="shipping-method-description">${e.description}</div>`:""}\n                                </div>\n                                <div class="shipping-method-price ${e.is_free?"free":""}">\n                                    ${e.is_free?"GRATUIT":this.formatCurrency(e.cost_cents/100,t)}\n                                </div>\n                            </label>\n                        `).join("")}\n                    </div>\n                `,c.querySelectorAll(".shipping-method").forEach(n=>{n.addEventListener("click",()=>{c.querySelectorAll(".shipping-method").forEach(e=>e.classList.remove("selected")),n.classList.add("selected");const i=n.querySelector('input[type="radio"]');i&&(i.checked=!0),this.updateShopCheckoutTotals(e,t)})}),i.length>0){const n=document.getElementById("selected_shipping_method");n&&(n.value=i[0].id),this.updateShopCheckoutTotals(e,t)}}catch(p){c.innerHTML='\n                    <p style="color: var(--sleek-error); text-align: center; padding: 1rem;">\n                        Eroare la incarcarea metodelor de livrare.\n                    </p>\n                '}}};["shipping_country","shipping_city","shipping_postal_code"].forEach(e=>{const t=document.getElementById(e);t&&(t.addEventListener("change",()=>{n&&clearTimeout(n),n=window.setTimeout(i,500)}),t.addEventListener("blur",()=>{n&&clearTimeout(n),n=window.setTimeout(i,300)}))})}async updateShopCheckoutTotals(e,t){if(!this.apiClient)return;const n=document.querySelector(".shipping-method.selected"),i=null==n?void 0:n.dataset.methodId,r=parseInt((null==n?void 0:n.dataset.cost)||"0"),a=(null==n?void 0:n.dataset.estimate)||"",s=document.getElementById("selected_shipping_method");s&&i&&(s.value=i);const o=document.getElementById("shipping-cost-display");o&&(o.textContent=0===r?"GRATUIT":this.formatCurrency(r/100,t));const l=document.getElementById("delivery-estimate-row"),d=document.getElementById("delivery-estimate-display");l&&d&&(a?(l.style.display="flex",d.textContent=a):l.style.display="none");try{const n=await this.apiClient.post("/shop/checkout/calculate",{session_id:e,shipping_method_id:i}),{total_cents:r}=n.data.data,a=document.getElementById("checkout-total-display");a&&(a.textContent=this.formatCurrency(r/100,t));const s=document.getElementById("checkout_total_cents");s&&(s.value=r.toString());const o=document.getElementById("btn-text");o&&(o.textContent=`Plateste ${this.formatCurrency(r/100,t)}`)}catch(c){}}async initShopStripeCheckout(e,t){var n,i;if(!this.apiClient)return;const r=document.getElementById("stripe-payment-element"),a=document.getElementById("stripe-payment-errors"),s=document.getElementById("checkout-submit-btn");if(r)try{window.Stripe||await this.loadStripeJs();const n=await this.apiClient.get("/client/payment/config"),{publishable_key:i,configured:o,processor:l}=n.data.data;if(!o||"stripe"!==l)return void(r.innerHTML='<p style="color: var(--sleek-error);">Platile nu sunt configurate pentru acest magazin.</p>');const d=await this.apiClient.post("/client/payment/create-intent",{amount:e/100,currency:t.toLowerCase()}),{client_secret:c}=d.data.data,p=window.Stripe(i),m=p.elements({clientSecret:c,appearance:{theme:"stripe",variables:{colorPrimary:"#6366f1",colorBackground:"#ffffff",colorText:"#1f2937",fontFamily:"system-ui, sans-serif",borderRadius:"0.5rem"}}});window.__shopStripe=p,window.__shopElements=m;const u=m.create("payment",{layout:"tabs"});r.innerHTML="",u.mount(r),u.on("ready",()=>{s.disabled=!1}),u.on("change",e=>{e.error&&a?(a.textContent=e.error.message,a.style.display="block"):a&&(a.style.display="none")})}catch(o){r.innerHTML=`<p style="color: var(--sleek-error);">Eroare la incarcarea platii: ${(null==(i=null==(n=o.response)?void 0:n.data)?void 0:i.message)||o.message}</p>`}}loadStripeJs(){return new Promise((e,t)=>{if(window.Stripe)return void e();const n=document.createElement("script");n.src="https://js.stripe.com/v3/",n.onload=()=>e(),n.onerror=()=>t(new Error("Failed to load Stripe.js")),document.head.appendChild(n)})}bindShopCheckoutForm(e,t){const n=document.getElementById("shop-checkout-form");n&&n.addEventListener("submit",async i=>{var r,a,s,o;i.preventDefault();const l=document.getElementById("checkout-submit-btn"),d=document.getElementById("btn-text"),c=document.getElementById("btn-spinner"),p=document.getElementById("stripe-payment-errors");if(l&&this.apiClient){if(t){if(!(null==(r=document.getElementById("selected_shipping_method"))?void 0:r.value))return void(p&&(p.textContent="Te rugam sa selectezi o metoda de livrare.",p.style.display="block"))}l.disabled=!0,d&&(d.style.display="none"),c&&(c.style.display="inline");try{const i=new FormData(n);null==(a=document.getElementById("checkout_currency"))||a.value;let r=null;t&&(r={name:i.get("shipping_name"),line1:i.get("shipping_line1"),line2:i.get("shipping_line2")||null,city:i.get("shipping_city"),region:i.get("shipping_region")||null,postal_code:i.get("shipping_postal_code"),country:i.get("shipping_country")});const s=await this.apiClient.post("/shop/checkout/create-order",{session_id:e,customer_email:i.get("customer_email"),customer_phone:i.get("customer_phone")||null,customer_name:i.get("customer_name"),shipping_address:r,shipping_method_id:i.get("shipping_method_id")||null,notes:i.get("notes")||null});if(!s.data.success)throw new Error(s.data.message||"Eroare la crearea comenzii");const{order_number:o,requires_payment:m}=s.data.data;if(m){const e=window.__shopStripe,t=window.__shopElements;if(!e||!t)throw new Error("Sistemul de plata nu este initializat");const n=`${window.location.origin}${window.location.pathname}#/shop/thank-you/${o}`,{error:r}=await e.confirmPayment({elements:t,confirmParams:{return_url:n,receipt_email:i.get("customer_email"),payment_method_data:{billing_details:{name:i.get("customer_name"),email:i.get("customer_email"),phone:i.get("customer_phone")||void 0}}}});if(r)return p&&(p.textContent=r.message||"A aparut o eroare la procesarea platii.",p.style.display="block"),l.disabled=!1,d&&(d.style.display="inline"),void(c&&(c.style.display="none"))}else window.location.hash=`/shop/thank-you/${o}`}catch(m){p&&(p.textContent=(null==(o=null==(s=m.response)?void 0:s.data)?void 0:o.message)||m.message||"A aparut o eroare.",p.style.display="block"),l.disabled=!1,d&&(d.style.display="inline"),c&&(c.style.display="none")}}})}}},Symbol.toStringTag,{value:"Module"}));const j=Object.freeze(Object.defineProperty({__proto__:null,GamificationModule:class{constructor(){__publicField(this,"name","gamification"),__publicField(this,"apiClient",null),__publicField(this,"eventBus",null),__publicField(this,"clientToken",null),__publicField(this,"config",null)}async init(e,t){this.apiClient=e,this.eventBus=t,this.clientToken=localStorage.getItem("client_token"),await this.loadConfig(),this.eventBus.on("route:points",()=>this.renderPointsPage()),this.eventBus.on("route:points-history",()=>this.renderPointsHistory()),this.eventBus.on("route:referral",()=>this.renderReferralPage()),this.eventBus.on("gamification:get-balance",e=>{this.getBalance().then(e)}),this.eventBus.on("gamification:check-redemption",(e,t)=>{this.checkRedemption(e.points,e.orderTotal).then(t)}),this.eventBus.on("gamification:get-config",e=>{e(this.config)})}isLoggedIn(){return!!this.clientToken}setAuthHeaders(){this.clientToken&&this.apiClient&&this.apiClient.setHeader("Authorization",`Bearer ${this.clientToken}`)}async loadConfig(){if(this.apiClient)try{const e=await this.apiClient.get("/gamification/config");e.data.success&&(this.config=e.data.data)}catch(e){}}isEnabled(){return null!==this.config&&this.config.is_active}getConfig(){return this.config}async getBalance(){if(!this.apiClient||!this.isLoggedIn())return null;try{this.setAuthHeaders();const e=await this.apiClient.get("/gamification/balance");if(e.data.success)return e.data.data}catch(e){}return null}async checkRedemption(e,t){if(!this.apiClient||!this.isLoggedIn())return null;try{this.setAuthHeaders();const n=await this.apiClient.post("/gamification/check-redemption",{points_to_redeem:e,order_total_cents:t});if(n.data.success)return n.data.data}catch(n){}return null}formatCurrency(e,t="RON"){return new Intl.NumberFormat("ro-RO",{style:"currency",currency:t}).format(e)}formatDate(e){return new Date(e).toLocaleDateString("ro-RO",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}async renderPointsPage(){if(!this.isLoggedIn())return void(window.location.hash="/login");const e=document.getElementById("points-container");e&&(e.innerHTML='\n            <div class="gamification-page">\n                <div class="gamification-loading">\n                    <div class="sleek-spinner"></div>\n                </div>\n            </div>\n        ',await this.loadPointsPageContent(e))}async loadPointsPageContent(e){if(this.apiClient)try{this.setAuthHeaders();const[t,n,i]=await Promise.all([this.apiClient.get("/gamification/balance"),this.apiClient.get("/gamification/history?per_page=10"),this.apiClient.get("/gamification/config")]),r=t.data.data,a=n.data.data,s=i.data.data,o=s.points_name||"puncte",l=s.points_name_singular||"punct",d=s.point_value_cents/100,c=s.currency||"RON";e.innerHTML=`\n                <style>\n                    .gamification-page {\n                        max-width: 800px;\n                        margin: 0 auto;\n                        padding: 2rem 1rem;\n                    }\n\n                    .points-header {\n                        text-align: center;\n                        margin-bottom: 2rem;\n                    }\n\n                    .points-balance-card {\n                        background: linear-gradient(135deg, var(--sleek-gradient-start), var(--sleek-gradient-end));\n                        border-radius: var(--sleek-radius);\n                        padding: 2rem;\n                        text-align: center;\n                        color: white;\n                        margin-bottom: 2rem;\n                        box-shadow: 0 8px 32px var(--sleek-glow);\n                    }\n\n                    .points-balance-label {\n                        font-size: 0.9rem;\n                        opacity: 0.9;\n                        margin-bottom: 0.5rem;\n                    }\n\n                    .points-balance-value {\n                        font-size: 3rem;\n                        font-weight: 800;\n                        margin-bottom: 0.5rem;\n                    }\n\n                    .points-balance-worth {\n                        font-size: 1rem;\n                        opacity: 0.8;\n                    }\n\n                    .points-stats-grid {\n                        display: grid;\n                        grid-template-columns: repeat(3, 1fr);\n                        gap: 1rem;\n                        margin-bottom: 2rem;\n                    }\n\n                    .points-stat {\n                        background: var(--sleek-surface);\n                        border: 1px solid var(--sleek-border);\n                        border-radius: var(--sleek-radius);\n                        padding: 1.25rem;\n                        text-align: center;\n                    }\n\n                    .points-stat-value {\n                        font-size: 1.5rem;\n                        font-weight: 700;\n                        color: var(--sleek-text);\n                    }\n\n                    .points-stat-label {\n                        font-size: 0.8rem;\n                        color: var(--sleek-text-muted);\n                        margin-top: 0.25rem;\n                    }\n\n                    .points-section {\n                        background: var(--sleek-surface);\n                        border: 1px solid var(--sleek-border);\n                        border-radius: var(--sleek-radius);\n                        padding: 1.5rem;\n                        margin-bottom: 1.5rem;\n                    }\n\n                    .points-section-title {\n                        font-size: 1.1rem;\n                        font-weight: 600;\n                        color: var(--sleek-text);\n                        margin-bottom: 1rem;\n                        display: flex;\n                        align-items: center;\n                        gap: 0.5rem;\n                    }\n\n                    .points-history-item {\n                        display: flex;\n                        justify-content: space-between;\n                        align-items: center;\n                        padding: 1rem 0;\n                        border-bottom: 1px solid var(--sleek-border);\n                    }\n\n                    .points-history-item:last-child {\n                        border-bottom: none;\n                    }\n\n                    .points-history-info {\n                        flex: 1;\n                    }\n\n                    .points-history-type {\n                        font-weight: 500;\n                        color: var(--sleek-text);\n                        margin-bottom: 0.25rem;\n                    }\n\n                    .points-history-date {\n                        font-size: 0.8rem;\n                        color: var(--sleek-text-muted);\n                    }\n\n                    .points-history-amount {\n                        font-weight: 700;\n                        font-size: 1.1rem;\n                    }\n\n                    .points-history-amount.earned {\n                        color: var(--sleek-success);\n                    }\n\n                    .points-history-amount.spent {\n                        color: var(--sleek-error);\n                    }\n\n                    .tier-badge {\n                        display: inline-flex;\n                        align-items: center;\n                        gap: 0.5rem;\n                        padding: 0.5rem 1rem;\n                        background: var(--sleek-surface-elevated);\n                        border-radius: 9999px;\n                        font-size: 0.9rem;\n                        font-weight: 600;\n                        margin-top: 1rem;\n                    }\n\n                    .view-all-link {\n                        display: block;\n                        text-align: center;\n                        color: var(--sleek-gradient-start);\n                        font-weight: 500;\n                        padding-top: 1rem;\n                        text-decoration: none;\n                    }\n\n                    .view-all-link:hover {\n                        text-decoration: underline;\n                    }\n\n                    .referral-box {\n                        background: var(--sleek-surface-elevated);\n                        border-radius: var(--sleek-radius);\n                        padding: 1.5rem;\n                        text-align: center;\n                    }\n\n                    .referral-link-input {\n                        display: flex;\n                        gap: 0.5rem;\n                        margin-top: 1rem;\n                    }\n\n                    .referral-link-input input {\n                        flex: 1;\n                        padding: 0.75rem 1rem;\n                        background: var(--sleek-surface);\n                        border: 1px solid var(--sleek-border);\n                        border-radius: var(--sleek-radius-sm);\n                        color: var(--sleek-text);\n                        font-size: 0.9rem;\n                    }\n\n                    .referral-link-input button {\n                        padding: 0.75rem 1.5rem;\n                        background: linear-gradient(135deg, var(--sleek-gradient-start), var(--sleek-gradient-end));\n                        color: white;\n                        border: none;\n                        border-radius: var(--sleek-radius-sm);\n                        font-weight: 600;\n                        cursor: pointer;\n                        transition: var(--sleek-transition);\n                    }\n\n                    .referral-link-input button:hover {\n                        transform: translateY(-2px);\n                        box-shadow: 0 4px 12px var(--sleek-glow);\n                    }\n\n                    @media (max-width: 640px) {\n                        .points-stats-grid {\n                            grid-template-columns: 1fr;\n                        }\n                    }\n                </style>\n\n                <div class="gamification-page">\n                    <div class="points-header">\n                        <h1 class="sleek-page-title">${o.charAt(0).toUpperCase()+o.slice(1)}le mele</h1>\n                    </div>\n\n                    <div class="points-balance-card">\n                        <div class="points-balance-label">Balanta curenta</div>\n                        <div class="points-balance-value">${r.current_balance.toLocaleString()}</div>\n                        <div class="points-balance-worth">\n                            Valoare: ${this.formatCurrency(r.current_balance*d,c)}\n                        </div>\n                        ${r.current_tier?`\n                            <div class="tier-badge" style="background: ${r.current_tier.color||"#6366f1"}20; color: ${r.current_tier.color||"#6366f1"}">\n                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">\n                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>\n                                </svg>\n                                ${r.current_tier.name}\n                            </div>\n                        `:""}\n                    </div>\n\n                    <div class="points-stats-grid">\n                        <div class="points-stat">\n                            <div class="points-stat-value">${r.total_earned.toLocaleString()}</div>\n                            <div class="points-stat-label">Total castigate</div>\n                        </div>\n                        <div class="points-stat">\n                            <div class="points-stat-value">${r.total_spent.toLocaleString()}</div>\n                            <div class="points-stat-label">Total folosite</div>\n                        </div>\n                        <div class="points-stat">\n                            <div class="points-stat-value">${r.referral_count||0}</div>\n                            <div class="points-stat-label">Prieteni invitati</div>\n                        </div>\n                    </div>\n\n                    ${r.referral_code?`\n                    <div class="points-section">\n                        <div class="points-section-title">\n                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>\n                            </svg>\n                            Invita prieteni\n                        </div>\n                        <div class="referral-box">\n                            <p style="color: var(--sleek-text-muted); margin-bottom: 0.5rem;">\n                                Primesti <strong>${s.referral_bonus_points||0} ${o}</strong> pentru fiecare prieten care face o comanda!\n                            </p>\n                            <div class="referral-link-input">\n                                <input type="text" id="referral-link" value="${r.referral_link||""}" readonly>\n                                <button onclick="navigator.clipboard.writeText(document.getElementById('referral-link').value).then(() => alert('Link copiat!'))">\n                                    Copiaza\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                    `:""}\n\n                    <div class="points-section">\n                        <div class="points-section-title">\n                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>\n                            </svg>\n                            Istoric recent\n                        </div>\n                        ${a.data&&a.data.length>0?`\n                            ${a.data.map(e=>`\n                                <div class="points-history-item">\n                                    <div class="points-history-info">\n                                        <div class="points-history-type">${e.display_type||e.type}</div>\n                                        <div class="points-history-date">${this.formatDate(e.created_at)}</div>\n                                    </div>\n                                    <div class="points-history-amount ${e.points>0?"earned":"spent"}">\n                                        ${e.points>0?"+":""}${e.points.toLocaleString()} ${1===e.points||-1===e.points?l:o}\n                                    </div>\n                                </div>\n                            `).join("")}\n                            <a href="#/account/points-history" class="view-all-link">Vezi tot istoricul</a>\n                        `:`\n                            <p style="color: var(--sleek-text-muted); text-align: center; padding: 2rem;">\n                                Nu ai inca tranzactii. Plaseaza o comanda pentru a castiga ${o}!\n                            </p>\n                        `}\n                    </div>\n                </div>\n            `}catch(t){e.innerHTML='\n                <div class="gamification-page" style="text-align: center; padding: 3rem;">\n                    <p style="color: var(--sleek-text-muted);">Nu am putut incarca informatiile despre puncte.</p>\n                </div>\n            '}}async renderPointsHistory(){if(!this.isLoggedIn())return void(window.location.hash="/login");const e=document.getElementById("points-history-container");e&&(e.innerHTML='\n            <div class="gamification-page">\n                <div class="gamification-loading">\n                    <div class="sleek-spinner"></div>\n                </div>\n            </div>\n        ',await this.loadPointsHistoryContent(e))}async loadPointsHistoryContent(e){if(this.apiClient)try{this.setAuthHeaders();const t=(await this.apiClient.get("/gamification/history?per_page=50")).data.data,n=this.config,i=(null==n?void 0:n.points_name)||"puncte",r=(null==n?void 0:n.points_name_singular)||"punct";e.innerHTML=`\n                <style>\n                    .gamification-page {\n                        max-width: 800px;\n                        margin: 0 auto;\n                        padding: 2rem 1rem;\n                    }\n\n                    .history-header {\n                        display: flex;\n                        align-items: center;\n                        gap: 1rem;\n                        margin-bottom: 2rem;\n                    }\n\n                    .back-btn {\n                        display: flex;\n                        align-items: center;\n                        justify-content: center;\n                        width: 40px;\n                        height: 40px;\n                        background: var(--sleek-surface);\n                        border: 1px solid var(--sleek-border);\n                        border-radius: var(--sleek-radius-sm);\n                        color: var(--sleek-text);\n                        text-decoration: none;\n                        transition: var(--sleek-transition);\n                    }\n\n                    .back-btn:hover {\n                        background: var(--sleek-surface-elevated);\n                    }\n\n                    .history-list {\n                        background: var(--sleek-surface);\n                        border: 1px solid var(--sleek-border);\n                        border-radius: var(--sleek-radius);\n                        overflow: hidden;\n                    }\n\n                    .history-item {\n                        display: flex;\n                        justify-content: space-between;\n                        align-items: center;\n                        padding: 1rem 1.5rem;\n                        border-bottom: 1px solid var(--sleek-border);\n                    }\n\n                    .history-item:last-child {\n                        border-bottom: none;\n                    }\n\n                    .history-info {\n                        flex: 1;\n                    }\n\n                    .history-type {\n                        font-weight: 500;\n                        color: var(--sleek-text);\n                        margin-bottom: 0.25rem;\n                    }\n\n                    .history-date {\n                        font-size: 0.8rem;\n                        color: var(--sleek-text-muted);\n                    }\n\n                    .history-amount {\n                        font-weight: 700;\n                        font-size: 1.1rem;\n                    }\n\n                    .history-amount.earned {\n                        color: var(--sleek-success);\n                    }\n\n                    .history-amount.spent {\n                        color: var(--sleek-error);\n                    }\n                </style>\n\n                <div class="gamification-page">\n                    <div class="history-header">\n                        <a href="#/account/points" class="back-btn">\n                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>\n                            </svg>\n                        </a>\n                        <h1 class="sleek-page-title">Istoric ${i}</h1>\n                    </div>\n\n                    <div class="history-list">\n                        ${t.data&&t.data.length>0?t.data.map(e=>`\n                            <div class="history-item">\n                                <div class="history-info">\n                                    <div class="history-type">${e.display_type||e.type}</div>\n                                    <div class="history-date">${this.formatDate(e.created_at)}</div>\n                                </div>\n                                <div class="history-amount ${e.points>0?"earned":"spent"}">\n                                    ${e.points>0?"+":""}${e.points.toLocaleString()} ${1===Math.abs(e.points)?r:i}\n                                </div>\n                            </div>\n                        `).join(""):'\n                            <div style="padding: 3rem; text-align: center; color: var(--sleek-text-muted);">\n                                Nu ai inca tranzactii.\n                            </div>\n                        '}\n                    </div>\n                </div>\n            `}catch(t){e.innerHTML='\n                <div class="gamification-page" style="text-align: center; padding: 3rem;">\n                    <p style="color: var(--sleek-text-muted);">Nu am putut incarca istoricul.</p>\n                </div>\n            '}}async renderReferralPage(){if(!this.isLoggedIn())return void(window.location.hash="/login");const e=document.getElementById("referral-container");e&&(e.innerHTML='\n            <div class="gamification-page">\n                <div class="gamification-loading">\n                    <div class="sleek-spinner"></div>\n                </div>\n            </div>\n        ',await this.loadReferralPageContent(e))}async loadReferralPageContent(e){if(this.apiClient)try{this.setAuthHeaders();const t=(await this.apiClient.get("/gamification/referral")).data.data,n=this.config,i=(null==n?void 0:n.points_name)||"puncte";e.innerHTML=`\n                <style>\n                    .gamification-page {\n                        max-width: 600px;\n                        margin: 0 auto;\n                        padding: 2rem 1rem;\n                    }\n\n                    .referral-hero {\n                        background: linear-gradient(135deg, var(--sleek-gradient-start), var(--sleek-gradient-end));\n                        border-radius: var(--sleek-radius);\n                        padding: 2rem;\n                        text-align: center;\n                        color: white;\n                        margin-bottom: 2rem;\n                    }\n\n                    .referral-hero h2 {\n                        font-size: 1.5rem;\n                        font-weight: 700;\n                        margin-bottom: 0.5rem;\n                    }\n\n                    .referral-hero p {\n                        opacity: 0.9;\n                    }\n\n                    .referral-stats {\n                        display: grid;\n                        grid-template-columns: repeat(2, 1fr);\n                        gap: 1rem;\n                        margin-bottom: 2rem;\n                    }\n\n                    .referral-stat {\n                        background: var(--sleek-surface);\n                        border: 1px solid var(--sleek-border);\n                        border-radius: var(--sleek-radius);\n                        padding: 1.5rem;\n                        text-align: center;\n                    }\n\n                    .referral-stat-value {\n                        font-size: 2rem;\n                        font-weight: 700;\n                        color: var(--sleek-text);\n                    }\n\n                    .referral-stat-label {\n                        font-size: 0.9rem;\n                        color: var(--sleek-text-muted);\n                    }\n\n                    .share-section {\n                        background: var(--sleek-surface);\n                        border: 1px solid var(--sleek-border);\n                        border-radius: var(--sleek-radius);\n                        padding: 1.5rem;\n                    }\n\n                    .share-title {\n                        font-weight: 600;\n                        color: var(--sleek-text);\n                        margin-bottom: 1rem;\n                    }\n\n                    .share-link-box {\n                        display: flex;\n                        gap: 0.5rem;\n                    }\n\n                    .share-link-box input {\n                        flex: 1;\n                        padding: 0.875rem 1rem;\n                        background: var(--sleek-surface-elevated);\n                        border: 1px solid var(--sleek-border);\n                        border-radius: var(--sleek-radius-sm);\n                        color: var(--sleek-text);\n                        font-size: 0.9rem;\n                    }\n\n                    .share-link-box button {\n                        padding: 0.875rem 1.5rem;\n                        background: linear-gradient(135deg, var(--sleek-gradient-start), var(--sleek-gradient-end));\n                        color: white;\n                        border: none;\n                        border-radius: var(--sleek-radius-sm);\n                        font-weight: 600;\n                        cursor: pointer;\n                        transition: var(--sleek-transition);\n                    }\n\n                    .share-link-box button:hover {\n                        transform: translateY(-2px);\n                    }\n\n                    .share-buttons {\n                        display: flex;\n                        gap: 0.75rem;\n                        margin-top: 1rem;\n                        justify-content: center;\n                    }\n\n                    .share-btn {\n                        display: flex;\n                        align-items: center;\n                        justify-content: center;\n                        width: 44px;\n                        height: 44px;\n                        border-radius: 50%;\n                        color: white;\n                        transition: var(--sleek-transition);\n                    }\n\n                    .share-btn:hover {\n                        transform: scale(1.1);\n                    }\n\n                    .share-btn.facebook { background: #1877F2; }\n                    .share-btn.whatsapp { background: #25D366; }\n                    .share-btn.twitter { background: #1DA1F2; }\n                </style>\n\n                <div class="gamification-page">\n                    <div class="referral-hero">\n                        <h2>Invita prieteni, castiga ${i}!</h2>\n                        <p>Primesti <strong>${(null==n?void 0:n.referral_bonus_points)||0} ${i}</strong> pentru fiecare prieten care face o comanda.</p>\n                    </div>\n\n                    <div class="referral-stats">\n                        <div class="referral-stat">\n                            <div class="referral-stat-value">${t.referral_count||0}</div>\n                            <div class="referral-stat-label">Prieteni invitati</div>\n                        </div>\n                        <div class="referral-stat">\n                            <div class="referral-stat-value">${t.referral_points_earned||0}</div>\n                            <div class="referral-stat-label">${i.charAt(0).toUpperCase()+i.slice(1)} castigate</div>\n                        </div>\n                    </div>\n\n                    <div class="share-section">\n                        <div class="share-title">Linkul tau de referral</div>\n                        <div class="share-link-box">\n                            <input type="text" id="referral-link-share" value="${t.referral_link||""}" readonly>\n                            <button onclick="navigator.clipboard.writeText(document.getElementById('referral-link-share').value).then(() => alert('Link copiat!'))">\n                                Copiaza\n                            </button>\n                        </div>\n                        <div class="share-buttons">\n                            <a href="https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(t.referral_link||"")}" target="_blank" class="share-btn facebook">\n                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>\n                            </a>\n                            <a href="https://wa.me/?text=${encodeURIComponent("Cumpara bilete aici: "+(t.referral_link||""))}" target="_blank" class="share-btn whatsapp">\n                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>\n                            </a>\n                            <a href="https://twitter.com/intent/tweet?text=${encodeURIComponent("Cumpara bilete aici: "+(t.referral_link||""))}" target="_blank" class="share-btn twitter">\n                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>\n                            </a>\n                        </div>\n                    </div>\n                </div>\n            `}catch(t){e.innerHTML='\n                <div class="gamification-page" style="text-align: center; padding: 3rem;">\n                    <p style="color: var(--sleek-text-muted);">Nu am putut incarca informatiile despre referral.</p>\n                </div>\n            '}}async getAccountPointsWidget(){if(!this.isEnabled()||!this.isLoggedIn())return"";try{const e=await this.getBalance();if(!e)return"";const t=this.config,n=(null==t?void 0:t.points_name)||"puncte";null==t||t.point_value_cents,null==t||t.currency;return`\n                <a href="#/account/points" class="sleek-menu-item">\n                    <div class="sleek-menu-icon" style="background: linear-gradient(135deg, #f59e0b, #d97706);">\n                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>\n                        </svg>\n                    </div>\n                    <div class="sleek-menu-content">\n                        <span class="sleek-menu-title">${n.charAt(0).toUpperCase()+n.slice(1)}le mele</span>\n                        <span class="sleek-menu-badge">${e.current_balance.toLocaleString()}</span>\n                    </div>\n                    <svg class="sleek-menu-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>\n                    </svg>\n                </a>\n            `}catch(e){return""}}async getCartPointsWidget(e){if(!this.isEnabled()||!this.isLoggedIn())return"";try{const t=await this.getBalance();if(!t||t.current_balance<=0)return"";const n=this.config,i=(null==n?void 0:n.points_name)||"puncte",r=((null==n?void 0:n.point_value_cents)||1)/100,a=(null==n?void 0:n.currency)||"RON",s=(null==n?void 0:n.min_redeem_points)||0,o=(null==n?void 0:n.max_redeem_percentage)||100,l=t.current_balance,d=Math.floor(e*o/100/((null==n?void 0:n.point_value_cents)||1)),c=Math.min(l,d);if(c<s)return"";const p=c*r;return`\n                <div class="points-redemption-widget" style="background: var(--sleek-surface); border: 1px solid var(--sleek-border); border-radius: var(--sleek-radius); padding: 1rem; margin-bottom: 1rem;">\n                    <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.75rem;">\n                        <svg class="w-5 h-5" style="color: #f59e0b;" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>\n                        </svg>\n                        <span style="font-weight: 600; color: var(--sleek-text);">Ai ${t.current_balance.toLocaleString()} ${i}</span>\n                    </div>\n                    <div style="display: flex; gap: 0.5rem; align-items: center;">\n                        <input type="number" id="points-to-redeem" min="0" max="${c}" value="0"\n                            style="flex: 1; padding: 0.625rem; background: var(--sleek-surface-elevated); border: 1px solid var(--sleek-border); border-radius: var(--sleek-radius-sm); color: var(--sleek-text);">\n                        <button onclick="window.applyPoints()" style="padding: 0.625rem 1rem; background: linear-gradient(135deg, #f59e0b, #d97706); color: white; border: none; border-radius: var(--sleek-radius-sm); font-weight: 600; cursor: pointer;">\n                            Aplica\n                        </button>\n                    </div>\n                    <p style="font-size: 0.8rem; color: var(--sleek-text-muted); margin-top: 0.5rem;">\n                        Poti folosi maxim ${c.toLocaleString()} ${i} (discount ${this.formatCurrency(p,a)})\n                    </p>\n                </div>\n            `}catch(t){return""}}calculatePointsEarned(e){if(!this.config||!this.config.is_active)return 0;const t=this.config.earn_percentage||0;if(e<(this.config.min_order_cents_for_earning||0))return 0;const n=(this.config.earn_on_subtotal,e);return Math.floor(n*t/100)}}},Symbol.toStringTag,{value:"Module"}))}();
